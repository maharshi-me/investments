var TN=Object.defineProperty;var iE=i=>{throw TypeError(i)};var RN=(i,e,t)=>e in i?TN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Te=(i,e,t)=>RN(i,typeof e!="symbol"?e+"":e,t),qy=(i,e,t)=>e.has(i)||iE("Cannot "+t);var u=(i,e,t)=>(qy(i,e,"read from private field"),t?t.call(i):e.get(i)),k=(i,e,t)=>e.has(i)?iE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),C=(i,e,t,n)=>(qy(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),M=(i,e,t)=>(qy(i,e,"access private method"),t);var vn=(i,e,t,n)=>({set _(s){C(i,e,s,t)},get _(){return u(i,e,n)}});function PN(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function A1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qy={exports:{}},vd={},Jy={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function kN(){if(oE)return $e;oE=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function E(F,G,le){this.props=F,this.context=G,this.refs=x,this.updater=le||w}E.prototype.isReactComponent={},E.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=E.prototype;function R(F,G,le){this.props=F,this.context=G,this.refs=x,this.updater=le||w}var N=R.prototype=new _;N.constructor=R,b(N,E.prototype),N.isPureReactComponent=!0;var I=Array.isArray,D=Object.prototype.hasOwnProperty,z={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function W(F,G,le){var Ee,Me={},Se=null,ye=null;if(G!=null)for(Ee in G.ref!==void 0&&(ye=G.ref),G.key!==void 0&&(Se=""+G.key),G)D.call(G,Ee)&&!O.hasOwnProperty(Ee)&&(Me[Ee]=G[Ee]);var Ne=arguments.length-2;if(Ne===1)Me.children=le;else if(1<Ne){for(var Fe=Array(Ne),bt=0;bt<Ne;bt++)Fe[bt]=arguments[bt+2];Me.children=Fe}if(F&&F.defaultProps)for(Ee in Ne=F.defaultProps,Ne)Me[Ee]===void 0&&(Me[Ee]=Ne[Ee]);return{$$typeof:i,type:F,key:Se,ref:ye,props:Me,_owner:z.current}}function Y(F,G){return{$$typeof:i,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function te(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function se(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(le){return G[le]})}var J=/\/+/g;function oe(F,G){return typeof F=="object"&&F!==null&&F.key!=null?se(""+F.key):G.toString(36)}function q(F,G,le,Ee,Me){var Se=typeof F;(Se==="undefined"||Se==="boolean")&&(F=null);var ye=!1;if(F===null)ye=!0;else switch(Se){case"string":case"number":ye=!0;break;case"object":switch(F.$$typeof){case i:case e:ye=!0}}if(ye)return ye=F,Me=Me(ye),F=Ee===""?"."+oe(ye,0):Ee,I(Me)?(le="",F!=null&&(le=F.replace(J,"$&/")+"/"),q(Me,G,le,"",function(bt){return bt})):Me!=null&&(te(Me)&&(Me=Y(Me,le+(!Me.key||ye&&ye.key===Me.key?"":(""+Me.key).replace(J,"$&/")+"/")+F)),G.push(Me)),1;if(ye=0,Ee=Ee===""?".":Ee+":",I(F))for(var Ne=0;Ne<F.length;Ne++){Se=F[Ne];var Fe=Ee+oe(Se,Ne);ye+=q(Se,G,le,Fe,Me)}else if(Fe=v(F),typeof Fe=="function")for(F=Fe.call(F),Ne=0;!(Se=F.next()).done;)Se=Se.value,Fe=Ee+oe(Se,Ne++),ye+=q(Se,G,le,Fe,Me);else if(Se==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ye}function ve(F,G,le){if(F==null)return F;var Ee=[],Me=0;return q(F,Ee,"","",function(Se){return G.call(le,Se,Me++)}),Ee}function K(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(le){(F._status===0||F._status===-1)&&(F._status=1,F._result=le)},function(le){(F._status===0||F._status===-1)&&(F._status=2,F._result=le)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var Z={current:null},V={transition:null},X={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:V,ReactCurrentOwner:z};function Q(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ve,forEach:function(F,G,le){ve(F,function(){G.apply(this,arguments)},le)},count:function(F){var G=0;return ve(F,function(){G++}),G},toArray:function(F){return ve(F,function(G){return G})||[]},only:function(F){if(!te(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},$e.Component=E,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=R,$e.StrictMode=n,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,$e.act=Q,$e.cloneElement=function(F,G,le){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ee=b({},F.props),Me=F.key,Se=F.ref,ye=F._owner;if(G!=null){if(G.ref!==void 0&&(Se=G.ref,ye=z.current),G.key!==void 0&&(Me=""+G.key),F.type&&F.type.defaultProps)var Ne=F.type.defaultProps;for(Fe in G)D.call(G,Fe)&&!O.hasOwnProperty(Fe)&&(Ee[Fe]=G[Fe]===void 0&&Ne!==void 0?Ne[Fe]:G[Fe])}var Fe=arguments.length-2;if(Fe===1)Ee.children=le;else if(1<Fe){Ne=Array(Fe);for(var bt=0;bt<Fe;bt++)Ne[bt]=arguments[bt+2];Ee.children=Ne}return{$$typeof:i,type:F.type,key:Me,ref:Se,props:Ee,_owner:ye}},$e.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},$e.createElement=W,$e.createFactory=function(F){var G=W.bind(null,F);return G.type=F,G},$e.createRef=function(){return{current:null}},$e.forwardRef=function(F){return{$$typeof:c,render:F}},$e.isValidElement=te,$e.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:K}},$e.memo=function(F,G){return{$$typeof:f,type:F,compare:G===void 0?null:G}},$e.startTransition=function(F){var G=V.transition;V.transition={};try{F()}finally{V.transition=G}},$e.unstable_act=Q,$e.useCallback=function(F,G){return Z.current.useCallback(F,G)},$e.useContext=function(F){return Z.current.useContext(F)},$e.useDebugValue=function(){},$e.useDeferredValue=function(F){return Z.current.useDeferredValue(F)},$e.useEffect=function(F,G){return Z.current.useEffect(F,G)},$e.useId=function(){return Z.current.useId()},$e.useImperativeHandle=function(F,G,le){return Z.current.useImperativeHandle(F,G,le)},$e.useInsertionEffect=function(F,G){return Z.current.useInsertionEffect(F,G)},$e.useLayoutEffect=function(F,G){return Z.current.useLayoutEffect(F,G)},$e.useMemo=function(F,G){return Z.current.useMemo(F,G)},$e.useReducer=function(F,G,le){return Z.current.useReducer(F,G,le)},$e.useRef=function(F){return Z.current.useRef(F)},$e.useState=function(F){return Z.current.useState(F)},$e.useSyncExternalStore=function(F,G,le){return Z.current.useSyncExternalStore(F,G,le)},$e.useTransition=function(){return Z.current.useTransition()},$e.version="18.3.1",$e}var aE;function d0(){return aE||(aE=1,Jy.exports=kN()),Jy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function MN(){if(lE)return vd;lE=1;var i=d0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var p,g={},v=null,w=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(p in h)n.call(h,p)&&!a.hasOwnProperty(p)&&(g[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:e,type:c,key:v,ref:w,props:g,_owner:s.current}}return vd.Fragment=t,vd.jsx=l,vd.jsxs=l,vd}var cE;function NN(){return cE||(cE=1,Qy.exports=MN()),Qy.exports}var T=NN(),S=d0();const Sn=A1(S),IN=PN({__proto__:null,default:Sn},[S]);var em={},Zy={exports:{}},In={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function LN(){return uE||(uE=1,function(i){function e(V,X){var Q=V.length;V.push(X);e:for(;0<Q;){var F=Q-1>>>1,G=V[F];if(0<s(G,X))V[F]=X,V[Q]=G,Q=F;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var X=V[0],Q=V.pop();if(Q!==X){V[0]=Q;e:for(var F=0,G=V.length,le=G>>>1;F<le;){var Ee=2*(F+1)-1,Me=V[Ee],Se=Ee+1,ye=V[Se];if(0>s(Me,Q))Se<G&&0>s(ye,Me)?(V[F]=ye,V[Se]=Q,F=Se):(V[F]=Me,V[Ee]=Q,F=Ee);else if(Se<G&&0>s(ye,Q))V[F]=ye,V[Se]=Q,F=Se;else break e}}return X}function s(V,X){var Q=V.sortIndex-X.sortIndex;return Q!==0?Q:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();i.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,g=null,v=3,w=!1,b=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var X=t(f);X!==null;){if(X.callback===null)n(f);else if(X.startTime<=V)n(f),X.sortIndex=X.expirationTime,e(h,X);else break;X=t(f)}}function I(V){if(x=!1,N(V),!b)if(t(h)!==null)b=!0,K(D);else{var X=t(f);X!==null&&Z(I,X.startTime-V)}}function D(V,X){b=!1,x&&(x=!1,_(W),W=-1),w=!0;var Q=v;try{for(N(X),g=t(h);g!==null&&(!(g.expirationTime>X)||V&&!se());){var F=g.callback;if(typeof F=="function"){g.callback=null,v=g.priorityLevel;var G=F(g.expirationTime<=X);X=i.unstable_now(),typeof G=="function"?g.callback=G:g===t(h)&&n(h),N(X)}else n(h);g=t(h)}if(g!==null)var le=!0;else{var Ee=t(f);Ee!==null&&Z(I,Ee.startTime-X),le=!1}return le}finally{g=null,v=Q,w=!1}}var z=!1,O=null,W=-1,Y=5,te=-1;function se(){return!(i.unstable_now()-te<Y)}function J(){if(O!==null){var V=i.unstable_now();te=V;var X=!0;try{X=O(!0,V)}finally{X?oe():(z=!1,O=null)}}else z=!1}var oe;if(typeof R=="function")oe=function(){R(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ve=q.port2;q.port1.onmessage=J,oe=function(){ve.postMessage(null)}}else oe=function(){E(J,0)};function K(V){O=V,z||(z=!0,oe())}function Z(V,X){W=E(function(){V(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){b||w||(b=!0,K(D))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(V){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var Q=v;v=X;try{return V()}finally{v=Q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=v;v=V;try{return X()}finally{v=Q}},i.unstable_scheduleCallback=function(V,X,Q){var F=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?F+Q:F):Q=F,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,V={id:p++,callback:X,priorityLevel:V,startTime:Q,expirationTime:G,sortIndex:-1},Q>F?(V.sortIndex=Q,e(f,V),t(h)===null&&V===t(f)&&(x?(_(W),W=-1):x=!0,Z(I,Q-F))):(V.sortIndex=G,e(h,V),b||w||(b=!0,K(D))),V},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(V){var X=v;return function(){var Q=v;v=X;try{return V.apply(this,arguments)}finally{v=Q}}}}(tw)),tw}var dE;function DN(){return dE||(dE=1,ew.exports=LN()),ew.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function ON(){if(hE)return In;hE=1;var i=d0(),e=DN();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(r,o){l(r,o),l(r+"Capture",o)}function l(r,o){for(s[r]=o,r=0;r<o.length;r++)n.add(o[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(r){return h.call(g,r)?!0:h.call(p,r)?!1:f.test(r)?g[r]=!0:(p[r]=!0,!1)}function w(r,o,d,m){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,o,d,m){if(o===null||typeof o>"u"||w(r,o,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(r,o,d,m,y,A,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=r,this.type=o,this.sanitizeURL=A,this.removeEmptyString=P}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];E[o]=new x(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(_,R);E[o]=new x(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(_,R);E[o]=new x(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(_,R);E[o]=new x(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function N(r,o,d,m){var y=E.hasOwnProperty(o)?E[o]:null;(y!==null?y.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,d,y,m)&&(d=null),m||y===null?v(o)&&(d===null?r.removeAttribute(o):r.setAttribute(o,""+d)):y.mustUseProperty?r[y.propertyName]=d===null?y.type===3?!1:"":d:(o=y.attributeName,m=y.attributeNamespace,d===null?r.removeAttribute(o):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?r.setAttributeNS(m,o,d):r.setAttribute(o,d))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),se=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),V=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,F;function G(r){if(F===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+r}var le=!1;function Ee(r,o){if(!r||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(U){var m=U}Reflect.construct(r,[],o)}else{try{o.call()}catch(U){m=U}r.call(o.prototype)}else{try{throw Error()}catch(U){m=U}r()}}catch(U){if(U&&m&&typeof U.stack=="string"){for(var y=U.stack.split(`
`),A=m.stack.split(`
`),P=y.length-1,L=A.length-1;1<=P&&0<=L&&y[P]!==A[L];)L--;for(;1<=P&&0<=L;P--,L--)if(y[P]!==A[L]){if(P!==1||L!==1)do if(P--,L--,0>L||y[P]!==A[L]){var j=`
`+y[P].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=P&&0<=L);break}}}finally{le=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?G(r):""}function Me(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case z:return"Portal";case Y:return"Profiler";case W:return"StrictMode";case oe:return"Suspense";case q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case se:return(r.displayName||"Context")+".Consumer";case te:return(r._context.displayName||"Context")+".Provider";case J:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ve:return o=r.displayName||null,o!==null?o:Se(r.type)||"Memo";case K:o=r._payload,r=r._init;try{return Se(r(o))}catch{}}return null}function ye(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(o);case 8:return o===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bt(r){var o=Fe(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,A=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){m=""+P,A.call(this,P)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ko(r){r._valueTracker||(r._valueTracker=bt(r))}function ku(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return r&&(m=Fe(r)?r.checked?"true":"false":r.value),r=m,r!==d?(o.setValue(r),!0):!1}function os(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Tl(r,o){var d=o.checked;return Q({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function Uf(r,o){var d=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;d=Ne(o.value!=null?o.value:d),r._wrapperState={initialChecked:m,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wf(r,o){o=o.checked,o!=null&&N(r,"checked",o,!1)}function Mu(r,o){Wf(r,o);var d=Ne(o.value),m=o.type;if(d!=null)m==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(m==="submit"||m==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Li(r,o.type,d):o.hasOwnProperty("defaultValue")&&Li(r,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Vf(r,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,d||o===r.value||(r.value=o),r.defaultValue=o}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function Li(r,o,d){(o!=="number"||os(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var Nu=Array.isArray;function Rl(r,o,d,m){if(r=r.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<r.length;d++)y=o.hasOwnProperty("$"+r[d].value),r[d].selected!==y&&(r[d].selected=y),y&&m&&(r[d].defaultSelected=!0)}else{for(d=""+Ne(d),o=null,y=0;y<r.length;y++){if(r[y].value===d){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function ov(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function mx(r,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(t(92));if(Nu(d)){if(1<d.length)throw Error(t(93));d=d[0]}o=d}o==null&&(o=""),d=o}r._wrapperState={initialValue:Ne(d)}}function gx(r,o){var d=Ne(o.value),m=Ne(o.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),o.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),m!=null&&(r.defaultValue=""+m)}function vx(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function yx(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?yx(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Gf,wx=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,m,y){MSApp.execUnsafeLocalFunction(function(){return r(o,d,m,y)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Gf=Gf||document.createElement("div"),Gf.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Gf.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Iu(r,o){if(o){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=o;return}}r.textContent=o}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nk=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(r){Nk.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Lu[o]=Lu[r]})});function bx(r,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Lu.hasOwnProperty(r)&&Lu[r]?(""+o).trim():o+"px"}function xx(r,o){r=r.style;for(var d in o)if(o.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=bx(d,o[d],m);d==="float"&&(d="cssFloat"),m?r.setProperty(d,y):r[d]=y}}var Ik=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(r,o){if(o){if(Ik[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function cv(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function dv(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hv=null,Pl=null,kl=null;function Ax(r){if(r=nd(r)){if(typeof hv!="function")throw Error(t(280));var o=r.stateNode;o&&(o=mp(o),hv(r.stateNode,r.type,o))}}function Sx(r){Pl?kl?kl.push(r):kl=[r]:Pl=r}function Ex(){if(Pl){var r=Pl,o=kl;if(kl=Pl=null,Ax(r),o)for(r=0;r<o.length;r++)Ax(o[r])}}function _x(r,o){return r(o)}function Cx(){}var fv=!1;function Tx(r,o,d){if(fv)return r(o,d);fv=!0;try{return _x(r,o,d)}finally{fv=!1,(Pl!==null||kl!==null)&&(Cx(),Ex())}}function Du(r,o){var d=r.stateNode;if(d===null)return null;var m=mp(d);if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(t(231,o,typeof d));return d}var pv=!1;if(c)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){pv=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{pv=!1}function Lk(r,o,d,m,y,A,P,L,j){var U=Array.prototype.slice.call(arguments,3);try{o.apply(d,U)}catch(ne){this.onError(ne)}}var Fu=!1,Xf=null,Kf=!1,mv=null,Dk={onError:function(r){Fu=!0,Xf=r}};function Ok(r,o,d,m,y,A,P,L,j){Fu=!1,Xf=null,Lk.apply(Dk,arguments)}function Fk(r,o,d,m,y,A,P,L,j){if(Ok.apply(this,arguments),Fu){if(Fu){var U=Xf;Fu=!1,Xf=null}else throw Error(t(198));Kf||(Kf=!0,mv=U)}}function Yo(r){var o=r,d=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(d=o.return),r=o.return;while(r)}return o.tag===3?d:null}function Rx(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Px(r){if(Yo(r)!==r)throw Error(t(188))}function jk(r){var o=r.alternate;if(!o){if(o=Yo(r),o===null)throw Error(t(188));return o!==r?null:r}for(var d=r,m=o;;){var y=d.return;if(y===null)break;var A=y.alternate;if(A===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===A.child){for(A=y.child;A;){if(A===d)return Px(y),r;if(A===m)return Px(y),o;A=A.sibling}throw Error(t(188))}if(d.return!==m.return)d=y,m=A;else{for(var P=!1,L=y.child;L;){if(L===d){P=!0,d=y,m=A;break}if(L===m){P=!0,m=y,d=A;break}L=L.sibling}if(!P){for(L=A.child;L;){if(L===d){P=!0,d=A,m=y;break}if(L===m){P=!0,m=A,d=y;break}L=L.sibling}if(!P)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?r:o}function kx(r){return r=jk(r),r!==null?Mx(r):null}function Mx(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Mx(r);if(o!==null)return o;r=r.sibling}return null}var Nx=e.unstable_scheduleCallback,Ix=e.unstable_cancelCallback,$k=e.unstable_shouldYield,zk=e.unstable_requestPaint,xt=e.unstable_now,Bk=e.unstable_getCurrentPriorityLevel,gv=e.unstable_ImmediatePriority,Lx=e.unstable_UserBlockingPriority,Yf=e.unstable_NormalPriority,Hk=e.unstable_LowPriority,Dx=e.unstable_IdlePriority,qf=null,as=null;function Uk(r){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(qf,r,void 0,(r.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:Gk,Wk=Math.log,Vk=Math.LN2;function Gk(r){return r>>>=0,r===0?32:31-(Wk(r)/Vk|0)|0}var Qf=64,Jf=4194304;function ju(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zf(r,o){var d=r.pendingLanes;if(d===0)return 0;var m=0,y=r.suspendedLanes,A=r.pingedLanes,P=d&268435455;if(P!==0){var L=P&~y;L!==0?m=ju(L):(A&=P,A!==0&&(m=ju(A)))}else P=d&~y,P!==0?m=ju(P):A!==0&&(m=ju(A));if(m===0)return 0;if(o!==0&&o!==m&&!(o&y)&&(y=m&-m,A=o&-o,y>=A||y===16&&(A&4194240)!==0))return o;if(m&4&&(m|=d&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=m;0<o;)d=31-kr(o),y=1<<d,m|=r[d],o&=~y;return m}function Xk(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kk(r,o){for(var d=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,A=r.pendingLanes;0<A;){var P=31-kr(A),L=1<<P,j=y[P];j===-1?(!(L&d)||L&m)&&(y[P]=Xk(L,o)):j<=o&&(r.expiredLanes|=L),A&=~L}}function vv(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ox(){var r=Qf;return Qf<<=1,!(Qf&4194240)&&(Qf=64),r}function yv(r){for(var o=[],d=0;31>d;d++)o.push(r);return o}function $u(r,o,d){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-kr(o),r[o]=d}function Yk(r,o){var d=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var m=r.eventTimes;for(r=r.expirationTimes;0<d;){var y=31-kr(d),A=1<<y;o[y]=0,m[y]=-1,r[y]=-1,d&=~A}}function wv(r,o){var d=r.entangledLanes|=o;for(r=r.entanglements;d;){var m=31-kr(d),y=1<<m;y&o|r[m]&o&&(r[m]|=o),d&=~y}}var Ke=0;function Fx(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var jx,bv,$x,zx,Bx,xv=!1,ep=[],Di=null,Oi=null,Fi=null,zu=new Map,Bu=new Map,ji=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(r,o){switch(r){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":zu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(o.pointerId)}}function Hu(r,o,d,m,y,A){return r===null||r.nativeEvent!==A?(r={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:A,targetContainers:[y]},o!==null&&(o=nd(o),o!==null&&bv(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function Qk(r,o,d,m,y){switch(o){case"focusin":return Di=Hu(Di,r,o,d,m,y),!0;case"dragenter":return Oi=Hu(Oi,r,o,d,m,y),!0;case"mouseover":return Fi=Hu(Fi,r,o,d,m,y),!0;case"pointerover":var A=y.pointerId;return zu.set(A,Hu(zu.get(A)||null,r,o,d,m,y)),!0;case"gotpointercapture":return A=y.pointerId,Bu.set(A,Hu(Bu.get(A)||null,r,o,d,m,y)),!0}return!1}function Ux(r){var o=qo(r.target);if(o!==null){var d=Yo(o);if(d!==null){if(o=d.tag,o===13){if(o=Rx(d),o!==null){r.blockedOn=o,Bx(r.priority,function(){$x(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function tp(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var d=Sv(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);uv=m,d.target.dispatchEvent(m),uv=null}else return o=nd(d),o!==null&&bv(o),r.blockedOn=d,!1;o.shift()}return!0}function Wx(r,o,d){tp(r)&&d.delete(o)}function Jk(){xv=!1,Di!==null&&tp(Di)&&(Di=null),Oi!==null&&tp(Oi)&&(Oi=null),Fi!==null&&tp(Fi)&&(Fi=null),zu.forEach(Wx),Bu.forEach(Wx)}function Uu(r,o){r.blockedOn===o&&(r.blockedOn=null,xv||(xv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jk)))}function Wu(r){function o(y){return Uu(y,r)}if(0<ep.length){Uu(ep[0],r);for(var d=1;d<ep.length;d++){var m=ep[d];m.blockedOn===r&&(m.blockedOn=null)}}for(Di!==null&&Uu(Di,r),Oi!==null&&Uu(Oi,r),Fi!==null&&Uu(Fi,r),zu.forEach(o),Bu.forEach(o),d=0;d<ji.length;d++)m=ji[d],m.blockedOn===r&&(m.blockedOn=null);for(;0<ji.length&&(d=ji[0],d.blockedOn===null);)Ux(d),d.blockedOn===null&&ji.shift()}var Ml=I.ReactCurrentBatchConfig,np=!0;function Zk(r,o,d,m){var y=Ke,A=Ml.transition;Ml.transition=null;try{Ke=1,Av(r,o,d,m)}finally{Ke=y,Ml.transition=A}}function eM(r,o,d,m){var y=Ke,A=Ml.transition;Ml.transition=null;try{Ke=4,Av(r,o,d,m)}finally{Ke=y,Ml.transition=A}}function Av(r,o,d,m){if(np){var y=Sv(r,o,d,m);if(y===null)zv(r,o,m,rp,d),Hx(r,m);else if(Qk(y,r,o,d,m))m.stopPropagation();else if(Hx(r,m),o&4&&-1<qk.indexOf(r)){for(;y!==null;){var A=nd(y);if(A!==null&&jx(A),A=Sv(r,o,d,m),A===null&&zv(r,o,m,rp,d),A===y)break;y=A}y!==null&&m.stopPropagation()}else zv(r,o,m,null,d)}}var rp=null;function Sv(r,o,d,m){if(rp=null,r=dv(m),r=qo(r),r!==null)if(o=Yo(r),o===null)r=null;else if(d=o.tag,d===13){if(r=Rx(o),r!==null)return r;r=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return rp=r,null}function Vx(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bk()){case gv:return 1;case Lx:return 4;case Yf:case Hk:return 16;case Dx:return 536870912;default:return 16}default:return 16}}var $i=null,Ev=null,sp=null;function Gx(){if(sp)return sp;var r,o=Ev,d=o.length,m,y="value"in $i?$i.value:$i.textContent,A=y.length;for(r=0;r<d&&o[r]===y[r];r++);var P=d-r;for(m=1;m<=P&&o[d-m]===y[A-m];m++);return sp=y.slice(r,1<m?1-m:void 0)}function ip(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function op(){return!0}function Xx(){return!1}function Bn(r){function o(d,m,y,A,P){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=A,this.target=P,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(d=r[L],this[L]=d?d(A):A[L]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?op:Xx,this.isPropagationStopped=Xx,this}return Q(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=op)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=op)},persist:function(){},isPersistent:op}),o}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_v=Bn(Nl),Vu=Q({},Nl,{view:0,detail:0}),tM=Bn(Vu),Cv,Tv,Gu,ap=Q({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pv,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gu&&(Gu&&r.type==="mousemove"?(Cv=r.screenX-Gu.screenX,Tv=r.screenY-Gu.screenY):Tv=Cv=0,Gu=r),Cv)},movementY:function(r){return"movementY"in r?r.movementY:Tv}}),Kx=Bn(ap),nM=Q({},ap,{dataTransfer:0}),rM=Bn(nM),sM=Q({},Vu,{relatedTarget:0}),Rv=Bn(sM),iM=Q({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),oM=Bn(iM),aM=Q({},Nl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),lM=Bn(aM),cM=Q({},Nl,{data:0}),Yx=Bn(cM),uM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fM(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=hM[r])?!!o[r]:!1}function Pv(){return fM}var pM=Q({},Vu,{key:function(r){if(r.key){var o=uM[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ip(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pv,charCode:function(r){return r.type==="keypress"?ip(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ip(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mM=Bn(pM),gM=Q({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qx=Bn(gM),vM=Q({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pv}),yM=Bn(vM),wM=Q({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),bM=Bn(wM),xM=Q({},ap,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),AM=Bn(xM),SM=[9,13,27,32],kv=c&&"CompositionEvent"in window,Xu=null;c&&"documentMode"in document&&(Xu=document.documentMode);var EM=c&&"TextEvent"in window&&!Xu,Qx=c&&(!kv||Xu&&8<Xu&&11>=Xu),Jx=" ",Zx=!1;function eA(r,o){switch(r){case"keyup":return SM.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tA(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Il=!1;function _M(r,o){switch(r){case"compositionend":return tA(o);case"keypress":return o.which!==32?null:(Zx=!0,Jx);case"textInput":return r=o.data,r===Jx&&Zx?null:r;default:return null}}function CM(r,o){if(Il)return r==="compositionend"||!kv&&eA(r,o)?(r=Gx(),sp=Ev=$i=null,Il=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qx&&o.locale!=="ko"?null:o.data;default:return null}}var TM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nA(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!TM[r.type]:o==="textarea"}function rA(r,o,d,m){Sx(m),o=hp(o,"onChange"),0<o.length&&(d=new _v("onChange","change",null,d,m),r.push({event:d,listeners:o}))}var Ku=null,Yu=null;function RM(r){xA(r,0)}function lp(r){var o=jl(r);if(ku(o))return r}function PM(r,o){if(r==="change")return o}var sA=!1;if(c){var Mv;if(c){var Nv="oninput"in document;if(!Nv){var iA=document.createElement("div");iA.setAttribute("oninput","return;"),Nv=typeof iA.oninput=="function"}Mv=Nv}else Mv=!1;sA=Mv&&(!document.documentMode||9<document.documentMode)}function oA(){Ku&&(Ku.detachEvent("onpropertychange",aA),Yu=Ku=null)}function aA(r){if(r.propertyName==="value"&&lp(Yu)){var o=[];rA(o,Yu,r,dv(r)),Tx(RM,o)}}function kM(r,o,d){r==="focusin"?(oA(),Ku=o,Yu=d,Ku.attachEvent("onpropertychange",aA)):r==="focusout"&&oA()}function MM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lp(Yu)}function NM(r,o){if(r==="click")return lp(o)}function IM(r,o){if(r==="input"||r==="change")return lp(o)}function LM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Mr=typeof Object.is=="function"?Object.is:LM;function qu(r,o){if(Mr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var d=Object.keys(r),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!h.call(o,y)||!Mr(r[y],o[y]))return!1}return!0}function lA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cA(r,o){var d=lA(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=o&&m>=o)return{node:d,offset:o-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lA(d)}}function uA(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?uA(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function dA(){for(var r=window,o=os();o instanceof r.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)r=o.contentWindow;else break;o=os(r.document)}return o}function Iv(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function DM(r){var o=dA(),d=r.focusedElem,m=r.selectionRange;if(o!==d&&d&&d.ownerDocument&&uA(d.ownerDocument.documentElement,d)){if(m!==null&&Iv(d)){if(o=m.start,r=m.end,r===void 0&&(r=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(r,d.value.length);else if(r=(o=d.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var y=d.textContent.length,A=Math.min(m.start,y);m=m.end===void 0?A:Math.min(m.end,y),!r.extend&&A>m&&(y=m,m=A,A=y),y=cA(d,A);var P=cA(d,m);y&&P&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==P.node||r.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),r.removeAllRanges(),A>m?(r.addRange(o),r.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),r.addRange(o)))}}for(o=[],r=d;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)r=o[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var OM=c&&"documentMode"in document&&11>=document.documentMode,Ll=null,Lv=null,Qu=null,Dv=!1;function hA(r,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Dv||Ll==null||Ll!==os(m)||(m=Ll,"selectionStart"in m&&Iv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Qu&&qu(Qu,m)||(Qu=m,m=hp(Lv,"onSelect"),0<m.length&&(o=new _v("onSelect","select",null,o,d),r.push({event:o,listeners:m}),o.target=Ll)))}function cp(r,o){var d={};return d[r.toLowerCase()]=o.toLowerCase(),d["Webkit"+r]="webkit"+o,d["Moz"+r]="moz"+o,d}var Dl={animationend:cp("Animation","AnimationEnd"),animationiteration:cp("Animation","AnimationIteration"),animationstart:cp("Animation","AnimationStart"),transitionend:cp("Transition","TransitionEnd")},Ov={},fA={};c&&(fA=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function up(r){if(Ov[r])return Ov[r];if(!Dl[r])return r;var o=Dl[r],d;for(d in o)if(o.hasOwnProperty(d)&&d in fA)return Ov[r]=o[d];return r}var pA=up("animationend"),mA=up("animationiteration"),gA=up("animationstart"),vA=up("transitionend"),yA=new Map,wA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(r,o){yA.set(r,o),a(o,[r])}for(var Fv=0;Fv<wA.length;Fv++){var jv=wA[Fv],FM=jv.toLowerCase(),jM=jv[0].toUpperCase()+jv.slice(1);zi(FM,"on"+jM)}zi(pA,"onAnimationEnd"),zi(mA,"onAnimationIteration"),zi(gA,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(vA,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$M=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function bA(r,o,d){var m=r.type||"unknown-event";r.currentTarget=d,Fk(m,o,void 0,r),r.currentTarget=null}function xA(r,o){o=(o&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],y=m.event;m=m.listeners;e:{var A=void 0;if(o)for(var P=m.length-1;0<=P;P--){var L=m[P],j=L.instance,U=L.currentTarget;if(L=L.listener,j!==A&&y.isPropagationStopped())break e;bA(y,L,U),A=j}else for(P=0;P<m.length;P++){if(L=m[P],j=L.instance,U=L.currentTarget,L=L.listener,j!==A&&y.isPropagationStopped())break e;bA(y,L,U),A=j}}}if(Kf)throw r=mv,Kf=!1,mv=null,r}function st(r,o){var d=o[Gv];d===void 0&&(d=o[Gv]=new Set);var m=r+"__bubble";d.has(m)||(AA(o,r,2,!1),d.add(m))}function $v(r,o,d){var m=0;o&&(m|=4),AA(d,r,m,o)}var dp="_reactListening"+Math.random().toString(36).slice(2);function Zu(r){if(!r[dp]){r[dp]=!0,n.forEach(function(d){d!=="selectionchange"&&($M.has(d)||$v(d,!1,r),$v(d,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[dp]||(o[dp]=!0,$v("selectionchange",!1,o))}}function AA(r,o,d,m){switch(Vx(o)){case 1:var y=Zk;break;case 4:y=eM;break;default:y=Av}d=y.bind(null,o,d,r),y=void 0,!pv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(o,d,{capture:!0,passive:y}):r.addEventListener(o,d,!0):y!==void 0?r.addEventListener(o,d,{passive:y}):r.addEventListener(o,d,!1)}function zv(r,o,d,m,y){var A=m;if(!(o&1)&&!(o&2)&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var L=m.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(P===4)for(P=m.return;P!==null;){var j=P.tag;if((j===3||j===4)&&(j=P.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;P=P.return}for(;L!==null;){if(P=qo(L),P===null)return;if(j=P.tag,j===5||j===6){m=A=P;continue e}L=L.parentNode}}m=m.return}Tx(function(){var U=A,ne=dv(d),re=[];e:{var ee=yA.get(r);if(ee!==void 0){var ce=_v,me=r;switch(r){case"keypress":if(ip(d)===0)break e;case"keydown":case"keyup":ce=mM;break;case"focusin":me="focus",ce=Rv;break;case"focusout":me="blur",ce=Rv;break;case"beforeblur":case"afterblur":ce=Rv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=rM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=yM;break;case pA:case mA:case gA:ce=oM;break;case vA:ce=bM;break;case"scroll":ce=tM;break;case"wheel":ce=AM;break;case"copy":case"cut":case"paste":ce=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=qx}var ge=(o&4)!==0,At=!ge&&r==="scroll",B=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var $=U,H;$!==null;){H=$;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,B!==null&&(ie=Du($,B),ie!=null&&ge.push(ed($,ie,H)))),At)break;$=$.return}0<ge.length&&(ee=new ce(ee,me,null,d,ne),re.push({event:ee,listeners:ge}))}}if(!(o&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&d!==uv&&(me=d.relatedTarget||d.fromElement)&&(qo(me)||me[zs]))break e;if((ce||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(me=d.relatedTarget||d.toElement,ce=U,me=me?qo(me):null,me!==null&&(At=Yo(me),me!==At||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=U),ce!==me)){if(ge=Kx,ie="onMouseLeave",B="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(ge=qx,ie="onPointerLeave",B="onPointerEnter",$="pointer"),At=ce==null?ee:jl(ce),H=me==null?ee:jl(me),ee=new ge(ie,$+"leave",ce,d,ne),ee.target=At,ee.relatedTarget=H,ie=null,qo(ne)===U&&(ge=new ge(B,$+"enter",me,d,ne),ge.target=H,ge.relatedTarget=At,ie=ge),At=ie,ce&&me)t:{for(ge=ce,B=me,$=0,H=ge;H;H=Ol(H))$++;for(H=0,ie=B;ie;ie=Ol(ie))H++;for(;0<$-H;)ge=Ol(ge),$--;for(;0<H-$;)B=Ol(B),H--;for(;$--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=Ol(ge),B=Ol(B)}ge=null}else ge=null;ce!==null&&SA(re,ee,ce,ge,!1),me!==null&&At!==null&&SA(re,At,me,ge,!0)}}e:{if(ee=U?jl(U):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var we=PM;else if(nA(ee))if(sA)we=IM;else{we=MM;var _e=kM}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(we=NM);if(we&&(we=we(r,U))){rA(re,we,d,ne);break e}_e&&_e(r,ee,U),r==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&Li(ee,"number",ee.value)}switch(_e=U?jl(U):window,r){case"focusin":(nA(_e)||_e.contentEditable==="true")&&(Ll=_e,Lv=U,Qu=null);break;case"focusout":Qu=Lv=Ll=null;break;case"mousedown":Dv=!0;break;case"contextmenu":case"mouseup":case"dragend":Dv=!1,hA(re,d,ne);break;case"selectionchange":if(OM)break;case"keydown":case"keyup":hA(re,d,ne)}var Ce;if(kv)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Il?eA(r,d)&&(Pe="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(Qx&&d.locale!=="ko"&&(Il||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Il&&(Ce=Gx()):($i=ne,Ev="value"in $i?$i.value:$i.textContent,Il=!0)),_e=hp(U,Pe),0<_e.length&&(Pe=new Yx(Pe,r,null,d,ne),re.push({event:Pe,listeners:_e}),Ce?Pe.data=Ce:(Ce=tA(d),Ce!==null&&(Pe.data=Ce)))),(Ce=EM?_M(r,d):CM(r,d))&&(U=hp(U,"onBeforeInput"),0<U.length&&(ne=new Yx("onBeforeInput","beforeinput",null,d,ne),re.push({event:ne,listeners:U}),ne.data=Ce))}xA(re,o)})}function ed(r,o,d){return{instance:r,listener:o,currentTarget:d}}function hp(r,o){for(var d=o+"Capture",m=[];r!==null;){var y=r,A=y.stateNode;y.tag===5&&A!==null&&(y=A,A=Du(r,d),A!=null&&m.unshift(ed(r,A,y)),A=Du(r,o),A!=null&&m.push(ed(r,A,y))),r=r.return}return m}function Ol(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function SA(r,o,d,m,y){for(var A=o._reactName,P=[];d!==null&&d!==m;){var L=d,j=L.alternate,U=L.stateNode;if(j!==null&&j===m)break;L.tag===5&&U!==null&&(L=U,y?(j=Du(d,A),j!=null&&P.unshift(ed(d,j,L))):y||(j=Du(d,A),j!=null&&P.push(ed(d,j,L)))),d=d.return}P.length!==0&&r.push({event:o,listeners:P})}var zM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function EA(r){return(typeof r=="string"?r:""+r).replace(zM,`
`).replace(BM,"")}function fp(r,o,d){if(o=EA(o),EA(r)!==o&&d)throw Error(t(425))}function pp(){}var Bv=null,Hv=null;function Uv(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wv=typeof setTimeout=="function"?setTimeout:void 0,HM=typeof clearTimeout=="function"?clearTimeout:void 0,_A=typeof Promise=="function"?Promise:void 0,UM=typeof queueMicrotask=="function"?queueMicrotask:typeof _A<"u"?function(r){return _A.resolve(null).then(r).catch(WM)}:Wv;function WM(r){setTimeout(function(){throw r})}function Vv(r,o){var d=o,m=0;do{var y=d.nextSibling;if(r.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){r.removeChild(y),Wu(o);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Wu(o)}function Bi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function CA(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return r;o--}else d==="/$"&&o++}r=r.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),ls="__reactFiber$"+Fl,td="__reactProps$"+Fl,zs="__reactContainer$"+Fl,Gv="__reactEvents$"+Fl,VM="__reactListeners$"+Fl,GM="__reactHandles$"+Fl;function qo(r){var o=r[ls];if(o)return o;for(var d=r.parentNode;d;){if(o=d[zs]||d[ls]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(r=CA(r);r!==null;){if(d=r[ls])return d;r=CA(r)}return o}r=d,d=r.parentNode}return null}function nd(r){return r=r[ls]||r[zs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function jl(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function mp(r){return r[td]||null}var Xv=[],$l=-1;function Hi(r){return{current:r}}function it(r){0>$l||(r.current=Xv[$l],Xv[$l]=null,$l--)}function tt(r,o){$l++,Xv[$l]=r.current,r.current=o}var Ui={},tn=Hi(Ui),Rn=Hi(!1),Qo=Ui;function zl(r,o){var d=r.type.contextTypes;if(!d)return Ui;var m=r.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var y={},A;for(A in d)y[A]=o[A];return m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=y),y}function Pn(r){return r=r.childContextTypes,r!=null}function gp(){it(Rn),it(tn)}function TA(r,o,d){if(tn.current!==Ui)throw Error(t(168));tt(tn,o),tt(Rn,d)}function RA(r,o,d){var m=r.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in o))throw Error(t(108,ye(r)||"Unknown",y));return Q({},d,m)}function vp(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ui,Qo=tn.current,tt(tn,r),tt(Rn,Rn.current),!0}function PA(r,o,d){var m=r.stateNode;if(!m)throw Error(t(169));d?(r=RA(r,o,Qo),m.__reactInternalMemoizedMergedChildContext=r,it(Rn),it(tn),tt(tn,r)):it(Rn),tt(Rn,d)}var Bs=null,yp=!1,Kv=!1;function kA(r){Bs===null?Bs=[r]:Bs.push(r)}function XM(r){yp=!0,kA(r)}function Wi(){if(!Kv&&Bs!==null){Kv=!0;var r=0,o=Ke;try{var d=Bs;for(Ke=1;r<d.length;r++){var m=d[r];do m=m(!0);while(m!==null)}Bs=null,yp=!1}catch(y){throw Bs!==null&&(Bs=Bs.slice(r+1)),Nx(gv,Wi),y}finally{Ke=o,Kv=!1}}return null}var Bl=[],Hl=0,wp=null,bp=0,dr=[],hr=0,Jo=null,Hs=1,Us="";function Zo(r,o){Bl[Hl++]=bp,Bl[Hl++]=wp,wp=r,bp=o}function MA(r,o,d){dr[hr++]=Hs,dr[hr++]=Us,dr[hr++]=Jo,Jo=r;var m=Hs;r=Us;var y=32-kr(m)-1;m&=~(1<<y),d+=1;var A=32-kr(o)+y;if(30<A){var P=y-y%5;A=(m&(1<<P)-1).toString(32),m>>=P,y-=P,Hs=1<<32-kr(o)+y|d<<y|m,Us=A+r}else Hs=1<<A|d<<y|m,Us=r}function Yv(r){r.return!==null&&(Zo(r,1),MA(r,1,0))}function qv(r){for(;r===wp;)wp=Bl[--Hl],Bl[Hl]=null,bp=Bl[--Hl],Bl[Hl]=null;for(;r===Jo;)Jo=dr[--hr],dr[hr]=null,Us=dr[--hr],dr[hr]=null,Hs=dr[--hr],dr[hr]=null}var Hn=null,Un=null,lt=!1,Nr=null;function NA(r,o){var d=gr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=r,o=r.deletions,o===null?(r.deletions=[d],r.flags|=16):o.push(d)}function IA(r,o){switch(r.tag){case 5:var d=r.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Hn=r,Un=Bi(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Hn=r,Un=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Jo!==null?{id:Hs,overflow:Us}:null,r.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=gr(18,null,null,0),d.stateNode=o,d.return=r,r.child=d,Hn=r,Un=null,!0):!1;default:return!1}}function Qv(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Jv(r){if(lt){var o=Un;if(o){var d=o;if(!IA(r,o)){if(Qv(r))throw Error(t(418));o=Bi(d.nextSibling);var m=Hn;o&&IA(r,o)?NA(m,d):(r.flags=r.flags&-4097|2,lt=!1,Hn=r)}}else{if(Qv(r))throw Error(t(418));r.flags=r.flags&-4097|2,lt=!1,Hn=r}}}function LA(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Hn=r}function xp(r){if(r!==Hn)return!1;if(!lt)return LA(r),lt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Uv(r.type,r.memoizedProps)),o&&(o=Un)){if(Qv(r))throw DA(),Error(t(418));for(;o;)NA(r,o),o=Bi(o.nextSibling)}if(LA(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(o===0){Un=Bi(r.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}r=r.nextSibling}Un=null}}else Un=Hn?Bi(r.stateNode.nextSibling):null;return!0}function DA(){for(var r=Un;r;)r=Bi(r.nextSibling)}function Ul(){Un=Hn=null,lt=!1}function Zv(r){Nr===null?Nr=[r]:Nr.push(r)}var KM=I.ReactCurrentBatchConfig;function rd(r,o,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,r));var y=m,A=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===A?o.ref:(o=function(P){var L=y.refs;P===null?delete L[A]:L[A]=P},o._stringRef=A,o)}if(typeof r!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,r))}return r}function Ap(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function OA(r){var o=r._init;return o(r._payload)}function FA(r){function o(B,$){if(r){var H=B.deletions;H===null?(B.deletions=[$],B.flags|=16):H.push($)}}function d(B,$){if(!r)return null;for(;$!==null;)o(B,$),$=$.sibling;return null}function m(B,$){for(B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function y(B,$){return B=Ji(B,$),B.index=0,B.sibling=null,B}function A(B,$,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<$?(B.flags|=2,$):H):(B.flags|=2,$)):(B.flags|=1048576,$)}function P(B){return r&&B.alternate===null&&(B.flags|=2),B}function L(B,$,H,ie){return $===null||$.tag!==6?($=Wy(H,B.mode,ie),$.return=B,$):($=y($,H),$.return=B,$)}function j(B,$,H,ie){var we=H.type;return we===O?ne(B,$,H.props.children,ie,H.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===K&&OA(we)===$.type)?(ie=y($,H.props),ie.ref=rd(B,$,H),ie.return=B,ie):(ie=Gp(H.type,H.key,H.props,null,B.mode,ie),ie.ref=rd(B,$,H),ie.return=B,ie)}function U(B,$,H,ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=Vy(H,B.mode,ie),$.return=B,$):($=y($,H.children||[]),$.return=B,$)}function ne(B,$,H,ie,we){return $===null||$.tag!==7?($=aa(H,B.mode,ie,we),$.return=B,$):($=y($,H),$.return=B,$)}function re(B,$,H){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Wy(""+$,B.mode,H),$.return=B,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return H=Gp($.type,$.key,$.props,null,B.mode,H),H.ref=rd(B,null,$),H.return=B,H;case z:return $=Vy($,B.mode,H),$.return=B,$;case K:var ie=$._init;return re(B,ie($._payload),H)}if(Nu($)||X($))return $=aa($,B.mode,H,null),$.return=B,$;Ap(B,$)}return null}function ee(B,$,H,ie){var we=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return we!==null?null:L(B,$,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===we?j(B,$,H,ie):null;case z:return H.key===we?U(B,$,H,ie):null;case K:return we=H._init,ee(B,$,we(H._payload),ie)}if(Nu(H)||X(H))return we!==null?null:ne(B,$,H,ie,null);Ap(B,H)}return null}function ce(B,$,H,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(H)||null,L($,B,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case D:return B=B.get(ie.key===null?H:ie.key)||null,j($,B,ie,we);case z:return B=B.get(ie.key===null?H:ie.key)||null,U($,B,ie,we);case K:var _e=ie._init;return ce(B,$,H,_e(ie._payload),we)}if(Nu(ie)||X(ie))return B=B.get(H)||null,ne($,B,ie,we,null);Ap($,ie)}return null}function me(B,$,H,ie){for(var we=null,_e=null,Ce=$,Pe=$=0,$t=null;Ce!==null&&Pe<H.length;Pe++){Ce.index>Pe?($t=Ce,Ce=null):$t=Ce.sibling;var Ve=ee(B,Ce,H[Pe],ie);if(Ve===null){Ce===null&&(Ce=$t);break}r&&Ce&&Ve.alternate===null&&o(B,Ce),$=A(Ve,$,Pe),_e===null?we=Ve:_e.sibling=Ve,_e=Ve,Ce=$t}if(Pe===H.length)return d(B,Ce),lt&&Zo(B,Pe),we;if(Ce===null){for(;Pe<H.length;Pe++)Ce=re(B,H[Pe],ie),Ce!==null&&($=A(Ce,$,Pe),_e===null?we=Ce:_e.sibling=Ce,_e=Ce);return lt&&Zo(B,Pe),we}for(Ce=m(B,Ce);Pe<H.length;Pe++)$t=ce(Ce,B,Pe,H[Pe],ie),$t!==null&&(r&&$t.alternate!==null&&Ce.delete($t.key===null?Pe:$t.key),$=A($t,$,Pe),_e===null?we=$t:_e.sibling=$t,_e=$t);return r&&Ce.forEach(function(Zi){return o(B,Zi)}),lt&&Zo(B,Pe),we}function ge(B,$,H,ie){var we=X(H);if(typeof we!="function")throw Error(t(150));if(H=we.call(H),H==null)throw Error(t(151));for(var _e=we=null,Ce=$,Pe=$=0,$t=null,Ve=H.next();Ce!==null&&!Ve.done;Pe++,Ve=H.next()){Ce.index>Pe?($t=Ce,Ce=null):$t=Ce.sibling;var Zi=ee(B,Ce,Ve.value,ie);if(Zi===null){Ce===null&&(Ce=$t);break}r&&Ce&&Zi.alternate===null&&o(B,Ce),$=A(Zi,$,Pe),_e===null?we=Zi:_e.sibling=Zi,_e=Zi,Ce=$t}if(Ve.done)return d(B,Ce),lt&&Zo(B,Pe),we;if(Ce===null){for(;!Ve.done;Pe++,Ve=H.next())Ve=re(B,Ve.value,ie),Ve!==null&&($=A(Ve,$,Pe),_e===null?we=Ve:_e.sibling=Ve,_e=Ve);return lt&&Zo(B,Pe),we}for(Ce=m(B,Ce);!Ve.done;Pe++,Ve=H.next())Ve=ce(Ce,B,Pe,Ve.value,ie),Ve!==null&&(r&&Ve.alternate!==null&&Ce.delete(Ve.key===null?Pe:Ve.key),$=A(Ve,$,Pe),_e===null?we=Ve:_e.sibling=Ve,_e=Ve);return r&&Ce.forEach(function(CN){return o(B,CN)}),lt&&Zo(B,Pe),we}function At(B,$,H,ie){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var we=H.key,_e=$;_e!==null;){if(_e.key===we){if(we=H.type,we===O){if(_e.tag===7){d(B,_e.sibling),$=y(_e,H.props.children),$.return=B,B=$;break e}}else if(_e.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===K&&OA(we)===_e.type){d(B,_e.sibling),$=y(_e,H.props),$.ref=rd(B,_e,H),$.return=B,B=$;break e}d(B,_e);break}else o(B,_e);_e=_e.sibling}H.type===O?($=aa(H.props.children,B.mode,ie,H.key),$.return=B,B=$):(ie=Gp(H.type,H.key,H.props,null,B.mode,ie),ie.ref=rd(B,$,H),ie.return=B,B=ie)}return P(B);case z:e:{for(_e=H.key;$!==null;){if($.key===_e)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){d(B,$.sibling),$=y($,H.children||[]),$.return=B,B=$;break e}else{d(B,$);break}else o(B,$);$=$.sibling}$=Vy(H,B.mode,ie),$.return=B,B=$}return P(B);case K:return _e=H._init,At(B,$,_e(H._payload),ie)}if(Nu(H))return me(B,$,H,ie);if(X(H))return ge(B,$,H,ie);Ap(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,$!==null&&$.tag===6?(d(B,$.sibling),$=y($,H),$.return=B,B=$):(d(B,$),$=Wy(H,B.mode,ie),$.return=B,B=$),P(B)):d(B,$)}return At}var Wl=FA(!0),jA=FA(!1),Sp=Hi(null),Ep=null,Vl=null,ey=null;function ty(){ey=Vl=Ep=null}function ny(r){var o=Sp.current;it(Sp),r._currentValue=o}function ry(r,o,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===d)break;r=r.return}}function Gl(r,o){Ep=r,ey=Vl=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(kn=!0),r.firstContext=null)}function fr(r){var o=r._currentValue;if(ey!==r)if(r={context:r,memoizedValue:o,next:null},Vl===null){if(Ep===null)throw Error(t(308));Vl=r,Ep.dependencies={lanes:0,firstContext:r}}else Vl=Vl.next=r;return o}var ea=null;function sy(r){ea===null?ea=[r]:ea.push(r)}function $A(r,o,d,m){var y=o.interleaved;return y===null?(d.next=d,sy(o)):(d.next=y.next,y.next=d),o.interleaved=d,Ws(r,m)}function Ws(r,o){r.lanes|=o;var d=r.alternate;for(d!==null&&(d.lanes|=o),d=r,r=r.return;r!==null;)r.childLanes|=o,d=r.alternate,d!==null&&(d.childLanes|=o),d=r,r=r.return;return d.tag===3?d.stateNode:null}var Vi=!1;function iy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zA(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vs(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Gi(r,o,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,Ue&2){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,Ws(r,d)}return y=m.interleaved,y===null?(o.next=o,sy(m)):(o.next=y.next,y.next=o),m.interleaved=o,Ws(r,d)}function _p(r,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,wv(r,d)}}function BA(r,o){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var P={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?y=A=P:A=A.next=P,d=d.next}while(d!==null);A===null?y=A=o:A=A.next=o}else y=A=o;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:A,shared:m.shared,effects:m.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=o}function Cp(r,o,d,m){var y=r.updateQueue;Vi=!1;var A=y.firstBaseUpdate,P=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var j=L,U=j.next;j.next=null,P===null?A=U:P.next=U,P=j;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,L=ne.lastBaseUpdate,L!==P&&(L===null?ne.firstBaseUpdate=U:L.next=U,ne.lastBaseUpdate=j))}if(A!==null){var re=y.baseState;P=0,ne=U=j=null,L=A;do{var ee=L.lane,ce=L.eventTime;if((m&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var me=r,ge=L;switch(ee=o,ce=d,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){re=me.call(ce,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(ce,re,ee):me,ee==null)break e;re=Q({},re,ee);break e;case 2:Vi=!0}}L.callback!==null&&L.lane!==0&&(r.flags|=64,ee=y.effects,ee===null?y.effects=[L]:ee.push(L))}else ce={eventTime:ce,lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ne===null?(U=ne=ce,j=re):ne=ne.next=ce,P|=ee;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ee=L,L=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);if(ne===null&&(j=re),y.baseState=j,y.firstBaseUpdate=U,y.lastBaseUpdate=ne,o=y.shared.interleaved,o!==null){y=o;do P|=y.lane,y=y.next;while(y!==o)}else A===null&&(y.shared.lanes=0);ra|=P,r.lanes=P,r.memoizedState=re}}function HA(r,o,d){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var m=r[o],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(t(191,y));y.call(m)}}}var sd={},cs=Hi(sd),id=Hi(sd),od=Hi(sd);function ta(r){if(r===sd)throw Error(t(174));return r}function oy(r,o){switch(tt(od,o),tt(id,r),tt(cs,sd),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:av(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=av(o,r)}it(cs),tt(cs,o)}function Xl(){it(cs),it(id),it(od)}function UA(r){ta(od.current);var o=ta(cs.current),d=av(o,r.type);o!==d&&(tt(id,r),tt(cs,d))}function ay(r){id.current===r&&(it(cs),it(id))}var ht=Hi(0);function Tp(r){for(var o=r;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ly=[];function cy(){for(var r=0;r<ly.length;r++)ly[r]._workInProgressVersionPrimary=null;ly.length=0}var Rp=I.ReactCurrentDispatcher,uy=I.ReactCurrentBatchConfig,na=0,ft=null,kt=null,Ft=null,Pp=!1,ad=!1,ld=0,YM=0;function nn(){throw Error(t(321))}function dy(r,o){if(o===null)return!1;for(var d=0;d<o.length&&d<r.length;d++)if(!Mr(r[d],o[d]))return!1;return!0}function hy(r,o,d,m,y,A){if(na=A,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rp.current=r===null||r.memoizedState===null?ZM:eN,r=d(m,y),ad){A=0;do{if(ad=!1,ld=0,25<=A)throw Error(t(301));A+=1,Ft=kt=null,o.updateQueue=null,Rp.current=tN,r=d(m,y)}while(ad)}if(Rp.current=Np,o=kt!==null&&kt.next!==null,na=0,Ft=kt=ft=null,Pp=!1,o)throw Error(t(300));return r}function fy(){var r=ld!==0;return ld=0,r}function us(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ft.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function pr(){if(kt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var o=Ft===null?ft.memoizedState:Ft.next;if(o!==null)Ft=o,kt=r;else{if(r===null)throw Error(t(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ft===null?ft.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function cd(r,o){return typeof o=="function"?o(r):o}function py(r){var o=pr(),d=o.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=r;var m=kt,y=m.baseQueue,A=d.pending;if(A!==null){if(y!==null){var P=y.next;y.next=A.next,A.next=P}m.baseQueue=y=A,d.pending=null}if(y!==null){A=y.next,m=m.baseState;var L=P=null,j=null,U=A;do{var ne=U.lane;if((na&ne)===ne)j!==null&&(j=j.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),m=U.hasEagerState?U.eagerState:r(m,U.action);else{var re={lane:ne,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};j===null?(L=j=re,P=m):j=j.next=re,ft.lanes|=ne,ra|=ne}U=U.next}while(U!==null&&U!==A);j===null?P=m:j.next=L,Mr(m,o.memoizedState)||(kn=!0),o.memoizedState=m,o.baseState=P,o.baseQueue=j,d.lastRenderedState=m}if(r=d.interleaved,r!==null){y=r;do A=y.lane,ft.lanes|=A,ra|=A,y=y.next;while(y!==r)}else y===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function my(r){var o=pr(),d=o.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=r;var m=d.dispatch,y=d.pending,A=o.memoizedState;if(y!==null){d.pending=null;var P=y=y.next;do A=r(A,P.action),P=P.next;while(P!==y);Mr(A,o.memoizedState)||(kn=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),d.lastRenderedState=A}return[A,m]}function WA(){}function VA(r,o){var d=ft,m=pr(),y=o(),A=!Mr(m.memoizedState,y);if(A&&(m.memoizedState=y,kn=!0),m=m.queue,gy(KA.bind(null,d,m,r),[r]),m.getSnapshot!==o||A||Ft!==null&&Ft.memoizedState.tag&1){if(d.flags|=2048,ud(9,XA.bind(null,d,m,y,o),void 0,null),jt===null)throw Error(t(349));na&30||GA(d,o,y)}return y}function GA(r,o,d){r.flags|=16384,r={getSnapshot:o,value:d},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[r]):(d=o.stores,d===null?o.stores=[r]:d.push(r))}function XA(r,o,d,m){o.value=d,o.getSnapshot=m,YA(o)&&qA(r)}function KA(r,o,d){return d(function(){YA(o)&&qA(r)})}function YA(r){var o=r.getSnapshot;r=r.value;try{var d=o();return!Mr(r,d)}catch{return!0}}function qA(r){var o=Ws(r,1);o!==null&&Or(o,r,1,-1)}function QA(r){var o=us();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:r},o.queue=r,r=r.dispatch=JM.bind(null,ft,r),[o.memoizedState,r]}function ud(r,o,d,m){return r={tag:r,create:o,destroy:d,deps:m,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=r.next=r):(d=o.lastEffect,d===null?o.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,o.lastEffect=r)),r}function JA(){return pr().memoizedState}function kp(r,o,d,m){var y=us();ft.flags|=r,y.memoizedState=ud(1|o,d,void 0,m===void 0?null:m)}function Mp(r,o,d,m){var y=pr();m=m===void 0?null:m;var A=void 0;if(kt!==null){var P=kt.memoizedState;if(A=P.destroy,m!==null&&dy(m,P.deps)){y.memoizedState=ud(o,d,A,m);return}}ft.flags|=r,y.memoizedState=ud(1|o,d,A,m)}function ZA(r,o){return kp(8390656,8,r,o)}function gy(r,o){return Mp(2048,8,r,o)}function eS(r,o){return Mp(4,2,r,o)}function tS(r,o){return Mp(4,4,r,o)}function nS(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function rS(r,o,d){return d=d!=null?d.concat([r]):null,Mp(4,4,nS.bind(null,o,r),d)}function vy(){}function sS(r,o){var d=pr();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&dy(o,m[1])?m[0]:(d.memoizedState=[r,o],r)}function iS(r,o){var d=pr();o=o===void 0?null:o;var m=d.memoizedState;return m!==null&&o!==null&&dy(o,m[1])?m[0]:(r=r(),d.memoizedState=[r,o],r)}function oS(r,o,d){return na&21?(Mr(d,o)||(d=Ox(),ft.lanes|=d,ra|=d,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,kn=!0),r.memoizedState=d)}function qM(r,o){var d=Ke;Ke=d!==0&&4>d?d:4,r(!0);var m=uy.transition;uy.transition={};try{r(!1),o()}finally{Ke=d,uy.transition=m}}function aS(){return pr().memoizedState}function QM(r,o,d){var m=qi(r);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},lS(r))cS(o,d);else if(d=$A(r,o,d,m),d!==null){var y=gn();Or(d,r,m,y),uS(d,o,m)}}function JM(r,o,d){var m=qi(r),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(lS(r))cS(o,y);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var P=o.lastRenderedState,L=A(P,d);if(y.hasEagerState=!0,y.eagerState=L,Mr(L,P)){var j=o.interleaved;j===null?(y.next=y,sy(o)):(y.next=j.next,j.next=y),o.interleaved=y;return}}catch{}finally{}d=$A(r,o,y,m),d!==null&&(y=gn(),Or(d,r,m,y),uS(d,o,m))}}function lS(r){var o=r.alternate;return r===ft||o!==null&&o===ft}function cS(r,o){ad=Pp=!0;var d=r.pending;d===null?o.next=o:(o.next=d.next,d.next=o),r.pending=o}function uS(r,o,d){if(d&4194240){var m=o.lanes;m&=r.pendingLanes,d|=m,o.lanes=d,wv(r,d)}}var Np={readContext:fr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},ZM={readContext:fr,useCallback:function(r,o){return us().memoizedState=[r,o===void 0?null:o],r},useContext:fr,useEffect:ZA,useImperativeHandle:function(r,o,d){return d=d!=null?d.concat([r]):null,kp(4194308,4,nS.bind(null,o,r),d)},useLayoutEffect:function(r,o){return kp(4194308,4,r,o)},useInsertionEffect:function(r,o){return kp(4,2,r,o)},useMemo:function(r,o){var d=us();return o=o===void 0?null:o,r=r(),d.memoizedState=[r,o],r},useReducer:function(r,o,d){var m=us();return o=d!==void 0?d(o):o,m.memoizedState=m.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},m.queue=r,r=r.dispatch=QM.bind(null,ft,r),[m.memoizedState,r]},useRef:function(r){var o=us();return r={current:r},o.memoizedState=r},useState:QA,useDebugValue:vy,useDeferredValue:function(r){return us().memoizedState=r},useTransition:function(){var r=QA(!1),o=r[0];return r=qM.bind(null,r[1]),us().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,d){var m=ft,y=us();if(lt){if(d===void 0)throw Error(t(407));d=d()}else{if(d=o(),jt===null)throw Error(t(349));na&30||GA(m,o,d)}y.memoizedState=d;var A={value:d,getSnapshot:o};return y.queue=A,ZA(KA.bind(null,m,A,r),[r]),m.flags|=2048,ud(9,XA.bind(null,m,A,d,o),void 0,null),d},useId:function(){var r=us(),o=jt.identifierPrefix;if(lt){var d=Us,m=Hs;d=(m&~(1<<32-kr(m)-1)).toString(32)+d,o=":"+o+"R"+d,d=ld++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=YM++,o=":"+o+"r"+d.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},eN={readContext:fr,useCallback:sS,useContext:fr,useEffect:gy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:py,useRef:JA,useState:function(){return py(cd)},useDebugValue:vy,useDeferredValue:function(r){var o=pr();return oS(o,kt.memoizedState,r)},useTransition:function(){var r=py(cd)[0],o=pr().memoizedState;return[r,o]},useMutableSource:WA,useSyncExternalStore:VA,useId:aS,unstable_isNewReconciler:!1},tN={readContext:fr,useCallback:sS,useContext:fr,useEffect:gy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:iS,useReducer:my,useRef:JA,useState:function(){return my(cd)},useDebugValue:vy,useDeferredValue:function(r){var o=pr();return kt===null?o.memoizedState=r:oS(o,kt.memoizedState,r)},useTransition:function(){var r=my(cd)[0],o=pr().memoizedState;return[r,o]},useMutableSource:WA,useSyncExternalStore:VA,useId:aS,unstable_isNewReconciler:!1};function Ir(r,o){if(r&&r.defaultProps){o=Q({},o),r=r.defaultProps;for(var d in r)o[d]===void 0&&(o[d]=r[d]);return o}return o}function yy(r,o,d,m){o=r.memoizedState,d=d(m,o),d=d==null?o:Q({},o,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Ip={isMounted:function(r){return(r=r._reactInternals)?Yo(r)===r:!1},enqueueSetState:function(r,o,d){r=r._reactInternals;var m=gn(),y=qi(r),A=Vs(m,y);A.payload=o,d!=null&&(A.callback=d),o=Gi(r,A,y),o!==null&&(Or(o,r,y,m),_p(o,r,y))},enqueueReplaceState:function(r,o,d){r=r._reactInternals;var m=gn(),y=qi(r),A=Vs(m,y);A.tag=1,A.payload=o,d!=null&&(A.callback=d),o=Gi(r,A,y),o!==null&&(Or(o,r,y,m),_p(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var d=gn(),m=qi(r),y=Vs(d,m);y.tag=2,o!=null&&(y.callback=o),o=Gi(r,y,m),o!==null&&(Or(o,r,m,d),_p(o,r,m))}};function dS(r,o,d,m,y,A,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,A,P):o.prototype&&o.prototype.isPureReactComponent?!qu(d,m)||!qu(y,A):!0}function hS(r,o,d){var m=!1,y=Ui,A=o.contextType;return typeof A=="object"&&A!==null?A=fr(A):(y=Pn(o)?Qo:tn.current,m=o.contextTypes,A=(m=m!=null)?zl(r,y):Ui),o=new o(d,A),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ip,r.stateNode=o,o._reactInternals=r,m&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=A),o}function fS(r,o,d,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==r&&Ip.enqueueReplaceState(o,o.state,null)}function wy(r,o,d,m){var y=r.stateNode;y.props=d,y.state=r.memoizedState,y.refs={},iy(r);var A=o.contextType;typeof A=="object"&&A!==null?y.context=fr(A):(A=Pn(o)?Qo:tn.current,y.context=zl(r,A)),y.state=r.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(yy(r,o,A,d),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Ip.enqueueReplaceState(y,y.state,null),Cp(r,d,y,m),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Kl(r,o){try{var d="",m=o;do d+=Me(m),m=m.return;while(m);var y=d}catch(A){y=`
Error generating stack: `+A.message+`
`+A.stack}return{value:r,source:o,stack:y,digest:null}}function by(r,o,d){return{value:r,source:null,stack:d??null,digest:o??null}}function xy(r,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var nN=typeof WeakMap=="function"?WeakMap:Map;function pS(r,o,d){d=Vs(-1,d),d.tag=3,d.payload={element:null};var m=o.value;return d.callback=function(){zp||(zp=!0,Oy=m),xy(r,o)},d}function mS(r,o,d){d=Vs(-1,d),d.tag=3;var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var y=o.value;d.payload=function(){return m(y)},d.callback=function(){xy(r,o)}}var A=r.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){xy(r,o),typeof m!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),d}function gS(r,o,d){var m=r.pingCache;if(m===null){m=r.pingCache=new nN;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(d)||(y.add(d),r=gN.bind(null,r,o,d),o.then(r,r))}function vS(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function yS(r,o,d,m,y){return r.mode&1?(r.flags|=65536,r.lanes=y,r):(r===o?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Vs(-1,1),o.tag=2,Gi(d,o,1))),d.lanes|=1),r)}var rN=I.ReactCurrentOwner,kn=!1;function mn(r,o,d,m){o.child=r===null?jA(o,null,d,m):Wl(o,r.child,d,m)}function wS(r,o,d,m,y){d=d.render;var A=o.ref;return Gl(o,y),m=hy(r,o,d,m,A,y),d=fy(),r!==null&&!kn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Gs(r,o,y)):(lt&&d&&Yv(o),o.flags|=1,mn(r,o,m,y),o.child)}function bS(r,o,d,m,y){if(r===null){var A=d.type;return typeof A=="function"&&!Uy(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=A,xS(r,o,A,m,y)):(r=Gp(d.type,null,m,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(A=r.child,!(r.lanes&y)){var P=A.memoizedProps;if(d=d.compare,d=d!==null?d:qu,d(P,m)&&r.ref===o.ref)return Gs(r,o,y)}return o.flags|=1,r=Ji(A,m),r.ref=o.ref,r.return=o,o.child=r}function xS(r,o,d,m,y){if(r!==null){var A=r.memoizedProps;if(qu(A,m)&&r.ref===o.ref)if(kn=!1,o.pendingProps=m=A,(r.lanes&y)!==0)r.flags&131072&&(kn=!0);else return o.lanes=r.lanes,Gs(r,o,y)}return Ay(r,o,d,m,y)}function AS(r,o,d){var m=o.pendingProps,y=m.children,A=r!==null?r.memoizedState:null;if(m.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ql,Wn),Wn|=d;else{if(!(d&1073741824))return r=A!==null?A.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,tt(ql,Wn),Wn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=A!==null?A.baseLanes:d,tt(ql,Wn),Wn|=m}else A!==null?(m=A.baseLanes|d,o.memoizedState=null):m=d,tt(ql,Wn),Wn|=m;return mn(r,o,y,d),o.child}function SS(r,o){var d=o.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Ay(r,o,d,m,y){var A=Pn(d)?Qo:tn.current;return A=zl(o,A),Gl(o,y),d=hy(r,o,d,m,A,y),m=fy(),r!==null&&!kn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Gs(r,o,y)):(lt&&m&&Yv(o),o.flags|=1,mn(r,o,d,y),o.child)}function ES(r,o,d,m,y){if(Pn(d)){var A=!0;vp(o)}else A=!1;if(Gl(o,y),o.stateNode===null)Dp(r,o),hS(o,d,m),wy(o,d,m,y),m=!0;else if(r===null){var P=o.stateNode,L=o.memoizedProps;P.props=L;var j=P.context,U=d.contextType;typeof U=="object"&&U!==null?U=fr(U):(U=Pn(d)?Qo:tn.current,U=zl(o,U));var ne=d.getDerivedStateFromProps,re=typeof ne=="function"||typeof P.getSnapshotBeforeUpdate=="function";re||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(L!==m||j!==U)&&fS(o,P,m,U),Vi=!1;var ee=o.memoizedState;P.state=ee,Cp(o,m,P,y),j=o.memoizedState,L!==m||ee!==j||Rn.current||Vi?(typeof ne=="function"&&(yy(o,d,ne,m),j=o.memoizedState),(L=Vi||dS(o,d,L,m,ee,j,U))?(re||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=j),P.props=m,P.state=j,P.context=U,m=L):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{P=o.stateNode,zA(r,o),L=o.memoizedProps,U=o.type===o.elementType?L:Ir(o.type,L),P.props=U,re=o.pendingProps,ee=P.context,j=d.contextType,typeof j=="object"&&j!==null?j=fr(j):(j=Pn(d)?Qo:tn.current,j=zl(o,j));var ce=d.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(L!==re||ee!==j)&&fS(o,P,m,j),Vi=!1,ee=o.memoizedState,P.state=ee,Cp(o,m,P,y);var me=o.memoizedState;L!==re||ee!==me||Rn.current||Vi?(typeof ce=="function"&&(yy(o,d,ce,m),me=o.memoizedState),(U=Vi||dS(o,d,U,m,ee,me,j)||!1)?(ne||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,me,j),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,me,j)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||L===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),P.props=m,P.state=me,P.context=j,m=U):(typeof P.componentDidUpdate!="function"||L===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),m=!1)}return Sy(r,o,d,m,A,y)}function Sy(r,o,d,m,y,A){SS(r,o);var P=(o.flags&128)!==0;if(!m&&!P)return y&&PA(o,d,!1),Gs(r,o,A);m=o.stateNode,rN.current=o;var L=P&&typeof d.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,r!==null&&P?(o.child=Wl(o,r.child,null,A),o.child=Wl(o,null,L,A)):mn(r,o,L,A),o.memoizedState=m.state,y&&PA(o,d,!0),o.child}function _S(r){var o=r.stateNode;o.pendingContext?TA(r,o.pendingContext,o.pendingContext!==o.context):o.context&&TA(r,o.context,!1),oy(r,o.containerInfo)}function CS(r,o,d,m,y){return Ul(),Zv(y),o.flags|=256,mn(r,o,d,m),o.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function _y(r){return{baseLanes:r,cachePool:null,transitions:null}}function TS(r,o,d){var m=o.pendingProps,y=ht.current,A=!1,P=(o.flags&128)!==0,L;if((L=P)||(L=r!==null&&r.memoizedState===null?!1:(y&2)!==0),L?(A=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),tt(ht,y&1),r===null)return Jv(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(P=m.children,r=m.fallback,A?(m=o.mode,A=o.child,P={mode:"hidden",children:P},!(m&1)&&A!==null?(A.childLanes=0,A.pendingProps=P):A=Xp(P,m,0,null),r=aa(r,m,d,null),A.return=o,r.return=o,A.sibling=r,o.child=A,o.child.memoizedState=_y(d),o.memoizedState=Ey,r):Cy(o,P));if(y=r.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return sN(r,o,P,m,L,y,d);if(A){A=m.fallback,P=o.mode,y=r.child,L=y.sibling;var j={mode:"hidden",children:m.children};return!(P&1)&&o.child!==y?(m=o.child,m.childLanes=0,m.pendingProps=j,o.deletions=null):(m=Ji(y,j),m.subtreeFlags=y.subtreeFlags&14680064),L!==null?A=Ji(L,A):(A=aa(A,P,d,null),A.flags|=2),A.return=o,m.return=o,m.sibling=A,o.child=m,m=A,A=o.child,P=r.child.memoizedState,P=P===null?_y(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},A.memoizedState=P,A.childLanes=r.childLanes&~d,o.memoizedState=Ey,m}return A=r.child,r=A.sibling,m=Ji(A,{mode:"visible",children:m.children}),!(o.mode&1)&&(m.lanes=d),m.return=o,m.sibling=null,r!==null&&(d=o.deletions,d===null?(o.deletions=[r],o.flags|=16):d.push(r)),o.child=m,o.memoizedState=null,m}function Cy(r,o){return o=Xp({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Lp(r,o,d,m){return m!==null&&Zv(m),Wl(o,r.child,null,d),r=Cy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function sN(r,o,d,m,y,A,P){if(d)return o.flags&256?(o.flags&=-257,m=by(Error(t(422))),Lp(r,o,P,m)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(A=m.fallback,y=o.mode,m=Xp({mode:"visible",children:m.children},y,0,null),A=aa(A,y,P,null),A.flags|=2,m.return=o,A.return=o,m.sibling=A,o.child=m,o.mode&1&&Wl(o,r.child,null,P),o.child.memoizedState=_y(P),o.memoizedState=Ey,A);if(!(o.mode&1))return Lp(r,o,P,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var L=m.dgst;return m=L,A=Error(t(419)),m=by(A,m,void 0),Lp(r,o,P,m)}if(L=(P&r.childLanes)!==0,kn||L){if(m=jt,m!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(m.suspendedLanes|P)?0:y,y!==0&&y!==A.retryLane&&(A.retryLane=y,Ws(r,y),Or(m,r,y,-1))}return Hy(),m=by(Error(t(421))),Lp(r,o,P,m)}return y.data==="$?"?(o.flags|=128,o.child=r.child,o=vN.bind(null,r),y._reactRetry=o,null):(r=A.treeContext,Un=Bi(y.nextSibling),Hn=o,lt=!0,Nr=null,r!==null&&(dr[hr++]=Hs,dr[hr++]=Us,dr[hr++]=Jo,Hs=r.id,Us=r.overflow,Jo=o),o=Cy(o,m.children),o.flags|=4096,o)}function RS(r,o,d){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),ry(r.return,o,d)}function Ty(r,o,d,m,y){var A=r.memoizedState;A===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=d,A.tailMode=y)}function PS(r,o,d){var m=o.pendingProps,y=m.revealOrder,A=m.tail;if(mn(r,o,m.children,d),m=ht.current,m&2)m=m&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&RS(r,d,o);else if(r.tag===19)RS(r,d,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}if(tt(ht,m),!(o.mode&1))o.memoizedState=null;else switch(y){case"forwards":for(d=o.child,y=null;d!==null;)r=d.alternate,r!==null&&Tp(r)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),Ty(o,!1,y,d,A);break;case"backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Tp(r)===null){o.child=y;break}r=y.sibling,y.sibling=d,d=y,y=r}Ty(o,!0,d,null,A);break;case"together":Ty(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dp(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Gs(r,o,d){if(r!==null&&(o.dependencies=r.dependencies),ra|=o.lanes,!(d&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,d=Ji(r,r.pendingProps),o.child=d,d.return=o;r.sibling!==null;)r=r.sibling,d=d.sibling=Ji(r,r.pendingProps),d.return=o;d.sibling=null}return o.child}function iN(r,o,d){switch(o.tag){case 3:_S(o),Ul();break;case 5:UA(o);break;case 1:Pn(o.type)&&vp(o);break;case 4:oy(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,y=o.memoizedProps.value;tt(Sp,m._currentValue),m._currentValue=y;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(tt(ht,ht.current&1),o.flags|=128,null):d&o.child.childLanes?TS(r,o,d):(tt(ht,ht.current&1),r=Gs(r,o,d),r!==null?r.sibling:null);tt(ht,ht.current&1);break;case 19:if(m=(d&o.childLanes)!==0,r.flags&128){if(m)return PS(r,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),tt(ht,ht.current),m)break;return null;case 22:case 23:return o.lanes=0,AS(r,o,d)}return Gs(r,o,d)}var kS,Ry,MS,NS;kS=function(r,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ry=function(){},MS=function(r,o,d,m){var y=r.memoizedProps;if(y!==m){r=o.stateNode,ta(cs.current);var A=null;switch(d){case"input":y=Tl(r,y),m=Tl(r,m),A=[];break;case"select":y=Q({},y,{value:void 0}),m=Q({},m,{value:void 0}),A=[];break;case"textarea":y=ov(r,y),m=ov(r,m),A=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(r.onclick=pp)}lv(d,m);var P;d=null;for(U in y)if(!m.hasOwnProperty(U)&&y.hasOwnProperty(U)&&y[U]!=null)if(U==="style"){var L=y[U];for(P in L)L.hasOwnProperty(P)&&(d||(d={}),d[P]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?A||(A=[]):(A=A||[]).push(U,null));for(U in m){var j=m[U];if(L=y!=null?y[U]:void 0,m.hasOwnProperty(U)&&j!==L&&(j!=null||L!=null))if(U==="style")if(L){for(P in L)!L.hasOwnProperty(P)||j&&j.hasOwnProperty(P)||(d||(d={}),d[P]="");for(P in j)j.hasOwnProperty(P)&&L[P]!==j[P]&&(d||(d={}),d[P]=j[P])}else d||(A||(A=[]),A.push(U,d)),d=j;else U==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,L=L?L.__html:void 0,j!=null&&L!==j&&(A=A||[]).push(U,j)):U==="children"?typeof j!="string"&&typeof j!="number"||(A=A||[]).push(U,""+j):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(s.hasOwnProperty(U)?(j!=null&&U==="onScroll"&&st("scroll",r),A||L===j||(A=[])):(A=A||[]).push(U,j))}d&&(A=A||[]).push("style",d);var U=A;(o.updateQueue=U)&&(o.flags|=4)}},NS=function(r,o,d,m){d!==m&&(o.flags|=4)};function dd(r,o){if(!lt)switch(r.tailMode){case"hidden":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function rn(r){var o=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(o)for(var y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=d,o}function oN(r,o,d){var m=o.pendingProps;switch(qv(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return Pn(o.type)&&gp(),rn(o),null;case 3:return m=o.stateNode,Xl(),it(Rn),it(tn),cy(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(r===null||r.child===null)&&(xp(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Nr!==null&&($y(Nr),Nr=null))),Ry(r,o),rn(o),null;case 5:ay(o);var y=ta(od.current);if(d=o.type,r!==null&&o.stateNode!=null)MS(r,o,d,m,y),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return rn(o),null}if(r=ta(cs.current),xp(o)){m=o.stateNode,d=o.type;var A=o.memoizedProps;switch(m[ls]=o,m[td]=A,r=(o.mode&1)!==0,d){case"dialog":st("cancel",m),st("close",m);break;case"iframe":case"object":case"embed":st("load",m);break;case"video":case"audio":for(y=0;y<Ju.length;y++)st(Ju[y],m);break;case"source":st("error",m);break;case"img":case"image":case"link":st("error",m),st("load",m);break;case"details":st("toggle",m);break;case"input":Uf(m,A),st("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!A.multiple},st("invalid",m);break;case"textarea":mx(m,A),st("invalid",m)}lv(d,A),y=null;for(var P in A)if(A.hasOwnProperty(P)){var L=A[P];P==="children"?typeof L=="string"?m.textContent!==L&&(A.suppressHydrationWarning!==!0&&fp(m.textContent,L,r),y=["children",L]):typeof L=="number"&&m.textContent!==""+L&&(A.suppressHydrationWarning!==!0&&fp(m.textContent,L,r),y=["children",""+L]):s.hasOwnProperty(P)&&L!=null&&P==="onScroll"&&st("scroll",m)}switch(d){case"input":Ko(m),Vf(m,A,!0);break;case"textarea":Ko(m),vx(m);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(m.onclick=pp)}m=y,o.updateQueue=m,m!==null&&(o.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yx(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=P.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof m.is=="string"?r=P.createElement(d,{is:m.is}):(r=P.createElement(d),d==="select"&&(P=r,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):r=P.createElementNS(r,d),r[ls]=o,r[td]=m,kS(r,o,!1,!1),o.stateNode=r;e:{switch(P=cv(d,m),d){case"dialog":st("cancel",r),st("close",r),y=m;break;case"iframe":case"object":case"embed":st("load",r),y=m;break;case"video":case"audio":for(y=0;y<Ju.length;y++)st(Ju[y],r);y=m;break;case"source":st("error",r),y=m;break;case"img":case"image":case"link":st("error",r),st("load",r),y=m;break;case"details":st("toggle",r),y=m;break;case"input":Uf(r,m),y=Tl(r,m),st("invalid",r);break;case"option":y=m;break;case"select":r._wrapperState={wasMultiple:!!m.multiple},y=Q({},m,{value:void 0}),st("invalid",r);break;case"textarea":mx(r,m),y=ov(r,m),st("invalid",r);break;default:y=m}lv(d,y),L=y;for(A in L)if(L.hasOwnProperty(A)){var j=L[A];A==="style"?xx(r,j):A==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wx(r,j)):A==="children"?typeof j=="string"?(d!=="textarea"||j!=="")&&Iu(r,j):typeof j=="number"&&Iu(r,""+j):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?j!=null&&A==="onScroll"&&st("scroll",r):j!=null&&N(r,A,j,P))}switch(d){case"input":Ko(r),Vf(r,m,!1);break;case"textarea":Ko(r),vx(r);break;case"option":m.value!=null&&r.setAttribute("value",""+Ne(m.value));break;case"select":r.multiple=!!m.multiple,A=m.value,A!=null?Rl(r,!!m.multiple,A,!1):m.defaultValue!=null&&Rl(r,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=pp)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return rn(o),null;case 6:if(r&&o.stateNode!=null)NS(r,o,r.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(d=ta(od.current),ta(cs.current),xp(o)){if(m=o.stateNode,d=o.memoizedProps,m[ls]=o,(A=m.nodeValue!==d)&&(r=Hn,r!==null))switch(r.tag){case 3:fp(m.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fp(m.nodeValue,d,(r.mode&1)!==0)}A&&(o.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ls]=o,o.stateNode=m}return rn(o),null;case 13:if(it(ht),m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&Un!==null&&o.mode&1&&!(o.flags&128))DA(),Ul(),o.flags|=98560,A=!1;else if(A=xp(o),m!==null&&m.dehydrated!==null){if(r===null){if(!A)throw Error(t(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(t(317));A[ls]=o}else Ul(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;rn(o),A=!1}else Nr!==null&&($y(Nr),Nr=null),A=!0;if(!A)return o.flags&65536?o:null}return o.flags&128?(o.lanes=d,o):(m=m!==null,m!==(r!==null&&r.memoizedState!==null)&&m&&(o.child.flags|=8192,o.mode&1&&(r===null||ht.current&1?Mt===0&&(Mt=3):Hy())),o.updateQueue!==null&&(o.flags|=4),rn(o),null);case 4:return Xl(),Ry(r,o),r===null&&Zu(o.stateNode.containerInfo),rn(o),null;case 10:return ny(o.type._context),rn(o),null;case 17:return Pn(o.type)&&gp(),rn(o),null;case 19:if(it(ht),A=o.memoizedState,A===null)return rn(o),null;if(m=(o.flags&128)!==0,P=A.rendering,P===null)if(m)dd(A,!1);else{if(Mt!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(P=Tp(r),P!==null){for(o.flags|=128,dd(A,!1),m=P.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=d,d=o.child;d!==null;)A=d,r=m,A.flags&=14680066,P=A.alternate,P===null?(A.childLanes=0,A.lanes=r,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=P.childLanes,A.lanes=P.lanes,A.child=P.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=P.memoizedProps,A.memoizedState=P.memoizedState,A.updateQueue=P.updateQueue,A.type=P.type,r=P.dependencies,A.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return tt(ht,ht.current&1|2),o.child}r=r.sibling}A.tail!==null&&xt()>Ql&&(o.flags|=128,m=!0,dd(A,!1),o.lanes=4194304)}else{if(!m)if(r=Tp(P),r!==null){if(o.flags|=128,m=!0,d=r.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),dd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!P.alternate&&!lt)return rn(o),null}else 2*xt()-A.renderingStartTime>Ql&&d!==1073741824&&(o.flags|=128,m=!0,dd(A,!1),o.lanes=4194304);A.isBackwards?(P.sibling=o.child,o.child=P):(d=A.last,d!==null?d.sibling=P:o.child=P,A.last=P)}return A.tail!==null?(o=A.tail,A.rendering=o,A.tail=o.sibling,A.renderingStartTime=xt(),o.sibling=null,d=ht.current,tt(ht,m?d&1|2:d&1),o):(rn(o),null);case 22:case 23:return By(),m=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==m&&(o.flags|=8192),m&&o.mode&1?Wn&1073741824&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function aN(r,o){switch(qv(o),o.tag){case 1:return Pn(o.type)&&gp(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Xl(),it(Rn),it(tn),cy(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return ay(o),null;case 13:if(it(ht),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ul()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return it(ht),null;case 4:return Xl(),null;case 10:return ny(o.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Op=!1,sn=!1,lN=typeof WeakSet=="function"?WeakSet:Set,de=null;function Yl(r,o){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){yt(r,o,m)}else d.current=null}function Py(r,o,d){try{d()}catch(m){yt(r,o,m)}}var IS=!1;function cN(r,o){if(Bv=np,r=dA(),Iv(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var P=0,L=-1,j=-1,U=0,ne=0,re=r,ee=null;t:for(;;){for(var ce;re!==d||y!==0&&re.nodeType!==3||(L=P+y),re!==A||m!==0&&re.nodeType!==3||(j=P+m),re.nodeType===3&&(P+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===d&&++U===y&&(L=P),ee===A&&++ne===m&&(j=P),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}d=L===-1||j===-1?null:{start:L,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(Hv={focusedElem:r,selectionRange:d},np=!1,de=o;de!==null;)if(o=de,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,de=r;else for(;de!==null;){o=de;try{var me=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,At=me.memoizedState,B=o.stateNode,$=B.getSnapshotBeforeUpdate(o.elementType===o.type?ge:Ir(o.type,ge),At);B.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){yt(o,o.return,ie)}if(r=o.sibling,r!==null){r.return=o.return,de=r;break}de=o.return}return me=IS,IS=!1,me}function hd(r,o,d){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&r)===r){var A=y.destroy;y.destroy=void 0,A!==void 0&&Py(o,d,A)}y=y.next}while(y!==m)}}function Fp(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&r)===r){var m=d.create;d.destroy=m()}d=d.next}while(d!==o)}}function ky(r){var o=r.ref;if(o!==null){var d=r.stateNode;switch(r.tag){case 5:r=d;break;default:r=d}typeof o=="function"?o(r):o.current=r}}function LS(r){var o=r.alternate;o!==null&&(r.alternate=null,LS(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[ls],delete o[td],delete o[Gv],delete o[VM],delete o[GM])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function DS(r){return r.tag===5||r.tag===3||r.tag===4}function OS(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||DS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function My(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(r,o):d.insertBefore(r,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(r,d)):(o=d,o.appendChild(r)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=pp));else if(m!==4&&(r=r.child,r!==null))for(My(r,o,d),r=r.sibling;r!==null;)My(r,o,d),r=r.sibling}function Ny(r,o,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?d.insertBefore(r,o):d.appendChild(r);else if(m!==4&&(r=r.child,r!==null))for(Ny(r,o,d),r=r.sibling;r!==null;)Ny(r,o,d),r=r.sibling}var Xt=null,Lr=!1;function Xi(r,o,d){for(d=d.child;d!==null;)FS(r,o,d),d=d.sibling}function FS(r,o,d){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(qf,d)}catch{}switch(d.tag){case 5:sn||Yl(d,o);case 6:var m=Xt,y=Lr;Xt=null,Xi(r,o,d),Xt=m,Lr=y,Xt!==null&&(Lr?(r=Xt,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(Lr?(r=Xt,d=d.stateNode,r.nodeType===8?Vv(r.parentNode,d):r.nodeType===1&&Vv(r,d),Wu(r)):Vv(Xt,d.stateNode));break;case 4:m=Xt,y=Lr,Xt=d.stateNode.containerInfo,Lr=!0,Xi(r,o,d),Xt=m,Lr=y;break;case 0:case 11:case 14:case 15:if(!sn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var A=y,P=A.destroy;A=A.tag,P!==void 0&&(A&2||A&4)&&Py(d,o,P),y=y.next}while(y!==m)}Xi(r,o,d);break;case 1:if(!sn&&(Yl(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(L){yt(d,o,L)}Xi(r,o,d);break;case 21:Xi(r,o,d);break;case 22:d.mode&1?(sn=(m=sn)||d.memoizedState!==null,Xi(r,o,d),sn=m):Xi(r,o,d);break;default:Xi(r,o,d)}}function jS(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new lN),o.forEach(function(m){var y=yN.bind(null,r,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Dr(r,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var A=r,P=o,L=P;e:for(;L!==null;){switch(L.tag){case 5:Xt=L.stateNode,Lr=!1;break e;case 3:Xt=L.stateNode.containerInfo,Lr=!0;break e;case 4:Xt=L.stateNode.containerInfo,Lr=!0;break e}L=L.return}if(Xt===null)throw Error(t(160));FS(A,P,y),Xt=null,Lr=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(U){yt(y,o,U)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$S(o,r),o=o.sibling}function $S(r,o){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Dr(o,r),ds(r),m&4){try{hd(3,r,r.return),Fp(3,r)}catch(ge){yt(r,r.return,ge)}try{hd(5,r,r.return)}catch(ge){yt(r,r.return,ge)}}break;case 1:Dr(o,r),ds(r),m&512&&d!==null&&Yl(d,d.return);break;case 5:if(Dr(o,r),ds(r),m&512&&d!==null&&Yl(d,d.return),r.flags&32){var y=r.stateNode;try{Iu(y,"")}catch(ge){yt(r,r.return,ge)}}if(m&4&&(y=r.stateNode,y!=null)){var A=r.memoizedProps,P=d!==null?d.memoizedProps:A,L=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{L==="input"&&A.type==="radio"&&A.name!=null&&Wf(y,A),cv(L,P);var U=cv(L,A);for(P=0;P<j.length;P+=2){var ne=j[P],re=j[P+1];ne==="style"?xx(y,re):ne==="dangerouslySetInnerHTML"?wx(y,re):ne==="children"?Iu(y,re):N(y,ne,re,U)}switch(L){case"input":Mu(y,A);break;case"textarea":gx(y,A);break;case"select":var ee=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!A.multiple;var ce=A.value;ce!=null?Rl(y,!!A.multiple,ce,!1):ee!==!!A.multiple&&(A.defaultValue!=null?Rl(y,!!A.multiple,A.defaultValue,!0):Rl(y,!!A.multiple,A.multiple?[]:"",!1))}y[td]=A}catch(ge){yt(r,r.return,ge)}}break;case 6:if(Dr(o,r),ds(r),m&4){if(r.stateNode===null)throw Error(t(162));y=r.stateNode,A=r.memoizedProps;try{y.nodeValue=A}catch(ge){yt(r,r.return,ge)}}break;case 3:if(Dr(o,r),ds(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Wu(o.containerInfo)}catch(ge){yt(r,r.return,ge)}break;case 4:Dr(o,r),ds(r);break;case 13:Dr(o,r),ds(r),y=r.child,y.flags&8192&&(A=y.memoizedState!==null,y.stateNode.isHidden=A,!A||y.alternate!==null&&y.alternate.memoizedState!==null||(Dy=xt())),m&4&&jS(r);break;case 22:if(ne=d!==null&&d.memoizedState!==null,r.mode&1?(sn=(U=sn)||ne,Dr(o,r),sn=U):Dr(o,r),ds(r),m&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!ne&&r.mode&1)for(de=r,ne=r.child;ne!==null;){for(re=de=ne;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:hd(4,ee,ee.return);break;case 1:Yl(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){m=ee,d=ee.return;try{o=m,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){yt(m,d,ge)}}break;case 5:Yl(ee,ee.return);break;case 22:if(ee.memoizedState!==null){HS(re);continue}}ce!==null?(ce.return=ee,de=ce):HS(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{y=re.stateNode,U?(A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(L=re.stateNode,j=re.memoizedProps.style,P=j!=null&&j.hasOwnProperty("display")?j.display:null,L.style.display=bx("display",P))}catch(ge){yt(r,r.return,ge)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=U?"":re.memoizedProps}catch(ge){yt(r,r.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Dr(o,r),ds(r),m&4&&jS(r);break;case 21:break;default:Dr(o,r),ds(r)}}function ds(r){var o=r.flags;if(o&2){try{e:{for(var d=r.return;d!==null;){if(DS(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Iu(y,""),m.flags&=-33);var A=OS(r);Ny(r,A,y);break;case 3:case 4:var P=m.stateNode.containerInfo,L=OS(r);My(r,L,P);break;default:throw Error(t(161))}}catch(j){yt(r,r.return,j)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function uN(r,o,d){de=r,zS(r)}function zS(r,o,d){for(var m=(r.mode&1)!==0;de!==null;){var y=de,A=y.child;if(y.tag===22&&m){var P=y.memoizedState!==null||Op;if(!P){var L=y.alternate,j=L!==null&&L.memoizedState!==null||sn;L=Op;var U=sn;if(Op=P,(sn=j)&&!U)for(de=y;de!==null;)P=de,j=P.child,P.tag===22&&P.memoizedState!==null?US(y):j!==null?(j.return=P,de=j):US(y);for(;A!==null;)de=A,zS(A),A=A.sibling;de=y,Op=L,sn=U}BS(r)}else y.subtreeFlags&8772&&A!==null?(A.return=y,de=A):BS(r)}}function BS(r){for(;de!==null;){var o=de;if(o.flags&8772){var d=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:sn||Fp(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!sn)if(d===null)m.componentDidMount();else{var y=o.elementType===o.type?d.memoizedProps:Ir(o.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var A=o.updateQueue;A!==null&&HA(o,A,m);break;case 3:var P=o.updateQueue;if(P!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}HA(o,P,d)}break;case 5:var L=o.stateNode;if(d===null&&o.flags&4){d=L;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&d.focus();break;case"img":j.src&&(d.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var U=o.alternate;if(U!==null){var ne=U.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Wu(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||o.flags&512&&ky(o)}catch(ee){yt(o,o.return,ee)}}if(o===r){de=null;break}if(d=o.sibling,d!==null){d.return=o.return,de=d;break}de=o.return}}function HS(r){for(;de!==null;){var o=de;if(o===r){de=null;break}var d=o.sibling;if(d!==null){d.return=o.return,de=d;break}de=o.return}}function US(r){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Fp(4,o)}catch(j){yt(o,d,j)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var y=o.return;try{m.componentDidMount()}catch(j){yt(o,y,j)}}var A=o.return;try{ky(o)}catch(j){yt(o,A,j)}break;case 5:var P=o.return;try{ky(o)}catch(j){yt(o,P,j)}}}catch(j){yt(o,o.return,j)}if(o===r){de=null;break}var L=o.sibling;if(L!==null){L.return=o.return,de=L;break}de=o.return}}var dN=Math.ceil,jp=I.ReactCurrentDispatcher,Iy=I.ReactCurrentOwner,mr=I.ReactCurrentBatchConfig,Ue=0,jt=null,Ct=null,Kt=0,Wn=0,ql=Hi(0),Mt=0,fd=null,ra=0,$p=0,Ly=0,pd=null,Mn=null,Dy=0,Ql=1/0,Xs=null,zp=!1,Oy=null,Ki=null,Bp=!1,Yi=null,Hp=0,md=0,Fy=null,Up=-1,Wp=0;function gn(){return Ue&6?xt():Up!==-1?Up:Up=xt()}function qi(r){return r.mode&1?Ue&2&&Kt!==0?Kt&-Kt:KM.transition!==null?(Wp===0&&(Wp=Ox()),Wp):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:Vx(r.type)),r):1}function Or(r,o,d,m){if(50<md)throw md=0,Fy=null,Error(t(185));$u(r,d,m),(!(Ue&2)||r!==jt)&&(r===jt&&(!(Ue&2)&&($p|=d),Mt===4&&Qi(r,Kt)),Nn(r,m),d===1&&Ue===0&&!(o.mode&1)&&(Ql=xt()+500,yp&&Wi()))}function Nn(r,o){var d=r.callbackNode;Kk(r,o);var m=Zf(r,r===jt?Kt:0);if(m===0)d!==null&&Ix(d),r.callbackNode=null,r.callbackPriority=0;else if(o=m&-m,r.callbackPriority!==o){if(d!=null&&Ix(d),o===1)r.tag===0?XM(VS.bind(null,r)):kA(VS.bind(null,r)),UM(function(){!(Ue&6)&&Wi()}),d=null;else{switch(Fx(m)){case 1:d=gv;break;case 4:d=Lx;break;case 16:d=Yf;break;case 536870912:d=Dx;break;default:d=Yf}d=ZS(d,WS.bind(null,r))}r.callbackPriority=o,r.callbackNode=d}}function WS(r,o){if(Up=-1,Wp=0,Ue&6)throw Error(t(327));var d=r.callbackNode;if(Jl()&&r.callbackNode!==d)return null;var m=Zf(r,r===jt?Kt:0);if(m===0)return null;if(m&30||m&r.expiredLanes||o)o=Vp(r,m);else{o=m;var y=Ue;Ue|=2;var A=XS();(jt!==r||Kt!==o)&&(Xs=null,Ql=xt()+500,ia(r,o));do try{pN();break}catch(L){GS(r,L)}while(!0);ty(),jp.current=A,Ue=y,Ct!==null?o=0:(jt=null,Kt=0,o=Mt)}if(o!==0){if(o===2&&(y=vv(r),y!==0&&(m=y,o=jy(r,y))),o===1)throw d=fd,ia(r,0),Qi(r,m),Nn(r,xt()),d;if(o===6)Qi(r,m);else{if(y=r.current.alternate,!(m&30)&&!hN(y)&&(o=Vp(r,m),o===2&&(A=vv(r),A!==0&&(m=A,o=jy(r,A))),o===1))throw d=fd,ia(r,0),Qi(r,m),Nn(r,xt()),d;switch(r.finishedWork=y,r.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:oa(r,Mn,Xs);break;case 3:if(Qi(r,m),(m&130023424)===m&&(o=Dy+500-xt(),10<o)){if(Zf(r,0)!==0)break;if(y=r.suspendedLanes,(y&m)!==m){gn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=Wv(oa.bind(null,r,Mn,Xs),o);break}oa(r,Mn,Xs);break;case 4:if(Qi(r,m),(m&4194240)===m)break;for(o=r.eventTimes,y=-1;0<m;){var P=31-kr(m);A=1<<P,P=o[P],P>y&&(y=P),m&=~A}if(m=y,m=xt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dN(m/1960))-m,10<m){r.timeoutHandle=Wv(oa.bind(null,r,Mn,Xs),m);break}oa(r,Mn,Xs);break;case 5:oa(r,Mn,Xs);break;default:throw Error(t(329))}}}return Nn(r,xt()),r.callbackNode===d?WS.bind(null,r):null}function jy(r,o){var d=pd;return r.current.memoizedState.isDehydrated&&(ia(r,o).flags|=256),r=Vp(r,o),r!==2&&(o=Mn,Mn=d,o!==null&&$y(o)),r}function $y(r){Mn===null?Mn=r:Mn.push.apply(Mn,r)}function hN(r){for(var o=r;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],A=y.getSnapshot;y=y.value;try{if(!Mr(A(),y))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qi(r,o){for(o&=~Ly,o&=~$p,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var d=31-kr(o),m=1<<d;r[d]=-1,o&=~m}}function VS(r){if(Ue&6)throw Error(t(327));Jl();var o=Zf(r,0);if(!(o&1))return Nn(r,xt()),null;var d=Vp(r,o);if(r.tag!==0&&d===2){var m=vv(r);m!==0&&(o=m,d=jy(r,m))}if(d===1)throw d=fd,ia(r,0),Qi(r,o),Nn(r,xt()),d;if(d===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,oa(r,Mn,Xs),Nn(r,xt()),null}function zy(r,o){var d=Ue;Ue|=1;try{return r(o)}finally{Ue=d,Ue===0&&(Ql=xt()+500,yp&&Wi())}}function sa(r){Yi!==null&&Yi.tag===0&&!(Ue&6)&&Jl();var o=Ue;Ue|=1;var d=mr.transition,m=Ke;try{if(mr.transition=null,Ke=1,r)return r()}finally{Ke=m,mr.transition=d,Ue=o,!(Ue&6)&&Wi()}}function By(){Wn=ql.current,it(ql)}function ia(r,o){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,HM(d)),Ct!==null)for(d=Ct.return;d!==null;){var m=d;switch(qv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&gp();break;case 3:Xl(),it(Rn),it(tn),cy();break;case 5:ay(m);break;case 4:Xl();break;case 13:it(ht);break;case 19:it(ht);break;case 10:ny(m.type._context);break;case 22:case 23:By()}d=d.return}if(jt=r,Ct=r=Ji(r.current,null),Kt=Wn=o,Mt=0,fd=null,Ly=$p=ra=0,Mn=pd=null,ea!==null){for(o=0;o<ea.length;o++)if(d=ea[o],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,A=d.pending;if(A!==null){var P=A.next;A.next=y,m.next=P}d.pending=m}ea=null}return r}function GS(r,o){do{var d=Ct;try{if(ty(),Rp.current=Np,Pp){for(var m=ft.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Pp=!1}if(na=0,Ft=kt=ft=null,ad=!1,ld=0,Iy.current=null,d===null||d.return===null){Mt=1,fd=o,Ct=null;break}e:{var A=r,P=d.return,L=d,j=o;if(o=Kt,L.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var U=j,ne=L,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=vS(P);if(ce!==null){ce.flags&=-257,yS(ce,P,L,A,o),ce.mode&1&&gS(A,U,o),o=ce,j=U;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(j),o.updateQueue=ge}else me.add(j);break e}else{if(!(o&1)){gS(A,U,o),Hy();break e}j=Error(t(426))}}else if(lt&&L.mode&1){var At=vS(P);if(At!==null){!(At.flags&65536)&&(At.flags|=256),yS(At,P,L,A,o),Zv(Kl(j,L));break e}}A=j=Kl(j,L),Mt!==4&&(Mt=2),pd===null?pd=[A]:pd.push(A),A=P;do{switch(A.tag){case 3:A.flags|=65536,o&=-o,A.lanes|=o;var B=pS(A,j,o);BA(A,B);break e;case 1:L=j;var $=A.type,H=A.stateNode;if(!(A.flags&128)&&(typeof $.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ki===null||!Ki.has(H)))){A.flags|=65536,o&=-o,A.lanes|=o;var ie=mS(A,L,o);BA(A,ie);break e}}A=A.return}while(A!==null)}YS(d)}catch(we){o=we,Ct===d&&d!==null&&(Ct=d=d.return);continue}break}while(!0)}function XS(){var r=jp.current;return jp.current=Np,r===null?Np:r}function Hy(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),jt===null||!(ra&268435455)&&!($p&268435455)||Qi(jt,Kt)}function Vp(r,o){var d=Ue;Ue|=2;var m=XS();(jt!==r||Kt!==o)&&(Xs=null,ia(r,o));do try{fN();break}catch(y){GS(r,y)}while(!0);if(ty(),Ue=d,jp.current=m,Ct!==null)throw Error(t(261));return jt=null,Kt=0,Mt}function fN(){for(;Ct!==null;)KS(Ct)}function pN(){for(;Ct!==null&&!$k();)KS(Ct)}function KS(r){var o=JS(r.alternate,r,Wn);r.memoizedProps=r.pendingProps,o===null?YS(r):Ct=o,Iy.current=null}function YS(r){var o=r;do{var d=o.alternate;if(r=o.return,o.flags&32768){if(d=aN(d,o),d!==null){d.flags&=32767,Ct=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Mt=6,Ct=null;return}}else if(d=oN(d,o,Wn),d!==null){Ct=d;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=r}while(o!==null);Mt===0&&(Mt=5)}function oa(r,o,d){var m=Ke,y=mr.transition;try{mr.transition=null,Ke=1,mN(r,o,d,m)}finally{mr.transition=y,Ke=m}return null}function mN(r,o,d,m){do Jl();while(Yi!==null);if(Ue&6)throw Error(t(327));d=r.finishedWork;var y=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var A=d.lanes|d.childLanes;if(Yk(r,A),r===jt&&(Ct=jt=null,Kt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Bp||(Bp=!0,ZS(Yf,function(){return Jl(),null})),A=(d.flags&15990)!==0,d.subtreeFlags&15990||A){A=mr.transition,mr.transition=null;var P=Ke;Ke=1;var L=Ue;Ue|=4,Iy.current=null,cN(r,d),$S(d,r),DM(Hv),np=!!Bv,Hv=Bv=null,r.current=d,uN(d),zk(),Ue=L,Ke=P,mr.transition=A}else r.current=d;if(Bp&&(Bp=!1,Yi=r,Hp=y),A=r.pendingLanes,A===0&&(Ki=null),Uk(d.stateNode),Nn(r,xt()),o!==null)for(m=r.onRecoverableError,d=0;d<o.length;d++)y=o[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(zp)throw zp=!1,r=Oy,Oy=null,r;return Hp&1&&r.tag!==0&&Jl(),A=r.pendingLanes,A&1?r===Fy?md++:(md=0,Fy=r):md=0,Wi(),null}function Jl(){if(Yi!==null){var r=Fx(Hp),o=mr.transition,d=Ke;try{if(mr.transition=null,Ke=16>r?16:r,Yi===null)var m=!1;else{if(r=Yi,Yi=null,Hp=0,Ue&6)throw Error(t(331));var y=Ue;for(Ue|=4,de=r.current;de!==null;){var A=de,P=A.child;if(de.flags&16){var L=A.deletions;if(L!==null){for(var j=0;j<L.length;j++){var U=L[j];for(de=U;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:hd(8,ne,A)}var re=ne.child;if(re!==null)re.return=ne,de=re;else for(;de!==null;){ne=de;var ee=ne.sibling,ce=ne.return;if(LS(ne),ne===U){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var me=A.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var At=ge.sibling;ge.sibling=null,ge=At}while(ge!==null)}}de=A}}if(A.subtreeFlags&2064&&P!==null)P.return=A,de=P;else e:for(;de!==null;){if(A=de,A.flags&2048)switch(A.tag){case 0:case 11:case 15:hd(9,A,A.return)}var B=A.sibling;if(B!==null){B.return=A.return,de=B;break e}de=A.return}}var $=r.current;for(de=$;de!==null;){P=de;var H=P.child;if(P.subtreeFlags&2064&&H!==null)H.return=P,de=H;else e:for(P=$;de!==null;){if(L=de,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Fp(9,L)}}catch(we){yt(L,L.return,we)}if(L===P){de=null;break e}var ie=L.sibling;if(ie!==null){ie.return=L.return,de=ie;break e}de=L.return}}if(Ue=y,Wi(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(qf,r)}catch{}m=!0}return m}finally{Ke=d,mr.transition=o}}return!1}function qS(r,o,d){o=Kl(d,o),o=pS(r,o,1),r=Gi(r,o,1),o=gn(),r!==null&&($u(r,1,o),Nn(r,o))}function yt(r,o,d){if(r.tag===3)qS(r,r,d);else for(;o!==null;){if(o.tag===3){qS(o,r,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))){r=Kl(d,r),r=mS(o,r,1),o=Gi(o,r,1),r=gn(),o!==null&&($u(o,1,r),Nn(o,r));break}}o=o.return}}function gN(r,o,d){var m=r.pingCache;m!==null&&m.delete(o),o=gn(),r.pingedLanes|=r.suspendedLanes&d,jt===r&&(Kt&d)===d&&(Mt===4||Mt===3&&(Kt&130023424)===Kt&&500>xt()-Dy?ia(r,0):Ly|=d),Nn(r,o)}function QS(r,o){o===0&&(r.mode&1?(o=Jf,Jf<<=1,!(Jf&130023424)&&(Jf=4194304)):o=1);var d=gn();r=Ws(r,o),r!==null&&($u(r,o,d),Nn(r,d))}function vN(r){var o=r.memoizedState,d=0;o!==null&&(d=o.retryLane),QS(r,d)}function yN(r,o){var d=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=r.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),QS(r,d)}var JS;JS=function(r,o,d){if(r!==null)if(r.memoizedProps!==o.pendingProps||Rn.current)kn=!0;else{if(!(r.lanes&d)&&!(o.flags&128))return kn=!1,iN(r,o,d);kn=!!(r.flags&131072)}else kn=!1,lt&&o.flags&1048576&&MA(o,bp,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Dp(r,o),r=o.pendingProps;var y=zl(o,tn.current);Gl(o,d),y=hy(null,o,m,r,y,d);var A=fy();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Pn(m)?(A=!0,vp(o)):A=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,iy(o),y.updater=Ip,o.stateNode=y,y._reactInternals=o,wy(o,m,r,d),o=Sy(null,o,m,!0,A,d)):(o.tag=0,lt&&A&&Yv(o),mn(null,o,y,d),o=o.child),o;case 16:m=o.elementType;e:{switch(Dp(r,o),r=o.pendingProps,y=m._init,m=y(m._payload),o.type=m,y=o.tag=bN(m),r=Ir(m,r),y){case 0:o=Ay(null,o,m,r,d);break e;case 1:o=ES(null,o,m,r,d);break e;case 11:o=wS(null,o,m,r,d);break e;case 14:o=bS(null,o,m,Ir(m.type,r),d);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Ir(m,y),Ay(r,o,m,y,d);case 1:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Ir(m,y),ES(r,o,m,y,d);case 3:e:{if(_S(o),r===null)throw Error(t(387));m=o.pendingProps,A=o.memoizedState,y=A.element,zA(r,o),Cp(o,m,null,d);var P=o.memoizedState;if(m=P.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){y=Kl(Error(t(423)),o),o=CS(r,o,m,d,y);break e}else if(m!==y){y=Kl(Error(t(424)),o),o=CS(r,o,m,d,y);break e}else for(Un=Bi(o.stateNode.containerInfo.firstChild),Hn=o,lt=!0,Nr=null,d=jA(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ul(),m===y){o=Gs(r,o,d);break e}mn(r,o,m,d)}o=o.child}return o;case 5:return UA(o),r===null&&Jv(o),m=o.type,y=o.pendingProps,A=r!==null?r.memoizedProps:null,P=y.children,Uv(m,y)?P=null:A!==null&&Uv(m,A)&&(o.flags|=32),SS(r,o),mn(r,o,P,d),o.child;case 6:return r===null&&Jv(o),null;case 13:return TS(r,o,d);case 4:return oy(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=Wl(o,null,m,d):mn(r,o,m,d),o.child;case 11:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Ir(m,y),wS(r,o,m,y,d);case 7:return mn(r,o,o.pendingProps,d),o.child;case 8:return mn(r,o,o.pendingProps.children,d),o.child;case 12:return mn(r,o,o.pendingProps.children,d),o.child;case 10:e:{if(m=o.type._context,y=o.pendingProps,A=o.memoizedProps,P=y.value,tt(Sp,m._currentValue),m._currentValue=P,A!==null)if(Mr(A.value,P)){if(A.children===y.children&&!Rn.current){o=Gs(r,o,d);break e}}else for(A=o.child,A!==null&&(A.return=o);A!==null;){var L=A.dependencies;if(L!==null){P=A.child;for(var j=L.firstContext;j!==null;){if(j.context===m){if(A.tag===1){j=Vs(-1,d&-d),j.tag=2;var U=A.updateQueue;if(U!==null){U=U.shared;var ne=U.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),U.pending=j}}A.lanes|=d,j=A.alternate,j!==null&&(j.lanes|=d),ry(A.return,d,o),L.lanes|=d;break}j=j.next}}else if(A.tag===10)P=A.type===o.type?null:A.child;else if(A.tag===18){if(P=A.return,P===null)throw Error(t(341));P.lanes|=d,L=P.alternate,L!==null&&(L.lanes|=d),ry(P,d,o),P=A.sibling}else P=A.child;if(P!==null)P.return=A;else for(P=A;P!==null;){if(P===o){P=null;break}if(A=P.sibling,A!==null){A.return=P.return,P=A;break}P=P.return}A=P}mn(r,o,y.children,d),o=o.child}return o;case 9:return y=o.type,m=o.pendingProps.children,Gl(o,d),y=fr(y),m=m(y),o.flags|=1,mn(r,o,m,d),o.child;case 14:return m=o.type,y=Ir(m,o.pendingProps),y=Ir(m.type,y),bS(r,o,m,y,d);case 15:return xS(r,o,o.type,o.pendingProps,d);case 17:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:Ir(m,y),Dp(r,o),o.tag=1,Pn(m)?(r=!0,vp(o)):r=!1,Gl(o,d),hS(o,m,y),wy(o,m,y,d),Sy(null,o,m,!0,r,d);case 19:return PS(r,o,d);case 22:return AS(r,o,d)}throw Error(t(156,o.tag))};function ZS(r,o){return Nx(r,o)}function wN(r,o,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(r,o,d,m){return new wN(r,o,d,m)}function Uy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bN(r){if(typeof r=="function")return Uy(r)?1:0;if(r!=null){if(r=r.$$typeof,r===J)return 11;if(r===ve)return 14}return 2}function Ji(r,o){var d=r.alternate;return d===null?(d=gr(r.tag,o,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=o,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,o=r.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function Gp(r,o,d,m,y,A){var P=2;if(m=r,typeof r=="function")Uy(r)&&(P=1);else if(typeof r=="string")P=5;else e:switch(r){case O:return aa(d.children,y,A,o);case W:P=8,y|=8;break;case Y:return r=gr(12,d,o,y|2),r.elementType=Y,r.lanes=A,r;case oe:return r=gr(13,d,o,y),r.elementType=oe,r.lanes=A,r;case q:return r=gr(19,d,o,y),r.elementType=q,r.lanes=A,r;case Z:return Xp(d,y,A,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case te:P=10;break e;case se:P=9;break e;case J:P=11;break e;case ve:P=14;break e;case K:P=16,m=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=gr(P,d,o,y),o.elementType=r,o.type=m,o.lanes=A,o}function aa(r,o,d,m){return r=gr(7,r,m,o),r.lanes=d,r}function Xp(r,o,d,m){return r=gr(22,r,m,o),r.elementType=Z,r.lanes=d,r.stateNode={isHidden:!1},r}function Wy(r,o,d){return r=gr(6,r,null,o),r.lanes=d,r}function Vy(r,o,d){return o=gr(4,r.children!==null?r.children:[],r.key,o),o.lanes=d,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function xN(r,o,d,m,y){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yv(0),this.expirationTimes=yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yv(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Gy(r,o,d,m,y,A,P,L,j){return r=new xN(r,o,d,L,j),o===1?(o=1,A===!0&&(o|=8)):o=0,A=gr(3,null,null,o),r.current=A,A.stateNode=r,A.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(A),r}function AN(r,o,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:r,containerInfo:o,implementation:d}}function eE(r){if(!r)return Ui;r=r._reactInternals;e:{if(Yo(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var d=r.type;if(Pn(d))return RA(r,d,o)}return o}function tE(r,o,d,m,y,A,P,L,j){return r=Gy(d,m,!0,r,y,A,P,L,j),r.context=eE(null),d=r.current,m=gn(),y=qi(d),A=Vs(m,y),A.callback=o??null,Gi(d,A,y),r.current.lanes=y,$u(r,y,m),Nn(r,m),r}function Kp(r,o,d,m){var y=o.current,A=gn(),P=qi(y);return d=eE(d),o.context===null?o.context=d:o.pendingContext=d,o=Vs(A,P),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Gi(y,o,P),r!==null&&(Or(r,y,P,A),_p(r,y,P)),P}function Yp(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function nE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<o?d:o}}function Xy(r,o){nE(r,o),(r=r.alternate)&&nE(r,o)}var rE=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ky(r){this._internalRoot=r}qp.prototype.render=Ky.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Kp(r,o,null,null)},qp.prototype.unmount=Ky.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;sa(function(){Kp(null,r,null,null)}),o[zs]=null}};function qp(r){this._internalRoot=r}qp.prototype.unstable_scheduleHydration=function(r){if(r){var o=zx();r={blockedOn:null,target:r,priority:o};for(var d=0;d<ji.length&&o!==0&&o<ji[d].priority;d++);ji.splice(d,0,r),d===0&&Ux(r)}};function Yy(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Qp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sE(){}function SN(r,o,d,m,y){if(y){if(typeof m=="function"){var A=m;m=function(){var U=Yp(P);A.call(U)}}var P=tE(o,m,r,0,null,!1,!1,"",sE);return r._reactRootContainer=P,r[zs]=P.current,Zu(r.nodeType===8?r.parentNode:r),sa(),P}for(;y=r.lastChild;)r.removeChild(y);if(typeof m=="function"){var L=m;m=function(){var U=Yp(j);L.call(U)}}var j=Gy(r,0,!1,null,null,!1,!1,"",sE);return r._reactRootContainer=j,r[zs]=j.current,Zu(r.nodeType===8?r.parentNode:r),sa(function(){Kp(o,j,d,m)}),j}function Jp(r,o,d,m,y){var A=d._reactRootContainer;if(A){var P=A;if(typeof y=="function"){var L=y;y=function(){var j=Yp(P);L.call(j)}}Kp(o,P,r,y)}else P=SN(d,o,r,y,m);return Yp(P)}jx=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var d=ju(o.pendingLanes);d!==0&&(wv(o,d|1),Nn(o,xt()),!(Ue&6)&&(Ql=xt()+500,Wi()))}break;case 13:sa(function(){var m=Ws(r,1);if(m!==null){var y=gn();Or(m,r,1,y)}}),Xy(r,1)}},bv=function(r){if(r.tag===13){var o=Ws(r,134217728);if(o!==null){var d=gn();Or(o,r,134217728,d)}Xy(r,134217728)}},$x=function(r){if(r.tag===13){var o=qi(r),d=Ws(r,o);if(d!==null){var m=gn();Or(d,r,o,m)}Xy(r,o)}},zx=function(){return Ke},Bx=function(r,o){var d=Ke;try{return Ke=r,o()}finally{Ke=d}},hv=function(r,o,d){switch(o){case"input":if(Mu(r,d),o=d.name,d.type==="radio"&&o!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==r&&m.form===r.form){var y=mp(m);if(!y)throw Error(t(90));ku(m),Mu(m,y)}}}break;case"textarea":gx(r,d);break;case"select":o=d.value,o!=null&&Rl(r,!!d.multiple,o,!1)}},_x=zy,Cx=sa;var EN={usingClientEntryPoint:!1,Events:[nd,jl,mp,Sx,Ex,zy]},gd={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_N={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=kx(r),r===null?null:r.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{qf=Zp.inject(_N),as=Zp}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EN,In.createPortal=function(r,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(o))throw Error(t(200));return AN(r,o,null,d)},In.createRoot=function(r,o){if(!Yy(r))throw Error(t(299));var d=!1,m="",y=rE;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Gy(r,1,!1,null,null,d,!1,m,y),r[zs]=o.current,Zu(r.nodeType===8?r.parentNode:r),new Ky(o)},In.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=kx(o),r=r===null?null:r.stateNode,r},In.flushSync=function(r){return sa(r)},In.hydrate=function(r,o,d){if(!Qp(o))throw Error(t(200));return Jp(null,r,o,!0,d)},In.hydrateRoot=function(r,o,d){if(!Yy(r))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,y=!1,A="",P=rE;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),o=tE(o,null,r,1,d??null,y,!1,A,P),r[zs]=o.current,Zu(r),m)for(r=0;r<m.length;r++)d=m[r],y=d._getVersion,y=y(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,y]:o.mutableSourceEagerHydrationData.push(d,y);return new qp(o)},In.render=function(r,o,d){if(!Qp(o))throw Error(t(200));return Jp(null,r,o,!1,d)},In.unmountComponentAtNode=function(r){if(!Qp(r))throw Error(t(40));return r._reactRootContainer?(sa(function(){Jp(null,null,r,!1,function(){r._reactRootContainer=null,r[zs]=null})}),!0):!1},In.unstable_batchedUpdates=zy,In.unstable_renderSubtreeIntoContainer=function(r,o,d,m){if(!Qp(d))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Jp(r,o,d,!1,m)},In.version="18.3.1-next-f1338f8080-20240426",In}var fE;function S1(){if(fE)return Zy.exports;fE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zy.exports=ON(),Zy.exports}var pE;function FN(){if(pE)return em;pE=1;var i=S1();return em.createRoot=i.createRoot,em.hydrateRoot=i.hydrateRoot,em}var jN=FN(),yd={},mE;function $N(){if(mE)return yd;mE=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.parse=l,yd.serialize=f;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,w){const b=new a,x=v.length;if(x<2)return b;const E=(w==null?void 0:w.decode)||p;let _=0;do{const R=v.indexOf("=",_);if(R===-1)break;const N=v.indexOf(";",_),I=N===-1?x:N;if(R>I){_=v.lastIndexOf(";",R-1)+1;continue}const D=c(v,_,R),z=h(v,R,D),O=v.slice(D,z);if(b[O]===void 0){let W=c(v,R+1,I),Y=h(v,I,W);const te=E(v.slice(W,Y));b[O]=te}_=I+1}while(_<x);return b}function c(v,w,b){do{const x=v.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<b);return b}function h(v,w,b){for(;w>b;){const x=v.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return b}function f(v,w,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=x(w);if(!e.test(E))throw new TypeError(`argument val is invalid: ${w}`);let _=v+"="+E;if(!b)return _;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);_+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);_+="; Domain="+b.domain}if(b.path){if(!n.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);_+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);_+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(_+="; HttpOnly"),b.secure&&(_+="; Secure"),b.partitioned&&(_+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return _}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return s.call(v)==="[object Date]"}return yd}$N();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gE="popstate";function zN(i={}){function e(n,s){let{pathname:a,search:l,hash:c}=n.location;return Tw("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Xd(s)}return HN(e,t,null,i)}function vt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ls(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function vE(i,e){return{usr:i.state,key:i.key,idx:e}}function Tw(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eu(e):e,state:t,key:e&&e.key||n||BN()}}function Xd({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Eu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function HN(i,e,t,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let E=p(),_=E==null?null:E-f;f=E,h&&h({action:c,location:x.location,delta:_})}function v(E,_){c="PUSH";let R=Tw(x.location,E,_);f=p()+1;let N=vE(R,f),I=x.createHref(R);try{l.pushState(N,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(I)}a&&h&&h({action:c,location:x.location,delta:1})}function w(E,_){c="REPLACE";let R=Tw(x.location,E,_);f=p();let N=vE(R,f),I=x.createHref(R);l.replaceState(N,"",I),a&&h&&h({action:c,location:x.location,delta:0})}function b(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof E=="string"?E:Xd(E);return R=R.replace(/ $/,"%20"),vt(_,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,_)}let x={get action(){return c},get location(){return i(s,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(gE,g),h=E,()=>{s.removeEventListener(gE,g),h=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let _=b(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:w,go(E){return l.go(E)}};return x}function E1(i,e,t="/"){return UN(i,e,t,!1)}function UN(i,e,t,n){let s=typeof e=="string"?Eu(e):e,a=$o(s.pathname||"/",t);if(a==null)return null;let l=_1(i);WN(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=tI(a);c=ZN(l[h],f,n)}return c}function _1(i,e=[],t=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(vt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=Ci([n,h.relativePath]),p=t.concat(h);a.children&&a.children.length>0&&(vt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),_1(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:QN(f,a.index),routesMeta:p})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of C1(a.path))s(a,l,h)}),e}function C1(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=C1(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function WN(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:JN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var VN=/^:[\w-]+$/,GN=3,XN=2,KN=1,YN=10,qN=-2,yE=i=>i==="*";function QN(i,e){let t=i.split("/"),n=t.length;return t.some(yE)&&(n+=qN),e&&(n+=XN),t.filter(s=>!yE(s)).reduce((s,a)=>s+(VN.test(a)?GN:a===""?KN:YN),n)}function JN(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function ZN(i,e,t=!1){let{routesMeta:n}=i,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Qm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=Qm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ci([a,g.pathname]),pathnameBase:iI(Ci([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Ci([a,g.pathnameBase]))}return l}function Qm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=eI(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let b=c[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[v];return g&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:i}}function eI(i,e=!1,t=!0){Ls(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function tI(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function $o(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function nI(i,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof i=="string"?Eu(i):i;return{pathname:t?t.startsWith("/")?t:rI(t,e):e,search:oI(n),hash:aI(s)}}function rI(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function nw(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sI(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function T1(i){let e=sI(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function R1(i,e,t,n=!1){let s;typeof i=="string"?s=Eu(i):(s={...i},vt(!s.pathname||!s.pathname.includes("?"),nw("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),nw("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),nw("#","search","hash",s)));let a=i===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?e[g]:"/"}let h=nI(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Ci=i=>i.join("/").replace(/\/\/+/g,"/"),iI=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aI=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lI(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var cI=["GET",...P1];new Set(cI);var _u=S.createContext(null);_u.displayName="DataRouter";var Lg=S.createContext(null);Lg.displayName="DataRouterState";var k1=S.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var uI=S.createContext(new Map);uI.displayName="Fetchers";var dI=S.createContext(null);dI.displayName="Await";var Fs=S.createContext(null);Fs.displayName="Navigation";var Pf=S.createContext(null);Pf.displayName="Location";var Ii=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var h0=S.createContext(null);h0.displayName="RouteError";function hI(i,{relative:e}={}){vt(kf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=S.useContext(Fs),{hash:s,pathname:a,search:l}=Mf(i,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ci([t,a])),n.createHref({pathname:c,search:l,hash:s})}function kf(){return S.useContext(Pf)!=null}function Go(){return vt(kf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Pf).location}var M1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(i){S.useContext(Fs).static||S.useLayoutEffect(i)}function Dg(){let{isDataRoute:i}=S.useContext(Ii);return i?_I():fI()}function fI(){vt(kf(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(_u),{basename:e,navigator:t}=S.useContext(Fs),{matches:n}=S.useContext(Ii),{pathname:s}=Go(),a=JSON.stringify(T1(n)),l=S.useRef(!1);return N1(()=>{l.current=!0}),S.useCallback((h,f={})=>{if(Ls(l.current,M1),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=R1(h,JSON.parse(a),s,f.relative==="path");i==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ci([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,s,i])}S.createContext(null);function Mf(i,{relative:e}={}){let{matches:t}=S.useContext(Ii),{pathname:n}=Go(),s=JSON.stringify(T1(t));return S.useMemo(()=>R1(i,JSON.parse(s),n,e==="path"),[i,s,n,e])}function pI(i,e){return I1(i,e)}function I1(i,e,t,n){var _;vt(kf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(Fs),{matches:a}=S.useContext(Ii),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let R=p&&p.path||"";L1(h,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=Go(),v;if(e){let R=typeof e=="string"?Eu(e):e;vt(f==="/"||((_=R.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=g;let w=v.pathname||"/",b=w;if(f!=="/"){let R=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let x=E1(i,{pathname:b});Ls(p||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ls(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=wI(x&&x.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Ci([f,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:Ci([f,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,n);return e&&E?S.createElement(Pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function mI(){let i=EI(),e=lI(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",i),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,l)}var gI=S.createElement(mI,null),vI=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?S.createElement(Ii.Provider,{value:this.props.routeContext},S.createElement(h0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yI({routeContext:i,match:e,children:t}){let n=S.useContext(_u);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ii.Provider,{value:i},t)}function wI(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let g,v=!1,w=null,b=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||gI,l&&(c<0&&p===0?(L1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===p&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,p+1)),E=()=>{let _;return g?_=w:v?_=b:f.route.Component?_=S.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,S.createElement(yI,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:_})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(vI,{location:t.location,revalidation:t.revalidation,component:w,error:g,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}function f0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bI(i){let e=S.useContext(_u);return vt(e,f0(i)),e}function xI(i){let e=S.useContext(Lg);return vt(e,f0(i)),e}function AI(i){let e=S.useContext(Ii);return vt(e,f0(i)),e}function p0(i){let e=AI(i),t=e.matches[e.matches.length-1];return vt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function SI(){return p0("useRouteId")}function EI(){var n;let i=S.useContext(h0),e=xI("useRouteError"),t=p0("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function _I(){let{router:i}=bI("useNavigate"),e=p0("useNavigate"),t=S.useRef(!1);return N1(()=>{t.current=!0}),S.useCallback(async(s,a={})=>{Ls(t.current,M1),t.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...a}))},[i,e])}var wE={};function L1(i,e,t){!e&&!wE[i]&&(wE[i]=!0,Ls(!1,t))}S.memo(CI);function CI({routes:i,future:e,state:t}){return I1(i,void 0,t,e)}function fm(i){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:a=!1}){vt(!kf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=i.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=Eu(t));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=t,w=S.useMemo(()=>{let b=$o(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:v},navigationType:n}},[l,h,f,p,g,v,n]);return Ls(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(Fs.Provider,{value:c},S.createElement(Pf.Provider,{children:e,value:w}))}function RI({children:i,location:e}){return pI(Rw(i),e)}function Rw(i,e=[]){let t=[];return S.Children.forEach(i,(n,s)=>{if(!S.isValidElement(n))return;let a=[...e,s];if(n.type===S.Fragment){t.push.apply(t,Rw(n.props.children,a));return}vt(n.type===fm,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Rw(n.props.children,a)),t.push(l)}),t}var pm="get",mm="application/x-www-form-urlencoded";function Og(i){return i!=null&&typeof i.tagName=="string"}function PI(i){return Og(i)&&i.tagName.toLowerCase()==="button"}function kI(i){return Og(i)&&i.tagName.toLowerCase()==="form"}function MI(i){return Og(i)&&i.tagName.toLowerCase()==="input"}function NI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function II(i,e){return i.button===0&&(!e||e==="_self")&&!NI(i)}var tm=null;function LI(){if(tm===null)try{new FormData(document.createElement("form"),0),tm=!1}catch{tm=!0}return tm}var DI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rw(i){return i!=null&&!DI.has(i)?(Ls(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):i}function OI(i,e){let t,n,s,a,l;if(kI(i)){let c=i.getAttribute("action");n=c?$o(c,e):null,t=i.getAttribute("method")||pm,s=rw(i.getAttribute("enctype"))||mm,a=new FormData(i)}else if(PI(i)||MI(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?$o(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||pm,s=rw(i.getAttribute("formenctype"))||rw(c.getAttribute("enctype"))||mm,a=new FormData(c,i),!LI()){let{name:f,type:p,value:g}=i;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Og(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pm,n=null,s=mm,l=i}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:a,body:l}}function m0(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function FI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $I(i,e,t){let n=await Promise.all(i.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await FI(a,t);return l.links?l.links():[]}return[]}));return UI(n.flat(1).filter(jI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bE(i,e,t,n,s,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var p;return t[f].pathname!==h.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{var g;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zI(i,e){return BI(i.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function BI(i){return[...new Set(i)]}function HI(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function UI(i,e){let t=new Set;return new Set(e),i.reduce((n,s)=>{let a=JSON.stringify(HI(s));return t.has(a)||(t.add(a),n.push({key:a,link:s})),n},[])}function WI(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function VI(){let i=S.useContext(_u);return m0(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function GI(){let i=S.useContext(Lg);return m0(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var g0=S.createContext(void 0);g0.displayName="FrameworkContext";function D1(){let i=S.useContext(g0);return m0(i,"You must render this element inside a <HydratedRouter> element"),i}function XI(i,e){let t=S.useContext(g0),[n,s]=S.useState(!1),[a,l]=S.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(i==="render"&&l(!0),i==="viewport"){let x=_=>{_.forEach(R=>{l(R.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[i]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[n]);let w=()=>{s(!0)},b=()=>{s(!1),l(!1)};return t?i!=="intent"?[a,v,{}]:[a,v,{onFocus:wd(c,w),onBlur:wd(h,b),onMouseEnter:wd(f,w),onMouseLeave:wd(p,b),onTouchStart:wd(g,w)}]:[!1,v,{}]}function wd(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function KI({page:i,...e}){let{router:t}=VI(),n=S.useMemo(()=>E1(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?S.createElement(qI,{page:i,matches:n,...e}):null}function YI(i){let{manifest:e,routeModules:t}=D1(),[n,s]=S.useState([]);return S.useEffect(()=>{let a=!1;return $I(i,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[i,e,t]),n}function qI({page:i,matches:e,...t}){let n=Go(),{manifest:s,routeModules:a}=D1(),{loaderData:l,matches:c}=GI(),h=S.useMemo(()=>bE(i,e,c,s,n,"data"),[i,e,c,s,n]),f=S.useMemo(()=>bE(i,e,c,s,n,"assets"),[i,e,c,s,n]),p=S.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(e.forEach(E=>{var R;let _=s.routes[E.route.id];!_||!_.hasLoader||(!h.some(N=>N.route.id===E.route.id)&&E.route.id in l&&((R=a[E.route.id])!=null&&R.shouldRevalidate)||_.hasClientLoader?b=!0:w.add(E.route.id))}),w.size===0)return[];let x=WI(i);return b&&w.size>0&&x.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[x.pathname+x.search]},[l,n,s,h,e,i,a]),g=S.useMemo(()=>zI(f,s),[f,s]),v=YI(f);return S.createElement(S.Fragment,null,p.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),g.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:b})=>S.createElement("link",{key:w,...b})))}function QI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O1&&(window.__reactRouterVersion="7.1.1")}catch{}function JI({basename:i,children:e,window:t}){let n=S.useRef();n.current==null&&(n.current=zN({window:t,v5Compat:!0}));let s=n.current,[a,l]=S.useState({action:s.action,location:s.location}),c=S.useCallback(h=>{S.startTransition(()=>l(h))},[l]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(TI,{basename:i,children:e,location:a.location,navigationType:a.action,navigator:s})}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=S.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:g,...v},w){let{basename:b}=S.useContext(Fs),x=typeof f=="string"&&F1.test(f),E,_=!1;if(typeof f=="string"&&x&&(E=f,O1))try{let Y=new URL(window.location.href),te=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),se=$o(te.pathname,b);te.origin===Y.origin&&se!=null?f=se+te.search+te.hash:_=!0}catch{Ls(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=hI(f,{relative:s}),[N,I,D]=XI(n,v),z=nL(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:g});function O(Y){e&&e(Y),Y.defaultPrevented||z(Y)}let W=S.createElement("a",{...v,...D,href:E||R,onClick:_||a?e:O,ref:QI(w,I),target:h,"data-discover":!x&&t==="render"?"true":void 0});return N&&!x?S.createElement(S.Fragment,null,W,S.createElement(KI,{page:R})):W});j1.displayName="Link";var ZI=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let g=Mf(l,{relative:f.relative}),v=Go(),w=S.useContext(Lg),{navigator:b,basename:x}=S.useContext(Fs),E=w!=null&&aL(g)&&c===!0,_=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,R=v.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(R=R.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&x&&(N=$o(N,x)||N);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=R===_||!s&&R.startsWith(_)&&R.charAt(I)==="/",z=N!=null&&(N===_||!s&&N.startsWith(_)&&N.charAt(_.length)==="/"),O={isActive:D,isPending:z,isTransitioning:E},W=D?e:void 0,Y;typeof n=="function"?Y=n(O):Y=[n,D?"active":null,z?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(O):a;return S.createElement(j1,{...f,"aria-current":W,className:Y,ref:p,style:te,to:l,viewTransition:c},typeof h=="function"?h(O):h)});ZI.displayName="NavLink";var eL=S.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:a,method:l=pm,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...v},w)=>{let b=iL(),x=oL(c,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&F1.test(c),R=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,D=(I==null?void 0:I.getAttribute("formmethod"))||l;b(I||N.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:w,method:E,action:x,onSubmit:n?h:R,...v,"data-discover":!_&&i==="render"?"true":void 0})});eL.displayName="Form";function tL(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(i){let e=S.useContext(_u);return vt(e,tL(i)),e}function nL(i,{target:e,replace:t,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Dg(),h=Go(),f=Mf(i,{relative:a});return S.useCallback(p=>{if(II(p,e)){p.preventDefault();let g=t!==void 0?t:Xd(h)===Xd(f);c(i,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,t,n,e,i,s,a,l])}var rL=0,sL=()=>`__${String(++rL)}__`;function iL(){let{router:i}=$1("useSubmit"),{basename:e}=S.useContext(Fs),t=SI();return S.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=OI(n,e);if(s.navigate===!1){let p=s.fetcherKey||sL();await i.fetch(p,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,t])}function oL(i,{relative:e}={}){let{basename:t}=S.useContext(Fs),n=S.useContext(Ii);vt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Mf(i||".",{relative:e})},l=Go();if(i==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!i||i===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ci([t,a.pathname])),Xd(a)}function aL(i,e={}){let t=S.useContext(k1);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=$1("useViewTransitionState"),s=Mf(i,{relative:e.relative});if(!t.isTransitioning)return!1;let a=$o(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=$o(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Qm(s.pathname,l)!=null||Qm(s.pathname,a)!=null}new TextEncoder;var Nf=S1();const z1=A1(Nf),lL={theme:"system",setTheme:()=>null},B1=S.createContext(lL);function cL({children:i,defaultTheme:e="system",storageKey:t="vite-ui-theme",...n}){const[s,a]=S.useState(()=>localStorage.getItem(t)||e);S.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(h);return}c.classList.add(s)},[s]);const l={theme:s,setTheme:c=>{localStorage.setItem(t,c),a(c)}};return T.jsx(B1.Provider,{...n,value:l,children:i})}const uL=()=>{const i=S.useContext(B1);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i};function xE(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function If(...i){return e=>{let t=!1;const n=i.map(s=>{const a=xE(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():xE(i[s],null)}}}}function rt(...i){return S.useCallback(If(...i),i)}var cr=S.forwardRef((i,e)=>{const{children:t,...n}=i,s=S.Children.toArray(t),a=s.find(dL);if(a){const l=a.props.children,c=s.map(h=>h===a?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:h);return T.jsx(Pw,{...n,ref:e,children:S.isValidElement(l)?S.cloneElement(l,void 0,c):null})}return T.jsx(Pw,{...n,ref:e,children:t})});cr.displayName="Slot";var Pw=S.forwardRef((i,e)=>{const{children:t,...n}=i;if(S.isValidElement(t)){const s=fL(t);return S.cloneElement(t,{...hL(n,t.props),ref:e?If(e,s):s})}return S.Children.count(t)>1?S.Children.only(null):null});Pw.displayName="SlotClone";var H1=({children:i})=>T.jsx(T.Fragment,{children:i});function dL(i){return S.isValidElement(i)&&i.type===H1}function hL(i,e){const t={...e};for(const n in e){const s=i[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...c)=>{a(...c),s(...c)}:s&&(t[n]=s):n==="style"?t[n]={...s,...a}:n==="className"&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...i,...t}}function fL(i){var n,s;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var pL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=pL.reduce((i,e)=>{const t=S.forwardRef((n,s)=>{const{asChild:a,...l}=n,c=a?cr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(c,{...l,ref:s})});return t.displayName=`Primitive.${e}`,{...i,[e]:t}},{});function U1(i,e){i&&Nf.flushSync(()=>i.dispatchEvent(e))}var mL="Label",W1=S.forwardRef((i,e)=>T.jsx(Qe.label,{...i,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=i.onMouseDown)==null||s.call(i,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));W1.displayName=mL;var V1=W1;function G1(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(t=G1(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function X1(){for(var i,e,t=0,n="",s=arguments.length;t<s;t++)(i=arguments[t])&&(e=G1(i))&&(n&&(n+=" "),n+=e);return n}const AE=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,SE=X1,Lf=(i,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return SE(i,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(f=>{const p=t==null?void 0:t[f],g=a==null?void 0:a[f];if(p===null)return null;const v=AE(p)||AE(g);return s[f][v]}),c=t&&Object.entries(t).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:g,className:v,...w}=p;return Object.entries(w).every(b=>{let[x,E]=b;return Array.isArray(E)?E.includes({...a,...c}[x]):{...a,...c}[x]===E})?[...f,g,v]:f},[]);return SE(i,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},v0="-",gL=i=>{const e=yL(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:l=>{const c=l.split(v0);return c[0]===""&&c.length!==1&&c.shift(),K1(c,e)||vL(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&n[l]?[...h,...n[l]]:h}}},K1=(i,e)=>{var l;if(i.length===0)return e.classGroupId;const t=i[0],n=e.nextPart.get(t),s=n?K1(i.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=i.join(v0);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},EE=/^\[(.+)\]$/,vL=i=>{if(EE.test(i)){const e=EE.exec(i)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},yL=i=>{const{theme:e,prefix:t}=i,n={nextPart:new Map,validators:[]};return bL(Object.entries(i.classGroups),t).forEach(([a,l])=>{kw(l,n,a,e)}),n},kw=(i,e,t,n)=>{i.forEach(s=>{if(typeof s=="string"){const a=s===""?e:_E(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(wL(s)){kw(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{kw(l,_E(e,a),t,n)})})},_E=(i,e)=>{let t=i;return e.split(v0).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},wL=i=>i.isThemeGetter,bL=(i,e)=>e?i.map(([t,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,s]}):i,xL=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(a,l)=>{t.set(a,l),e++,e>i&&(e=0,n=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},Y1="!",AL=i=>{const{separator:e,experimentalParseClassName:t}=i,n=e.length===1,s=e[0],a=e.length,l=c=>{const h=[];let f=0,p=0,g;for(let E=0;E<c.length;E++){let _=c[E];if(f===0){if(_===s&&(n||c.slice(E,E+a)===e)){h.push(c.slice(p,E)),p=E+a;continue}if(_==="/"){g=E;continue}}_==="["?f++:_==="]"&&f--}const v=h.length===0?c:c.substring(p),w=v.startsWith(Y1),b=w?v.substring(1):v,x=g&&g>p?g-p:void 0;return{modifiers:h,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}};return t?c=>t({className:c,parseClassName:l}):l},SL=i=>{if(i.length<=1)return i;const e=[];let t=[];return i.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},EL=i=>({cache:xL(i.cacheSize),parseClassName:AL(i),...gL(i)}),_L=/\s+/,CL=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],l=i.trim().split(_L);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:w}=t(f);let b=!!w,x=n(b?v.substring(0,w):v);if(!x){if(!b){c=f+(c.length>0?" "+c:c);continue}if(x=n(v),!x){c=f+(c.length>0?" "+c:c);continue}b=!1}const E=SL(p).join(":"),_=g?E+Y1:E,R=_+x;if(a.includes(R))continue;a.push(R);const N=s(x,b);for(let I=0;I<N.length;++I){const D=N[I];a.push(_+D)}c=f+(c.length>0?" "+c:c)}return c};function TL(){let i=0,e,t,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=q1(e))&&(n&&(n+=" "),n+=t);return n}const q1=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=q1(i[n]))&&(t&&(t+=" "),t+=e);return t};function RL(i,...e){let t,n,s,a=l;function l(h){const f=e.reduce((p,g)=>g(p),i());return t=EL(f),n=t.cache.get,s=t.cache.set,a=c,c(h)}function c(h){const f=n(h);if(f)return f;const p=CL(h,t);return s(h,p),p}return function(){return a(TL.apply(null,arguments))}}const ot=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},Q1=/^\[(?:([a-z-]+):)?(.+)\]$/i,PL=/^\d+\/\d+$/,kL=new Set(["px","full","screen"]),ML=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=i=>hc(i)||kL.has(i)||PL.test(i),eo=i=>Cu(i,"length",UL),hc=i=>!!i&&!Number.isNaN(Number(i)),sw=i=>Cu(i,"number",hc),bd=i=>!!i&&Number.isInteger(Number(i)),OL=i=>i.endsWith("%")&&hc(i.slice(0,-1)),Le=i=>Q1.test(i),to=i=>ML.test(i),FL=new Set(["length","size","percentage"]),jL=i=>Cu(i,FL,J1),$L=i=>Cu(i,"position",J1),zL=new Set(["image","url"]),BL=i=>Cu(i,zL,VL),HL=i=>Cu(i,"",WL),xd=()=>!0,Cu=(i,e,t)=>{const n=Q1.exec(i);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},UL=i=>NL.test(i)&&!IL.test(i),J1=()=>!1,WL=i=>LL.test(i),VL=i=>DL.test(i),GL=()=>{const i=ot("colors"),e=ot("spacing"),t=ot("blur"),n=ot("brightness"),s=ot("borderColor"),a=ot("borderRadius"),l=ot("borderSpacing"),c=ot("borderWidth"),h=ot("contrast"),f=ot("grayscale"),p=ot("hueRotate"),g=ot("invert"),v=ot("gap"),w=ot("gradientColorStops"),b=ot("gradientColorStopPositions"),x=ot("inset"),E=ot("margin"),_=ot("opacity"),R=ot("padding"),N=ot("saturate"),I=ot("scale"),D=ot("sepia"),z=ot("skew"),O=ot("space"),W=ot("translate"),Y=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto",Le,e],J=()=>[Le,e],oe=()=>["",Ks,eo],q=()=>["auto",hc,Le],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Le],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[hc,Le];return{cacheSize:500,separator:":",theme:{colors:[xd],spacing:[Ks,eo],blur:["none","",to,Le],brightness:F(),borderColor:[i],borderRadius:["none","","full",to,Le],borderSpacing:J(),borderWidth:oe(),contrast:F(),grayscale:X(),hueRotate:F(),invert:X(),gap:J(),gradientColorStops:[i],gradientColorStopPositions:[OL,eo],inset:se(),margin:se(),opacity:F(),padding:J(),saturate:F(),scale:F(),sepia:X(),skew:F(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[to]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),Le]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bd,Le]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",bd,Le]}],"grid-cols":[{"grid-cols":[xd]}],"col-start-end":[{col:["auto",{span:["full",bd,Le]},Le]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[xd]}],"row-start-end":[{row:["auto",{span:[bd,Le]},Le]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[to]},to]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",to,eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sw]}],"font-family":[{font:[xd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",hc,sw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,eo]}],"underline-offset":[{"underline-offset":["auto",Ks,Le]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),$L]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BL]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ks,Le]}],"outline-w":[{outline:[Ks,eo]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ks,eo]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",to,HL]}],"shadow-color":[{shadow:[xd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",to,Le]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[bd,Le]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[Ks,eo,sw]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XL=RL(GL);function pe(...i){return XL(X1(i))}const KL=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mw=S.forwardRef(({className:i,...e},t)=>T.jsx(V1,{ref:t,className:pe(KL(),i),...e}));Mw.displayName=V1.displayName;function xe(i,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(i==null||i(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function YL(i,e){const t=S.createContext(e),n=a=>{const{children:l,...c}=a,h=S.useMemo(()=>c,Object.values(c));return T.jsx(t.Provider,{value:h,children:l})};n.displayName=i+"Provider";function s(a){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${i}\``)}return[n,s]}function rs(i,e=[]){let t=[];function n(a,l){const c=S.createContext(l),h=t.length;t=[...t,l];const f=g=>{var _;const{scope:v,children:w,...b}=g,x=((_=v==null?void 0:v[i])==null?void 0:_[h])||c,E=S.useMemo(()=>b,Object.values(b));return T.jsx(x.Provider,{value:E,children:w})};f.displayName=a+"Provider";function p(g,v){var x;const w=((x=v==null?void 0:v[i])==null?void 0:x[h])||c,b=S.useContext(w);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const s=()=>{const a=t.map(l=>S.createContext(l));return function(c){const h=(c==null?void 0:c[i])||a;return S.useMemo(()=>({[`__scope${i}`]:{...c,[i]:h}}),[c,h])}};return s.scopeName=i,[n,qL(s,...e)]}function qL(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=n.reduce((c,{useScope:h,scopeName:f})=>{const g=h(a)[`__scope${f}`];return{...c,...g}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Gt(i){const e=S.useRef(i);return S.useEffect(()=>{e.current=i}),S.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function Tu({prop:i,defaultProp:e,onChange:t=()=>{}}){const[n,s]=QL({defaultProp:e,onChange:t}),a=i!==void 0,l=a?i:n,c=Gt(t),h=S.useCallback(f=>{if(a){const g=typeof f=="function"?f(i):f;g!==i&&c(g)}else s(f)},[a,i,s,c]);return[l,h]}function QL({defaultProp:i,onChange:e}){const t=S.useState(i),[n]=t,s=S.useRef(n),a=Gt(e);return S.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),t}function JL(i){const e=S.useRef({value:i,previous:i});return S.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var Jr=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function Z1(i){const[e,t]=S.useState(void 0);return Jr(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const h=a.borderBoxSize,f=Array.isArray(h)?h[0]:h;l=f.inlineSize,c=f.blockSize}else l=i.offsetWidth,c=i.offsetHeight;t({width:l,height:c})});return n.observe(i,{box:"border-box"}),()=>n.unobserve(i)}else t(void 0)},[i]),e}var y0="Switch",[ZL,OB]=rs(y0),[eD,tD]=ZL(y0),e_=S.forwardRef((i,e)=>{const{__scopeSwitch:t,name:n,checked:s,defaultChecked:a,required:l,disabled:c,value:h="on",onCheckedChange:f,form:p,...g}=i,[v,w]=S.useState(null),b=rt(e,N=>w(N)),x=S.useRef(!1),E=v?p||!!v.closest("form"):!0,[_=!1,R]=Tu({prop:s,defaultProp:a,onChange:f});return T.jsxs(eD,{scope:t,checked:_,disabled:c,children:[T.jsx(Qe.button,{type:"button",role:"switch","aria-checked":_,"aria-required":l,"data-state":r_(_),"data-disabled":c?"":void 0,disabled:c,value:h,...g,ref:b,onClick:xe(i.onClick,N=>{R(I=>!I),E&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),E&&T.jsx(nD,{control:v,bubbles:!x.current,name:n,value:h,checked:_,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});e_.displayName=y0;var t_="SwitchThumb",n_=S.forwardRef((i,e)=>{const{__scopeSwitch:t,...n}=i,s=tD(t_,t);return T.jsx(Qe.span,{"data-state":r_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});n_.displayName=t_;var nD=i=>{const{control:e,checked:t,bubbles:n=!0,...s}=i,a=S.useRef(null),l=JL(t),c=Z1(e);return S.useEffect(()=>{const h=a.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&g){const v=new Event("click",{bubbles:n});g.call(h,t),h.dispatchEvent(v)}},[l,t,n]),T.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function r_(i){return i?"checked":"unchecked"}var s_=e_,rD=n_;const i_=S.forwardRef(({className:i,...e},t)=>T.jsx(s_,{className:pe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...e,ref:t,children:T.jsx(rD,{className:pe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));i_.displayName=s_.displayName;function Cd({text:i}){return T.jsx("small",{className:"text-sm font-medium leading-none",children:i})}const Jm=S.forwardRef(({className:i,type:e,...t},n)=>T.jsx("input",{type:e,className:pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:n,...t}));Jm.displayName="Input";const sD=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Kd=S.forwardRef(({className:i,variant:e,size:t,asChild:n=!1,...s},a)=>{const l=n?cr:"button";return T.jsx(l,{className:pe(sD({variant:e,size:t,className:i})),ref:a,...s})});Kd.displayName="Button";var Wd={};Wd.d=(i,e)=>{for(var t in e)Wd.o(e,t)&&!Wd.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Wd.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var ke=globalThis.pdfjsLib={};Wd.d(ke,{AbortException:()=>zo,AnnotationEditorLayer:()=>zb,AnnotationEditorParamsType:()=>He,AnnotationEditorType:()=>De,AnnotationEditorUIManager:()=>wl,AnnotationLayer:()=>ZO,AnnotationMode:()=>oo,ColorPicker:()=>sg,DOMSVGFactory:()=>T0,DrawLayer:()=>Ub,FeatureTest:()=>En,GlobalWorkerOptions:()=>_i,ImageKind:()=>gm,InvalidPDFException:()=>Iw,MissingPDFException:()=>Yd,OPS:()=>jr,OutputScale:()=>Dw,PDFDataRangeTransport:()=>aC,PDFDateString:()=>S0,PDFWorker:()=>pc,PasswordResponses:()=>lD,PermissionFlag:()=>aD,PixelsPerInch:()=>Bo,RenderingCancelledException:()=>x0,TextLayer:()=>qd,TouchManager:()=>ng,UnexpectedResponseException:()=>Zm,Util:()=>Ae,VerbosityLevel:()=>Fg,XfaLayer:()=>cC,build:()=>IO,createValidAbsoluteUrl:()=>hD,fetchData:()=>Bg,getDocument:()=>EO,getFilenameFromUrl:()=>xD,getPdfFilenameFromUrl:()=>AD,getXfaPageViewport:()=>SD,isDataScheme:()=>Hg,isPdfFile:()=>A0,noContextMenu:()=>Zr,normalizeUnicode:()=>yD,setLayerDimensions:()=>yl,shadow:()=>Be,stopEvent:()=>or,version:()=>NO});const pn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),o_=[1,0,0,1,0,0],Nw=[.001,0,0,.001,0,0],iD=1e7,iw=1.35,rr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},oo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},oD="pdfjs_internal_editor_",De={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},He={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},aD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},on={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},gm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ad={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fg={ERRORS:0,WARNINGS:1,INFOS:5},jr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},lD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let jg=Fg.WARNINGS;function cD(i){Number.isInteger(i)&&(jg=i)}function uD(){return jg}function $g(i){jg>=Fg.INFOS&&console.log(`Info: ${i}`)}function Oe(i){jg>=Fg.WARNINGS&&console.log(`Warning: ${i}`)}function et(i){throw new Error(i)}function Rt(i,e){i||et(e)}function dD(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hD(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=vD(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(dD(n))return n}catch{}return null}function Be(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Xo=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class CE extends Xo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ow extends Xo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Iw extends Xo{constructor(e){super(e,"InvalidPDFException")}}class Yd extends Xo{constructor(e){super(e,"MissingPDFException")}}class Zm extends Xo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class fD extends Xo{constructor(e){super(e,"FormatError")}}class zo extends Xo{constructor(e){super(e,"AbortException")}}function a_(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&et("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<e;s+=t){const a=Math.min(s+t,e),l=i.subarray(s,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function zg(i){typeof i!="string"&&et("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function pD(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function w0(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function mD(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function gD(){try{return new Function(""),!0}catch{return!1}}class En{static get isLittleEndian(){return Be(this,"isLittleEndian",mD())}static get isEvalSupported(){return Be(this,"isEvalSupported",gD())}static get isOffscreenCanvasSupported(){return Be(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Be(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Be(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Be(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Be(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const aw=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Ti,vm,Lw;class Ae{static makeHexColor(e,t,n){return`#${aw[e]}${aw[t]}${aw[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,a=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,a]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),a=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],a[0],l[0]),Math.min(n[1],s[1],a[1],l[1]),Math.max(n[0],s[0],a[0],l[0]),Math.max(n[1],s[1],a[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],c=(n+l)/2,h=Math.sqrt((n+l)**2-4*(n*l-a*s))/2,f=c+h||1,p=c-h||1;return[Math.sqrt(f),Math.sqrt(p)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[n,a,s,l]}static bezierBoundingBox(e,t,n,s,a,l,c,h,f){return f?(f[0]=Math.min(f[0],e,c),f[1]=Math.min(f[1],t,h),f[2]=Math.max(f[2],e,c),f[3]=Math.max(f[3],t,h)):f=[Math.min(e,c),Math.min(t,h),Math.max(e,c),Math.max(t,h)],M(this,Ti,Lw).call(this,e,n,a,c,t,s,l,h,3*(-e+3*(n-a)+c),6*(e-2*n+a),3*(n-e),f),M(this,Ti,Lw).call(this,e,n,a,c,t,s,l,h,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),f),f}}Ti=new WeakSet,vm=function(e,t,n,s,a,l,c,h,f,p){if(f<=0||f>=1)return;const g=1-f,v=f*f,w=v*f,b=g*(g*(g*e+3*f*t)+3*v*n)+w*s,x=g*(g*(g*a+3*f*l)+3*v*c)+w*h;p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],b),p[3]=Math.max(p[3],x)},Lw=function(e,t,n,s,a,l,c,h,f,p,g,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&M(this,Ti,vm).call(this,e,t,n,s,a,l,c,h,-g/p,v);return}const w=p**2-4*g*f;if(w<0)return;const b=Math.sqrt(w),x=2*f;M(this,Ti,vm).call(this,e,t,n,s,a,l,c,h,(-p+b)/x,v),M(this,Ti,vm).call(this,e,t,n,s,a,l,c,h,(-p-b)/x,v)},k(Ae,Ti);function vD(i){return decodeURIComponent(escape(i))}let lw=null,TE=null;function yD(i){return lw||(lw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,TE=new Map([["ﬅ","ſt"]])),i.replaceAll(lw,(e,t,n)=>t?t.normalize("NFKC"):TE.get(n))}function wD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),a_(i)}const b0="pdfjs_internal_id_";function bD(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(a_(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});const Ys="http://www.w3.org/2000/svg",da=class da{};Te(da,"CSS",96),Te(da,"PDF",72),Te(da,"PDF_TO_CSS_UNITS",da.CSS/da.PDF);let Bo=da;async function Bg(i,e="text"){if(Td(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Df{constructor({viewBox:e,userUnit:t,scale:n,rotation:s,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=s,this.offsetX=a,this.offsetY=l,n*=t;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,v,w;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,v=0,w=1;break;case 90:p=0,g=1,v=1,w=0;break;case 270:p=0,g=-1,v=-1,w=0;break;case 0:p=1,g=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,w=-w);let b,x,E,_;p===0?(b=Math.abs(f-e[1])*n+a,x=Math.abs(h-e[0])*n+l,E=(e[3]-e[1])*n,_=(e[2]-e[0])*n):(b=Math.abs(h-e[0])*n+a,x=Math.abs(f-e[1])*n+l,E=(e[2]-e[0])*n,_=(e[3]-e[1])*n),this.transform=[p*n,g*n,v*n,w*n,b-p*n*h-v*n*f,x-g*n*h-w*n*f],this.width=E,this.height=_}get rawDims(){const{userUnit:e,viewBox:t}=this,n=t.map(s=>s*e);return Be(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new Df({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:a})}convertToViewportPoint(e,t){return Ae.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ae.applyTransform([e[0],e[1]],this.transform),n=Ae.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ae.applyInverseTransform([e,t],this.transform)}}class x0 extends Xo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Hg(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function A0(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function xD(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function AD(i,e="document.pdf"){if(typeof i!="string")return e;if(Hg(i))return Oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(i);let a=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||e}class RE{constructor(){Te(this,"started",Object.create(null));Te(this,"times",[])}time(e){e in this.started&&Oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-s}ms
`);return e.join("")}}function Td(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function Zr(i){i.preventDefault()}function or(i){i.preventDefault(),i.stopPropagation()}var rh;class S0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,rh)||C(this,rh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,rh).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,c+=g):f==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,s,a,l,c,h))}}rh=new WeakMap,k(S0,rh);function SD(i,{scale:e=1,rotation:t=0}){const{width:n,height:s}=i.attributes.style,a=[0,0,parseInt(n),parseInt(s)];return new Df({viewBox:a,userUnit:1,scale:e,rotation:t})}function E0(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Oe(`Not a valid color format: "${i}"`),[0,0,0])}function ED(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,E0(n))}e.remove()}function ut(i){const{a:e,b:t,c:n,d:s,e:a,f:l}=i.getTransform();return[e,t,n,s,a,l]}function hs(i){const{a:e,b:t,c:n,d:s,e:a,f:l}=i.getTransform().invertSelf();return[e,t,n,s,a,l]}function yl(i,e,t=!1,n=!0){if(e instanceof Df){const{pageWidth:s,pageHeight:a}=e.rawDims,{style:l}=i,c=En.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,f=`var(--scale-factor) * ${a}px`,p=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,g=c?`round(down, ${f}, var(--scale-round-y, 1px))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&i.setAttribute("data-main-rotation",e.rotation)}class Dw{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ao,fa,$r,pa,sh,ih,mg,l_,_n,c_,u_,ym,d_,Fw;const Js=class Js{constructor(e){k(this,_n);k(this,ao,null);k(this,fa,null);k(this,$r);k(this,pa,null);k(this,sh,null);C(this,$r,e),u(Js,ih)||C(Js,ih,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=C(this,ao,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,$r)._uiManager._signal;e.addEventListener("contextmenu",Zr,{signal:t}),e.addEventListener("pointerdown",M(Js,mg,l_),{signal:t});const n=C(this,pa,document.createElement("div"));n.className="buttons",e.append(n);const s=u(this,$r).toolbarPosition;if(s){const{style:a}=e,l=u(this,$r)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,_n,d_).call(this),e}get div(){return u(this,ao)}hide(){var e;u(this,ao).classList.add("hidden"),(e=u(this,fa))==null||e.hideDropdown()}show(){var e;u(this,ao).classList.remove("hidden"),(e=u(this,sh))==null||e.shown()}async addAltText(e){const t=await e.render();M(this,_n,ym).call(this,t),u(this,pa).prepend(t,u(this,_n,Fw)),C(this,sh,e)}addColorPicker(e){C(this,fa,e);const t=e.renderButton();M(this,_n,ym).call(this,t),u(this,pa).prepend(t,u(this,_n,Fw))}remove(){var e;u(this,ao).remove(),(e=u(this,fa))==null||e.destroy(),C(this,fa,null)}};ao=new WeakMap,fa=new WeakMap,$r=new WeakMap,pa=new WeakMap,sh=new WeakMap,ih=new WeakMap,mg=new WeakSet,l_=function(e){e.stopPropagation()},_n=new WeakSet,c_=function(e){u(this,$r)._focusEventsAllowed=!1,or(e)},u_=function(e){u(this,$r)._focusEventsAllowed=!0,or(e)},ym=function(e){const t=u(this,$r)._uiManager._signal;e.addEventListener("focusin",M(this,_n,c_).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",M(this,_n,u_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Zr,{signal:t})},d_=function(){const{editorType:e,_uiManager:t}=u(this,$r),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",u(Js,ih)[e]),M(this,_n,ym).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),u(this,pa).append(n)},Fw=function(){const e=document.createElement("div");return e.className="divider",e},k(Js,mg),k(Js,ih,null);let Ow=Js;var oh,ma,ga,Vo,h_,f_,p_;class _D{constructor(e){k(this,Vo);k(this,oh,null);k(this,ma,null);k(this,ga);C(this,ga,e)}show(e,t,n){const[s,a]=M(this,Vo,f_).call(this,t,n),{style:l}=u(this,ma)||C(this,ma,M(this,Vo,h_).call(this));e.append(u(this,ma)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,ma).remove()}}oh=new WeakMap,ma=new WeakMap,ga=new WeakMap,Vo=new WeakSet,h_=function(){const e=C(this,ma,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Zr,{signal:u(this,ga)._signal});const t=C(this,oh,document.createElement("div"));return t.className="buttons",e.append(t),M(this,Vo,p_).call(this),e},f_=function(e,t){let n=0,s=0;for(const a of e){const l=a.y+a.height;if(l<n)continue;const c=a.x+(t?a.width:0);if(l>n){s=c,n=l;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,n]},p_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=u(this,ga)._signal;e.addEventListener("contextmenu",Zr,{signal:n}),e.addEventListener("click",()=>{u(this,ga).highlightSelection("floating_button")},{signal:n}),u(this,oh).append(e)};function eg(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}var gg;class CD{constructor(){k(this,gg,0)}get id(){return`${oD}${vn(this,gg)._++}`}}gg=new WeakMap;var vc,ah,cn,yc,wm;const cx=class cx{constructor(){k(this,yc);k(this,vc,wD());k(this,ah,0);k(this,cn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const a=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Be(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:a}=e;return M(this,yc,wm).call(this,`${t}_${n}_${s}_${a}`,e)}async getFromUrl(e){return M(this,yc,wm).call(this,e,e)}async getFromBlob(e,t){const n=await t;return M(this,yc,wm).call(this,e,n)}async getFromId(e){u(this,cn)||C(this,cn,new Map);const t=u(this,cn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,cn)||C(this,cn,new Map);let n=u(this,cn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${u(this,vc)}_${vn(this,ah)._++}`,refCounter:1,isSvg:!1},u(this,cn).set(e,n),u(this,cn).set(n.id,n),n}getSvgUrl(e){const t=u(this,cn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;u(this,cn)||C(this,cn,new Map);const t=u(this,cn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,vc)}_`)}};vc=new WeakMap,ah=new WeakMap,cn=new WeakMap,yc=new WeakSet,wm=async function(e,t){u(this,cn)||C(this,cn,new Map);let n=u(this,cn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${u(this,vc)}_${vn(this,ah)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await Bg(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const a=cx._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((f,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){Oe(s),n=null}return u(this,cn).set(e,n),n&&u(this,cn).set(n.id,n),n};let jw=cx;var St,lo,lh,pt;class TD{constructor(e=128){k(this,St,[]);k(this,lo,!1);k(this,lh);k(this,pt,-1);C(this,lh,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&e(),u(this,lo))return;const h={cmd:e,undo:t,post:n,type:a};if(u(this,pt)===-1){u(this,St).length>0&&(u(this,St).length=0),C(this,pt,0),u(this,St).push(h);return}if(l&&u(this,St)[u(this,pt)].type===a){c&&(h.undo=u(this,St)[u(this,pt)].undo),u(this,St)[u(this,pt)]=h;return}const f=u(this,pt)+1;f===u(this,lh)?u(this,St).splice(0,1):(C(this,pt,f),f<u(this,St).length&&u(this,St).splice(f)),u(this,St).push(h)}undo(){if(u(this,pt)===-1)return;C(this,lo,!0);const{undo:e,post:t}=u(this,St)[u(this,pt)];e(),t==null||t(),C(this,lo,!1),C(this,pt,u(this,pt)-1)}redo(){if(u(this,pt)<u(this,St).length-1){C(this,pt,u(this,pt)+1),C(this,lo,!0);const{cmd:e,post:t}=u(this,St)[u(this,pt)];e(),t==null||t(),C(this,lo,!1)}}hasSomethingToUndo(){return u(this,pt)!==-1}hasSomethingToRedo(){return u(this,pt)<u(this,St).length-1}cleanType(e){if(u(this,pt)!==-1){for(let t=u(this,pt);t>=0;t--)if(u(this,St)[t].type!==e){u(this,St).splice(t+1,u(this,pt)-t),C(this,pt,t);return}u(this,St).length=0,C(this,pt,-1)}}destroy(){C(this,St,null)}}St=new WeakMap,lo=new WeakMap,lh=new WeakMap,pt=new WeakMap;var vg,m_;class Of{constructor(e){k(this,vg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=En.platform;for(const[n,s,a={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:s,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(M(this,vg,m_).call(this,t));if(!n)return;const{callback:s,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(s.bind(e,...l,t)(),a||or(t))}}vg=new WeakSet,m_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const yg=class yg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return ED(e),Be(this,"_colors",e)}convert(e){const t=E0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((a,l)=>a===t[l]))return yg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ae.makeHexColor(...t):e}};Te(yg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $w=yg;var wc,Vn,Lt,Yt,bc,ei,xc,wr,co,va,Ac,ya,ms,zr,wa,ch,uh,Sc,dh,gs,uo,Ec,ho,vs,wg,fo,hh,po,ba,fh,ph,zt,Ye,ti,xa,mh,gh,mo,ys,ni,vh,br,ae,bm,zw,g_,v_,xm,y_,w_,b_,Bw,x_,Hw,Uw,A_,yn,qs,S_,E_,Ww,__,Rd,Vw;const uc=class uc{constructor(e,t,n,s,a,l,c,h,f,p,g,v,w){k(this,ae);k(this,wc,new AbortController);k(this,Vn,null);k(this,Lt,new Map);k(this,Yt,new Map);k(this,bc,null);k(this,ei,null);k(this,xc,null);k(this,wr,new TD);k(this,co,null);k(this,va,null);k(this,Ac,0);k(this,ya,new Set);k(this,ms,null);k(this,zr,null);k(this,wa,new Set);Te(this,"_editorUndoBar",null);k(this,ch,!1);k(this,uh,!1);k(this,Sc,!1);k(this,dh,null);k(this,gs,null);k(this,uo,null);k(this,Ec,null);k(this,ho,!1);k(this,vs,null);k(this,wg,new CD);k(this,fo,!1);k(this,hh,!1);k(this,po,null);k(this,ba,null);k(this,fh,null);k(this,ph,null);k(this,zt,De.NONE);k(this,Ye,new Set);k(this,ti,null);k(this,xa,null);k(this,mh,null);k(this,gh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,mo,[0,0]);k(this,ys,null);k(this,ni,null);k(this,vh,null);k(this,br,null);const b=this._signal=u(this,wc).signal;C(this,ni,e),C(this,vh,t),C(this,bc,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),M(this,ae,y_).call(this),M(this,ae,A_).call(this),M(this,ae,Bw).call(this),C(this,ei,a.annotationStorage),C(this,dh,a.filterFactory),C(this,xa,l),C(this,Ec,c||null),C(this,ch,h),C(this,uh,f),C(this,Sc,p),C(this,ph,g||null),this.viewParameters={realScale:Bo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=w!==!1}static get _keyboardManager(){const e=uc.prototype,t=l=>u(l,ni).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Of([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,ni).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&u(l,ni).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,s,a;(e=u(this,br))==null||e.resolve(),C(this,br,null),(t=u(this,wc))==null||t.abort(),C(this,wc,null),this._signal=null;for(const l of u(this,Yt).values())l.destroy();u(this,Yt).clear(),u(this,Lt).clear(),u(this,wa).clear(),C(this,Vn,null),u(this,Ye).clear(),u(this,wr).destroy(),(n=u(this,bc))==null||n.destroy(),(s=u(this,vs))==null||s.hide(),C(this,vs,null),u(this,gs)&&(clearTimeout(u(this,gs)),C(this,gs,null)),u(this,ys)&&(clearTimeout(u(this,ys)),C(this,ys,null)),(a=this._editorUndoBar)==null||a.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,ph)}get useNewAltTextFlow(){return u(this,uh)}get useNewAltTextWhenAddingImage(){return u(this,Sc)}get hcmFilter(){return Be(this,"hcmFilter",u(this,xa)?u(this,dh).addHCMFilter(u(this,xa).foreground,u(this,xa).background):"none")}get direction(){return Be(this,"direction",getComputedStyle(u(this,ni)).direction)}get highlightColors(){return Be(this,"highlightColors",u(this,Ec)?new Map(u(this,Ec).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Be(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,va,e)}setMainHighlightColorPicker(e){C(this,fh,e)}editAltText(e,t=!1){var n;(n=u(this,bc))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,Sc,t);break}}onPageChanging({pageNumber:e}){C(this,Ac,e-1)}focusMainContainer(){u(this,ni).focus()}findParent(e,t){for(const n of u(this,Yt).values()){const{x:s,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=a&&t<=a+c)return n}return null}disableUserSelect(e=!1){u(this,vh).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,wa).add(e)}removeShouldRescale(e){u(this,wa).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Bo.PDF_TO_CSS_UNITS;for(const n of u(this,wa))n.onScaleChanging();(t=u(this,va))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}=t,c=t.toString(),f=M(this,ae,bm).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const g=M(this,ae,zw).call(this,f),v=u(this,zt)===De.NONE,w=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l,text:c}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(De.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,ei)&&!u(this,ei).has(e.id)&&u(this,ei).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,ho)&&(C(this,ho,!1),M(this,ae,xm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,Ye))if(t.div.contains(e)){C(this,ba,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,ba))return;const[e,t]=u(this,ba);C(this,ba,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){M(this,ae,Bw).call(this),M(this,ae,Hw).call(this)}removeEditListeners(){M(this,ae,x_).call(this),M(this,ae,Uw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of u(this,zr))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of u(this,zr))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=u(this,Vn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of u(this,Ye)){const a=s.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of u(this,zr))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){Oe(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const h of n){const f=await s.deserialize(h);if(!f)return;a.push(f)}const l=()=>{for(const h of a)M(this,ae,Ww).call(this,h);M(this,ae,Vw).call(this,a)},c=()=>{for(const h of a)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Oe(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,zt)!==De.NONE&&!this.isEditorHandlingKeyboard&&uc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,ho)&&(C(this,ho,!1),M(this,ae,xm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,ae,w_).call(this),M(this,ae,Hw).call(this),M(this,ae,yn).call(this,{isEditing:u(this,zt)!==De.NONE,isEmpty:M(this,ae,Rd).call(this),hasSomethingToUndo:u(this,wr).hasSomethingToUndo(),hasSomethingToRedo:u(this,wr).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,ae,b_).call(this),M(this,ae,Uw).call(this),M(this,ae,yn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,zr)){C(this,zr,e);for(const t of u(this,zr))M(this,ae,qs).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,wg).id}get currentLayer(){return u(this,Yt).get(u(this,Ac))}getLayer(e){return u(this,Yt).get(e)}get currentPageIndex(){return u(this,Ac)}addLayer(e){u(this,Yt).set(e.pageIndex,e),u(this,fo)?e.enable():e.disable()}removeLayer(e){u(this,Yt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var s;if(u(this,zt)!==e&&!(u(this,br)&&(await u(this,br).promise,!u(this,br)))){if(C(this,br,Promise.withResolvers()),C(this,zt,e),e===De.NONE){this.setEditingState(!1),M(this,ae,E_).call(this),(s=this._editorUndoBar)==null||s.hide(),u(this,br).resolve();return}this.setEditingState(!0),await M(this,ae,S_).call(this),this.unselectAll();for(const a of u(this,Yt).values())a.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),u(this,br).resolve();return}for(const a of u(this,Lt).values())a.annotationElementId===t?(this.setSelected(a),a.enterInEditMode()):a.unselect();u(this,br).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,zt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(u(this,zr)){switch(e){case He.CREATE:this.currentLayer.addNewEditor();return;case He.HIGHLIGHT_DEFAULT_COLOR:(n=u(this,fh))==null||n.updateColor(t);break;case He.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,mh)||C(this,mh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of u(this,Ye))s.updateParams(e,t);for(const s of u(this,zr))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const l of u(this,Lt).values())l.editorType===e&&l.show(t);(((a=u(this,mh))==null?void 0:a.get(He.HIGHLIGHT_SHOW_ALL))??!0)!==t&&M(this,ae,qs).call(this,[[He.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,hh)!==e){C(this,hh,e);for(const t of u(this,Yt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of u(this,Lt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return u(this,Lt).get(e)}addEditor(e){u(this,Lt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,gs)&&clearTimeout(u(this,gs)),C(this,gs,setTimeout(()=>{this.focusMainContainer(),C(this,gs,null)},0))),u(this,Lt).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,ya).has(e.annotationElementId))&&((t=u(this,ei))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,ya).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,ya).has(e)}removeDeletedAnnotationElement(e){u(this,ya).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Vn)!==e&&(C(this,Vn,e),e&&M(this,ae,qs).call(this,e.propertiesToUpdate))}updateUI(e){u(this,ae,__)===e&&M(this,ae,qs).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){M(this,ae,qs).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,Ye).has(e)){u(this,Ye).delete(e),e.unselect(),M(this,ae,yn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Ye).add(e),e.select(),M(this,ae,qs).call(this,e.propertiesToUpdate),M(this,ae,yn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=u(this,va))==null||t.commitOrRemove();for(const n of u(this,Ye))n!==e&&n.unselect();u(this,Ye).clear(),u(this,Ye).add(e),e.select(),M(this,ae,qs).call(this,e.propertiesToUpdate),M(this,ae,yn).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,Ye).has(e)}get firstSelectedEditor(){return u(this,Ye).values().next().value}unselect(e){e.unselect(),u(this,Ye).delete(e),M(this,ae,yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Ye).size!==0}get isEnterHandled(){return u(this,Ye).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,wr).undo(),M(this,ae,yn).call(this,{hasSomethingToUndo:u(this,wr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,ae,Rd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,wr).redo(),M(this,ae,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,wr).hasSomethingToRedo(),isEmpty:M(this,ae,Rd).call(this)})}addCommands(e){u(this,wr).add(e),M(this,ae,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,ae,Rd).call(this)})}cleanUndoStack(e){u(this,wr).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,Ye)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(s,t.length===1?t[0].editorType:t.length);for(const c of t)c.remove()},s=()=>{for(const l of t)M(this,ae,Ww).call(this,l)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Vn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Vn)||this.hasSelection}selectAll(){for(const e of u(this,Ye))e.commit();M(this,ae,Vw).call(this,u(this,Lt).values())}unselectAll(){var e;if(!(u(this,Vn)&&(u(this,Vn).commitOrRemove(),u(this,zt)!==De.NONE))&&!((e=u(this,va))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,Ye))t.unselect();u(this,Ye).clear(),M(this,ae,yn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;u(this,mo)[0]+=e,u(this,mo)[1]+=t;const[s,a]=u(this,mo),l=[...u(this,Ye)],c=1e3;u(this,ys)&&clearTimeout(u(this,ys)),C(this,ys,setTimeout(()=>{C(this,ys,null),u(this,mo)[0]=u(this,mo)[1]=0,this.addCommands({cmd:()=>{for(const h of l)u(this,Lt).has(h.id)&&h.translateInPage(s,a)},undo:()=>{for(const h of l)u(this,Lt).has(h.id)&&h.translateInPage(-s,-a)},mustExec:!1})},c));for(const h of l)h.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,ms,new Map);for(const e of u(this,Ye))u(this,ms).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ms))return!1;this.disableUserSelect(!1);const e=u(this,ms);C(this,ms,null);let t=!1;for(const[{x:s,y:a,pageIndex:l},c]of e)c.newX=s,c.newY=a,c.newPageIndex=l,t||(t=s!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(s,a,l,c)=>{if(u(this,Lt).has(s.id)){const h=u(this,Yt).get(c);h?s._setParentAndPosition(h,a,l):(s.pageIndex=c,s.x=a,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:l,newPageIndex:c}]of e)n(s,a,l,c)},undo:()=>{for(const[s,{savedX:a,savedY:l,savedPageIndex:c}]of e)n(s,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,ms))for(const n of u(this,ms).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,Ye).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Vn)===e}getActive(){return u(this,Vn)}getMode(){return u(this,zt)}get imageManager(){return Be(this,"imageManager",new jw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:a,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(f,p,g,v)=>({x:(p-s)/l,y:1-(f+g-n)/a,width:v/l,height:g/a});break;case"180":c=(f,p,g,v)=>({x:1-(f+g-n)/a,y:1-(p+v-s)/l,width:g/a,height:v/l});break;case"270":c=(f,p,g,v)=>({x:1-(p+v-s)/l,y:(f-n)/a,width:v/l,height:g/a});break;default:c=(f,p,g,v)=>({x:(f-n)/a,y:(p-s)/l,width:g/a,height:v/l});break}const h=[];for(let f=0,p=t.rangeCount;f<p;f++){const g=t.getRangeAt(f);if(!g.collapsed)for(const{x:v,y:w,width:b,height:x}of g.getClientRects())b===0||x===0||h.push(c(v,w,b,x))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,xc)||C(this,xc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,xc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=u(this,xc))==null?void 0:s.get(e.data.id);if(!t)return;const n=u(this,ei).getRawValue(t);n&&(u(this,zt)===De.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};wc=new WeakMap,Vn=new WeakMap,Lt=new WeakMap,Yt=new WeakMap,bc=new WeakMap,ei=new WeakMap,xc=new WeakMap,wr=new WeakMap,co=new WeakMap,va=new WeakMap,Ac=new WeakMap,ya=new WeakMap,ms=new WeakMap,zr=new WeakMap,wa=new WeakMap,ch=new WeakMap,uh=new WeakMap,Sc=new WeakMap,dh=new WeakMap,gs=new WeakMap,uo=new WeakMap,Ec=new WeakMap,ho=new WeakMap,vs=new WeakMap,wg=new WeakMap,fo=new WeakMap,hh=new WeakMap,po=new WeakMap,ba=new WeakMap,fh=new WeakMap,ph=new WeakMap,zt=new WeakMap,Ye=new WeakMap,ti=new WeakMap,xa=new WeakMap,mh=new WeakMap,gh=new WeakMap,mo=new WeakMap,ys=new WeakMap,ni=new WeakMap,vh=new WeakMap,br=new WeakMap,ae=new WeakSet,bm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},zw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of u(this,Yt).values())if(n.hasTextLayer(e))return n;return null},g_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=M(this,ae,bm).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(u(this,vs)||C(this,vs,new _D(this)),u(this,vs).show(n,s,this.direction==="ltr"))},v_=function(){var a,l,c;const e=document.getSelection();if(!e||e.isCollapsed){u(this,ti)&&((a=u(this,vs))==null||a.hide(),C(this,ti,null),M(this,ae,yn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,ti))return;const s=M(this,ae,bm).call(this,e).closest(".textLayer");if(!s){u(this,ti)&&((l=u(this,vs))==null||l.hide(),C(this,ti,null),M(this,ae,yn).call(this,{hasSelectedText:!1}));return}if((c=u(this,vs))==null||c.hide(),C(this,ti,t),M(this,ae,yn).call(this,{hasSelectedText:!0}),!(u(this,zt)!==De.HIGHLIGHT&&u(this,zt)!==De.NONE)&&(u(this,zt)===De.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,ho,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=u(this,zt)===De.HIGHLIGHT?M(this,ae,zw).call(this,s):null;h==null||h.toggleDrawing();const f=new AbortController,p=this.combinedSignal(f),g=v=>{v.type==="pointerup"&&v.button!==0||(f.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&M(this,ae,xm).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}},xm=function(e=""){u(this,zt)===De.HIGHLIGHT?this.highlightSelection(e):u(this,ch)&&M(this,ae,g_).call(this)},y_=function(){document.addEventListener("selectionchange",M(this,ae,v_).bind(this),{signal:this._signal})},w_=function(){if(u(this,uo))return;C(this,uo,new AbortController);const e=this.combinedSignal(u(this,uo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},b_=function(){var e;(e=u(this,uo))==null||e.abort(),C(this,uo,null)},Bw=function(){if(u(this,po))return;C(this,po,new AbortController);const e=this.combinedSignal(u(this,po));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},x_=function(){var e;(e=u(this,po))==null||e.abort(),C(this,po,null)},Hw=function(){if(u(this,co))return;C(this,co,new AbortController);const e=this.combinedSignal(u(this,co));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Uw=function(){var e;(e=u(this,co))==null||e.abort(),C(this,co,null)},A_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},yn=function(e){Object.entries(e).some(([n,s])=>u(this,gh)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,gh),e)}),u(this,zt)===De.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,ae,qs).call(this,[[He.HIGHLIGHT_FREE,!0]]))},qs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},S_=async function(){if(!u(this,fo)){C(this,fo,!0);const e=[];for(const t of u(this,Yt).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,Lt).values())t.enable()}},E_=function(){if(this.unselectAll(),u(this,fo)){C(this,fo,!1);for(const e of u(this,Yt).values())e.disable();for(const e of u(this,Lt).values())e.disable()}},Ww=function(e){const t=u(this,Yt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},__=function(){let e=null;for(e of u(this,Ye));return e},Rd=function(){if(u(this,Lt).size===0)return!0;if(u(this,Lt).size===1)for(const e of u(this,Lt).values())return e.isEmpty();return!1},Vw=function(e){for(const t of u(this,Ye))t.unselect();u(this,Ye).clear();for(const t of e)t.isEmpty()||(u(this,Ye).add(t),t.select());M(this,ae,yn).call(this,{hasSelectedEditor:this.hasSelection})},Te(uc,"TRANSLATE_SMALL",1),Te(uc,"TRANSLATE_BIG",10);let wl=uc;var Bt,ws,Br,_c,bs,Gn,Cc,xs,Fn,ri,Aa,As,go,Qr,Pd,Am;const wn=class wn{constructor(e){k(this,Qr);k(this,Bt,null);k(this,ws,!1);k(this,Br,null);k(this,_c,null);k(this,bs,null);k(this,Gn,null);k(this,Cc,!1);k(this,xs,null);k(this,Fn,null);k(this,ri,null);k(this,Aa,null);k(this,As,!1);C(this,Fn,e),C(this,As,e._uiManager.useNewAltTextFlow),u(wn,go)||C(wn,go,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){wn._l10n??(wn._l10n=e)}async render(){const e=C(this,Br,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=C(this,_c,document.createElement("span"));e.append(t),u(this,As)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(wn,go).missing),t.setAttribute("data-l10n-id",u(wn,go)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=u(this,Fn)._uiManager._signal;e.addEventListener("contextmenu",Zr,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const s=a=>{a.preventDefault(),u(this,Fn)._uiManager.editAltText(u(this,Fn)),u(this,As)&&u(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Qr,Pd)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(C(this,Cc,!0),s(a))},{signal:n}),await M(this,Qr,Am).call(this),e}finish(){u(this,Br)&&(u(this,Br).focus({focusVisible:u(this,Cc)}),C(this,Cc,!1))}isEmpty(){return u(this,As)?u(this,Bt)===null:!u(this,Bt)&&!u(this,ws)}hasData(){return u(this,As)?u(this,Bt)!==null||!!u(this,ri):this.isEmpty()}get guessedText(){return u(this,ri)}async setGuessedText(e){u(this,Bt)===null&&(C(this,ri,e),C(this,Aa,await wn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Qr,Am).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,As)||u(this,Bt)){(t=u(this,xs))==null||t.remove(),C(this,xs,null);return}if(!u(this,xs)){const n=C(this,xs,document.createElement("div"));n.className="noAltTextBadge",u(this,Fn).div.append(n)}u(this,xs).classList.toggle("hidden",!e)}serialize(e){let t=u(this,Bt);return!e&&u(this,ri)===t&&(t=u(this,Aa)),{altText:t,decorative:u(this,ws),guessedText:u(this,ri),textWithDisclaimer:u(this,Aa)}}get data(){return{altText:u(this,Bt),decorative:u(this,ws)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:a=!1}){n&&(C(this,ri,n),C(this,Aa,s)),!(u(this,Bt)===e&&u(this,ws)===t)&&(a||(C(this,Bt,e),C(this,ws,t)),M(this,Qr,Am).call(this))}toggle(e=!1){u(this,Br)&&(!e&&u(this,Gn)&&(clearTimeout(u(this,Gn)),C(this,Gn,null)),u(this,Br).disabled=!e)}shown(){u(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Qr,Pd)}})}destroy(){var e,t;(e=u(this,Br))==null||e.remove(),C(this,Br,null),C(this,_c,null),C(this,bs,null),(t=u(this,xs))==null||t.remove(),C(this,xs,null)}};Bt=new WeakMap,ws=new WeakMap,Br=new WeakMap,_c=new WeakMap,bs=new WeakMap,Gn=new WeakMap,Cc=new WeakMap,xs=new WeakMap,Fn=new WeakMap,ri=new WeakMap,Aa=new WeakMap,As=new WeakMap,go=new WeakMap,Qr=new WeakSet,Pd=function(){return u(this,Bt)&&"added"||u(this,Bt)===null&&this.guessedText&&"review"||"missing"},Am=async function(){var s,a,l;const e=u(this,Br);if(!e)return;if(u(this,As)){if(e.classList.toggle("done",!!u(this,Bt)),e.setAttribute("data-l10n-id",u(wn,go)[u(this,Qr,Pd)]),(s=u(this,_c))==null||s.setAttribute("data-l10n-id",u(wn,go)[`${u(this,Qr,Pd)}-label`]),!u(this,Bt)){(a=u(this,bs))==null||a.remove();return}}else{if(!u(this,Bt)&&!u(this,ws)){e.classList.remove("done"),(l=u(this,bs))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,bs);if(!t){C(this,bs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,Fn).id}`;const c=100,h=u(this,Fn)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(u(this,Gn)),C(this,Gn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,Gn,setTimeout(()=>{C(this,Gn,null),u(this,bs).classList.add("show"),u(this,Fn)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),e.addEventListener("mouseleave",()=>{var f;u(this,Gn)&&(clearTimeout(u(this,Gn)),C(this,Gn,null)),(f=u(this,bs))==null||f.classList.remove("show")},{signal:h})}u(this,ws)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,Bt)),t.parentNode||e.append(t);const n=u(this,Fn).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},k(wn,go,null),Te(wn,"_l10n",null);let tg=wn;var yh,Sa,wh,bh,xh,Ah,Sh,Tc,si,Ea,vo,Mi,C_,T_,Gw;const ux=class ux{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){k(this,Mi);k(this,yh);k(this,Sa,!1);k(this,wh,null);k(this,bh);k(this,xh);k(this,Ah);k(this,Sh);k(this,Tc);k(this,si,null);k(this,Ea);k(this,vo,null);C(this,yh,e),C(this,wh,n),C(this,bh,t),C(this,xh,s),C(this,Ah,a),C(this,Sh,l),C(this,Ea,new AbortController),C(this,Tc,AbortSignal.any([c,u(this,Ea).signal])),e.addEventListener("touchstart",M(this,Mi,C_).bind(this),{passive:!1,signal:u(this,Tc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Be(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=u(this,Ea))==null||e.abort(),C(this,Ea,null)}};yh=new WeakMap,Sa=new WeakMap,wh=new WeakMap,bh=new WeakMap,xh=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,Tc=new WeakMap,si=new WeakMap,Ea=new WeakMap,vo=new WeakMap,Mi=new WeakSet,C_=function(e){var s,a,l;if((s=u(this,bh))!=null&&s.call(this)||e.touches.length<2)return;if(!u(this,vo)){C(this,vo,new AbortController);const c=AbortSignal.any([u(this,Tc),u(this,vo).signal]),h=u(this,yh),f={signal:c,passive:!1};h.addEventListener("touchmove",M(this,Mi,T_).bind(this),f),h.addEventListener("touchend",M(this,Mi,Gw).bind(this),f),h.addEventListener("touchcancel",M(this,Mi,Gw).bind(this),f),(a=u(this,xh))==null||a.call(this)}if(or(e),e.touches.length!==2||(l=u(this,wh))!=null&&l.call(this)){C(this,si,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),C(this,si,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},T_=function(e){var I;if(!u(this,si)||e.touches.length!==2)return;let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:s,screenY:a}=t,{screenX:l,screenY:c}=n,h=u(this,si),{touch0X:f,touch0Y:p,touch1X:g,touch1Y:v}=h,w=g-f,b=v-p,x=l-s,E=c-a,_=Math.hypot(x,E)||1,R=Math.hypot(w,b)||1;if(!u(this,Sa)&&Math.abs(R-_)<=ux.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=a,h.touch1X=l,h.touch1Y=c,e.preventDefault(),!u(this,Sa)){C(this,Sa,!0);return}const N=[(s+l)/2,(a+c)/2];(I=u(this,Ah))==null||I.call(this,N,R,_)},Gw=function(e){var t;u(this,vo).abort(),C(this,vo,null),(t=u(this,Sh))==null||t.call(this),u(this,si)&&(e.preventDefault(),C(this,si,null),C(this,Sa,!1))};let ng=ux;var _a,Hr,at,Rc,yo,Eh,Ca,qt,Ta,ii,wo,_h,Ra,Xn,Ch,Pa,oi,Ss,Pc,kc,xr,ka,Th,bg,Re,Xw,Rh,Kw,Sm,R_,P_,Yw,Em,qw,k_,M_,N_,Qw,I_,Jw,L_,D_,O_,Zw,kd;const je=class je{constructor(e){k(this,Re);k(this,_a,null);k(this,Hr,null);k(this,at,null);k(this,Rc,!1);k(this,yo,null);k(this,Eh,"");k(this,Ca,!1);k(this,qt,null);k(this,Ta,null);k(this,ii,null);k(this,wo,null);k(this,_h,"");k(this,Ra,!1);k(this,Xn,null);k(this,Ch,!1);k(this,Pa,!1);k(this,oi,!1);k(this,Ss,null);k(this,Pc,0);k(this,kc,0);k(this,xr,null);k(this,ka,null);Te(this,"_editToolbar",null);Te(this,"_initialOptions",Object.create(null));Te(this,"_initialData",null);Te(this,"_isVisible",!0);Te(this,"_uiManager",null);Te(this,"_focusEventsAllowed",!0);k(this,Th,!1);k(this,bg,je._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[a,l];const[c,h]=this.parentDimensions;this.x=e.x/c,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=je.prototype._resizeWithKeyboard,t=wl.TRANSLATE_SMALL,n=wl.TRANSLATE_BIG;return Be(this,"_resizerKeyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],je.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Be(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new RD({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(je._l10n??(je._l10n=e),je._l10nResizer||(je._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),je._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);je._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Th)}set _isDraggable(e){var t;C(this,Th,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,bg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,Re,kd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Ra)?C(this,Ra,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[a,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/a,this.y=(t+s)/l,this.fixAndSetPosition()}translate(e,t){M(this,Re,Xw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,Xn)||C(this,Xn,[this.x,this.y,this.width,this.height]),M(this,Re,Xw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,Xn)||C(this,Xn,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[s,a]}=this;if(this.x+=e/s,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,Xn)&&(u(this,Xn)[0]!==this.x||u(this,Xn)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Xn)&&(u(this,Xn)[2]!==this.width||u(this,Xn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=je,s=n/e,a=n/t;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,s]}=this;let{x:a,y:l,width:c,height:h}=this;if(c*=n,h*=s,a*=n,l*=s,this._mustFixPosition)switch(e){case 0:a=Math.max(0,Math.min(n-c,a)),l=Math.max(0,Math.min(s-h,l));break;case 90:a=Math.max(0,Math.min(n-h,a)),l=Math.min(s,Math.max(c,l));break;case 180:a=Math.min(n,Math.max(c,a)),l=Math.min(s,Math.max(h,l));break;case 270:a=Math.min(n,Math.max(h,a)),l=Math.max(0,Math.min(s-c,l));break}this.x=a/=n,this.y=l/=s;const[f,p]=this.getBaseTranslation();a+=f,l+=p,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return M(n=je,Rh,Kw).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return M(n=je,Rh,Kw).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/n).toFixed(2)}%`,u(this,Ca)||(a.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),a=!u(this,Ca)&&t.endsWith("%");if(s&&a)return;const[l,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!u(this,Ca)&&!a&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,at))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,Pa)?this._editToolbar:(this._editToolbar=new Ow(this),this.div.append(this._editToolbar.render()),u(this,at)&&await this._editToolbar.addAltText(u(this,at)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,at))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,at)||(tg.initialize(je._l10n),C(this,at,new tg(this)),u(this,_a)&&(u(this,at).data=u(this,_a),C(this,_a,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,at))==null?void 0:e.data}set altTextData(e){u(this,at)&&(u(this,at).data=e)}get guessedAltText(){var e;return(e=u(this,at))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,at))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,at))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,at)&&!u(this,at).isEmpty()}hasAltTextData(){var e;return((e=u(this,at))==null?void 0:e.hasData())??!1}render(){var a;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Rc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),M(this,Re,Jw).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),eg(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,ka)||C(this,ka,new ng({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:M(this,Re,k_).bind(this),onPinching:M(this,Re,M_).bind(this),onPinchEnd:M(this,Re,N_).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),this.div}pointerdown(e){const{isMac:t}=En.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(C(this,Ra,!0),this._isDraggable){M(this,Re,I_).call(this,e);return}M(this,Re,Qw).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Ss)&&clearTimeout(u(this,Ss)),C(this,Ss,setTimeout(()=>{var e;C(this,Ss,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const s=this.parentScale,[a,l]=this.pageDimensions,[c,h]=this.pageTranslation,f=e/s,p=t/s,g=this.x*a,v=this.y*l,w=this.width*a,b=this.height*l;switch(n){case 0:return[g+f+c,l-v-p-b+h,g+f+w+c,l-v-p+h];case 90:return[g+p+c,l-v+f+h,g+p+b+c,l-v+f+w+h];case 180:return[g-f-w+c,l-v+p+h,g-f+c,l-v+p+b+h];case 270:return[g-p-b+c,l-v-f-w+h,g-p+c,l-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,a,l]=e,c=a-n,h=l-s;switch(this.rotation){case 0:return[n,t-l,c,h];case 90:return[n,t-s,h,c];case 180:return[a,t-s,c,h];case 270:return[a,t-l,h,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){C(this,Pa,!0)}disableEditMode(){C(this,Pa,!1)}isInEditMode(){return u(this,Pa)}shouldGetKeyboardEvents(){return u(this,oi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return t<l&&s>0&&e<a&&n>0}rebuild(){M(this,Re,Jw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){et("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,C(s,_a,e.accessibilityData);const[a,l]=s.pageDimensions,[c,h,f,p]=s.getRectInCurrentCoords(e.rect,l);return s.x=c/a,s.y=h/l,s.width=f/a,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,wo))==null||e.abort(),C(this,wo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Ss)&&(clearTimeout(u(this,Ss)),C(this,Ss,null)),M(this,Re,kd).call(this),this.removeEditToolbar(),u(this,xr)){for(const n of u(this,xr).values())clearTimeout(n);C(this,xr,null)}this.parent=null,(t=u(this,ka))==null||t.destroy(),C(this,ka,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,Re,R_).call(this),u(this,qt).classList.remove("hidden"),eg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,ii,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,qt).children;if(!u(this,Hr)){C(this,Hr,Array.from(t));const l=M(this,Re,L_).bind(this),c=M(this,Re,D_).bind(this),h=this._uiManager._signal;for(const f of u(this,Hr)){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:h}),f.addEventListener("blur",c,{signal:h}),f.addEventListener("focus",M(this,Re,O_).bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",je._l10nResizer[p])}}const n=u(this,Hr)[0];let s=0;for(const l of t){if(l===n)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(u(this,Hr).length/4);if(a!==s){if(a<s)for(let c=0;c<s-a;c++)u(this,qt).append(u(this,qt).firstChild);else if(a>s)for(let c=0;c<a-s;c++)u(this,qt).firstChild.before(u(this,qt).lastChild);let l=0;for(const c of t){const f=u(this,Hr)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",je._l10nResizer[f])}}M(this,Re,Zw).call(this,0),C(this,oi,!0),u(this,qt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,oi)&&M(this,Re,qw).call(this,u(this,_h),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){M(this,Re,kd).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=u(this,at))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,s,a;(e=u(this,qt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=u(this,at))==null||a.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Ch)}set isEditing(e){C(this,Ch,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){C(this,Ca,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,xr)||C(this,xr,new Map);const{action:n}=e;let s=u(this,xr).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),u(this,xr).delete(n),u(this,xr).size===0&&C(this,xr,null)},je._telemetryTimeout),u(this,xr).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,Rc,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,Rc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};_a=new WeakMap,Hr=new WeakMap,at=new WeakMap,Rc=new WeakMap,yo=new WeakMap,Eh=new WeakMap,Ca=new WeakMap,qt=new WeakMap,Ta=new WeakMap,ii=new WeakMap,wo=new WeakMap,_h=new WeakMap,Ra=new WeakMap,Xn=new WeakMap,Ch=new WeakMap,Pa=new WeakMap,oi=new WeakMap,Ss=new WeakMap,Pc=new WeakMap,kc=new WeakMap,xr=new WeakMap,ka=new WeakMap,Th=new WeakMap,bg=new WeakMap,Re=new WeakSet,Xw=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Rh=new WeakSet,Kw=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Sm=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},R_=function(){if(u(this,qt))return;C(this,qt,document.createElement("div")),u(this,qt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");u(this,qt).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",M(this,Re,P_).bind(this,n),{signal:t}),s.addEventListener("contextmenu",Zr,{signal:t}),s.tabIndex=-1}this.div.prepend(u(this,qt))},P_=function(e,t){var p;t.preventDefault();const{isMac:n}=En.platform;if(t.button!==0||t.ctrlKey&&n)return;(p=u(this,at))==null||p.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,C(this,Ta,[t.screenX,t.screenY]);const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,Re,qw).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",or,{passive:!1,signal:l}),window.addEventListener("contextmenu",Zr,{signal:l}),C(this,ii,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var g;a.abort(),this.parent.togglePointerEvents(!0),(g=u(this,at))==null||g.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=h,M(this,Re,Em).call(this)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},Yw=function(e,t,n,s){this.width=n,this.height=s,this.x=e,this.y=t;const[a,l]=this.parentDimensions;this.setDims(a*n,l*s),this.fixAndSetPosition(),this._onResized()},Em=function(){if(!u(this,ii))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=u(this,ii);C(this,ii,null);const a=this.x,l=this.y,c=this.width,h=this.height;a===e&&l===t&&c===n&&h===s||this.addCommands({cmd:M(this,Re,Yw).bind(this,a,l,c,h),undo:M(this,Re,Yw).bind(this,e,t,n,s),mustExec:!0})},qw=function(e,t){const[n,s]=this.parentDimensions,a=this.x,l=this.y,c=this.width,h=this.height,f=je.MIN_SIZE/n,p=je.MIN_SIZE/s,g=M(this,Re,Sm).call(this,this.rotation),v=(K,Z)=>[g[0]*K+g[2]*Z,g[1]*K+g[3]*Z],w=M(this,Re,Sm).call(this,360-this.rotation),b=(K,Z)=>[w[0]*K+w[2]*Z,w[1]*K+w[3]*Z];let x,E,_=!1,R=!1;switch(e){case"topLeft":_=!0,x=(K,Z)=>[0,0],E=(K,Z)=>[K,Z];break;case"topMiddle":x=(K,Z)=>[K/2,0],E=(K,Z)=>[K/2,Z];break;case"topRight":_=!0,x=(K,Z)=>[K,0],E=(K,Z)=>[0,Z];break;case"middleRight":R=!0,x=(K,Z)=>[K,Z/2],E=(K,Z)=>[0,Z/2];break;case"bottomRight":_=!0,x=(K,Z)=>[K,Z],E=(K,Z)=>[0,0];break;case"bottomMiddle":x=(K,Z)=>[K/2,Z],E=(K,Z)=>[K/2,0];break;case"bottomLeft":_=!0,x=(K,Z)=>[0,Z],E=(K,Z)=>[K,0];break;case"middleLeft":R=!0,x=(K,Z)=>[0,Z/2],E=(K,Z)=>[K,Z/2];break}const N=x(c,h),I=E(c,h);let D=v(...I);const z=je._round(a+D[0]),O=je._round(l+D[1]);let W=1,Y=1,te,se;if(t.fromKeyboard)({deltaX:te,deltaY:se}=t);else{const{screenX:K,screenY:Z}=t,[V,X]=u(this,Ta);[te,se]=this.screenToPageTranslation(K-V,Z-X),u(this,Ta)[0]=K,u(this,Ta)[1]=Z}if([te,se]=b(te/n,se/s),_){const K=Math.hypot(c,h);W=Y=Math.max(Math.min(Math.hypot(I[0]-N[0]-te,I[1]-N[1]-se)/K,1/c,1/h),f/c,p/h)}else R?W=Math.max(f,Math.min(1,Math.abs(I[0]-N[0]-te)))/c:Y=Math.max(p,Math.min(1,Math.abs(I[1]-N[1]-se)))/h;const J=je._round(c*W),oe=je._round(h*Y);D=v(...E(J,oe));const q=z-D[0],ve=O-D[1];u(this,Xn)||C(this,Xn,[this.x,this.y,this.width,this.height]),this.width=J,this.height=oe,this.x=q,this.y=ve,this.setDims(n*J,s*oe),this.fixAndSetPosition(),this._onResizing()},k_=function(){var e;C(this,ii,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,at))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},M_=function(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const l=M(this,Re,Sm).call(this,this.rotation),c=(z,O)=>[l[0]*z+l[2]*O,l[1]*z+l[3]*O],[h,f]=this.parentDimensions,p=this.x,g=this.y,v=this.width,w=this.height,b=je.MIN_SIZE/h,x=je.MIN_SIZE/f;a=Math.max(Math.min(a,1/v,1/w),b/v,x/w);const E=je._round(v*a),_=je._round(w*a);if(E===v&&_===w)return;u(this,Xn)||C(this,Xn,[p,g,v,w]);const R=c(v/2,w/2),N=je._round(p+R[0]),I=je._round(g+R[1]),D=c(E/2,_/2);this.x=N-D[0],this.y=I-D[1],this.width=E,this.height=_,this.setDims(h*E,f*_),this.fixAndSetPosition(),this._onResizing()},N_=function(){var e;(e=u(this,at))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),M(this,Re,Em).call(this)},Qw=function(e){const{isMac:t}=En.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},I_=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:a},c=f=>{s.abort(),C(this,yo,null),C(this,Ra,!1),this._uiManager.endDragSession()||M(this,Re,Qw).call(this,f),n&&this._onStopDragging()};t&&(C(this,Pc,e.clientX),C(this,kc,e.clientY),C(this,yo,e.pointerId),C(this,Eh,e.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:g,pointerId:v}=f;if(v!==u(this,yo)){or(f);return}const[w,b]=this.screenToPageTranslation(p-u(this,Pc),g-u(this,kc));C(this,Pc,p),C(this,kc,g),this._uiManager.dragSelectedEditors(w,b)},l),window.addEventListener("touchmove",or,l),window.addEventListener("pointerdown",f=>{f.pointerType===u(this,Eh)&&(u(this,ka)||f.isPrimary)&&c(f),or(f)},l));const h=f=>{if(!u(this,yo)||u(this,yo)===f.pointerId){c(f);return}or(f)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})},Jw=function(){if(u(this,wo)||!this.div)return;C(this,wo,new AbortController);const e=this._uiManager.combinedSignal(u(this,wo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},L_=function(e){je._resizerKeyboardManager.exec(this,e)},D_=function(e){var t;u(this,oi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,qt)&&M(this,Re,kd).call(this)},O_=function(e){C(this,_h,u(this,oi)?e:"")},Zw=function(e){if(u(this,Hr))for(const t of u(this,Hr))t.tabIndex=e},kd=function(){C(this,oi,!1),M(this,Re,Zw).call(this,-1),M(this,Re,Em).call(this)},k(je,Rh),Te(je,"_l10n",null),Te(je,"_l10nResizer",null),Te(je,"_borderLineWidth",-1),Te(je,"_colorManager",new $w),Te(je,"_zIndex",1),Te(je,"_telemetryTimeout",1e3);let gt=je;class RD extends gt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const PE=3285377520,vr=4294901760,fs=65535;class F_{constructor(e){this.h1=e?e&4294967295:PE,this.h2=e?e&4294967295:PE}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,E=e.length;x<E;x++){const _=e.charCodeAt(x);_<=255?t[n++]=_:(t[n++]=_>>>8,t[n++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,a=n-s*4,l=new Uint32Array(t.buffer,0,s);let c=0,h=0,f=this.h1,p=this.h2;const g=3432918353,v=461845907,w=g&fs,b=v&fs;for(let x=0;x<s;x++)x&1?(c=l[x],c=c*g&vr|c*w&fs,c=c<<15|c>>>17,c=c*v&vr|c*b&fs,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(h=l[x],h=h*g&vr|h*w&fs,h=h<<15|h>>>17,h=h*v&vr|h*b&fs,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*g&vr|c*w&fs,c=c<<15|c>>>17,c=c*v&vr|c*b&fs,s&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&vr|e*36045&fs,t=t*4283543511&vr|((t<<16|e>>>16)*2950163797&vr)>>>16,e^=t>>>1,e=e*444984403&vr|e*60499&fs,t=t*3301882366&vr|((t<<16|e>>>16)*3120437893&vr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const eb=Object.freeze({map:null,hash:"",transfer:void 0});var Ma,Na,Ht,xg,j_;class _0{constructor(){k(this,xg);k(this,Ma,!1);k(this,Na,null);k(this,Ht,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=u(this,Ht).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return u(this,Ht).get(e)}remove(e){if(u(this,Ht).delete(e),u(this,Ht).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Ht).values())if(t instanceof gt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=u(this,Ht).get(e);let s=!1;if(n!==void 0)for(const[a,l]of Object.entries(t))n[a]!==l&&(s=!0,n[a]=l);else s=!0,u(this,Ht).set(e,t);s&&M(this,xg,j_).call(this),t instanceof gt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Ht).has(e)}getAll(){return u(this,Ht).size>0?w0(u(this,Ht)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return u(this,Ht).size}resetModified(){u(this,Ma)&&(C(this,Ma,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $_(this)}get serializable(){if(u(this,Ht).size===0)return eb;const e=new Map,t=new F_,n=[],s=Object.create(null);let a=!1;for(const[l,c]of u(this,Ht)){const h=c instanceof gt?c.serialize(!1,s):c;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:eb}get editorStats(){let e=null;const t=new Map;for(const n of u(this,Ht).values()){if(!(n instanceof gt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[a]||(e[a]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let f=l.get(c);f||(f=new Map,l.set(c,f));const p=f.get(h)??0;f.set(h,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){C(this,Na,null)}get modifiedIds(){if(u(this,Na))return u(this,Na);const e=[];for(const t of u(this,Ht).values())!(t instanceof gt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return C(this,Na,{ids:new Set(e),hash:e.join(",")})}}Ma=new WeakMap,Na=new WeakMap,Ht=new WeakMap,xg=new WeakSet,j_=function(){u(this,Ma)||(C(this,Ma,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ph;class $_ extends _0{constructor(t){super();k(this,Ph);const{map:n,hash:s,transfer:a}=t.serializable,l=structuredClone(n,a?{transfer:a}:null);C(this,Ph,{map:l,hash:s,transfer:a})}get print(){et("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Ph)}get modifiedIds(){return Be(this,"modifiedIds",{ids:new Set,hash:""})}}Ph=new WeakMap;var Mc;class PD{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){k(this,Mc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Mc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,Mc).has(e.loadedName))){if(Rt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:a}=e,l=new FontFace(n,s,a);this.addNativeFontFace(l);try{await l.load(),u(this,Mc).add(n),t==null||t(e)}catch{Oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Oe(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Be(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(pn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Be(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Rt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Be(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(I,D){return I.charCodeAt(D)<<24|I.charCodeAt(D+1)<<16|I.charCodeAt(D+2)<<8|I.charCodeAt(D+3)&255}function s(I,D,z,O){const W=I.substring(0,D),Y=I.substring(D+z);return W+O+Y}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let f=0;function p(I,D){if(++f>30){Oe("Load test font never loaded."),D();return}if(h.font="30px "+I,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(p.bind(null,I,D))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=s(v,976,g.length,g);const b=16,x=1482184792;let E=n(v,b);for(a=0,l=g.length-3;a<l;a+=4)E=E-x+n(g,a)|0;a<g.length&&(E=E-x+n(g+"XXX",a)|0),v=s(v,b,4,pD(E));const _=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${g}";src:${_}}`;this.insertRule(R);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const I of[e.loadedName,g]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=I,N.append(D)}this._document.body.append(N),p(g,()=>{N.remove(),t.complete()})}}Mc=new WeakMap;class kD{constructor(e,{disableFontFace:t=!1,fontExtraProperties:n=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.disableFontFace=t===!0,this.fontExtraProperties=n===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${bD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let s;try{s=e.get(n)}catch(l){Oe(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(s||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}}const nm={DATA:1,ERROR:2},Tt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kE(){}function Dn(i){if(i instanceof zo||i instanceof Iw||i instanceof Yd||i instanceof CE||i instanceof Zm||i instanceof ow)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new zo(i.message);case"InvalidPDFException":return new Iw(i.message);case"MissingPDFException":return new Yd(i.message);case"PasswordException":return new CE(i.message,i.code);case"UnexpectedResponseException":return new Zm(i.message,i.status);case"UnknownErrorException":return new ow(i.message,i.details)}return new ow(i.message,i.toString())}var Nc,Pr,z_,B_,H_,_m;class Md{constructor(e,t,n){k(this,Pr);k(this,Nc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",M(this,Pr,z_).bind(this),{signal:u(this,Nc).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,n,s){const a=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:e,streamId:a,data:t,desiredSize:f.desiredSize},s),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:Tt.PULL,streamId:a,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Rt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:Tt.CANCEL,streamId:a,reason:Dn(f)}),p.promise}},n)}destroy(){var e;(e=u(this,Nc))==null||e.abort(),C(this,Nc,null)}}Nc=new WeakMap,Pr=new WeakSet,z_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,Pr,H_).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===nm.DATA)s.resolve(e.data);else if(e.callback===nm.ERROR)s.reject(Dn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(l){a.postMessage({sourceName:n,targetName:s,callback:nm.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:s,callback:nm.ERROR,callbackId:e.callbackId,reason:Dn(l)})});return}if(e.streamId){M(this,Pr,B_).call(this,e);return}t(e.data)},B_=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,a=this.comObj,l=this,c=this.actionHandler[e.action],h={enqueue(f,p=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:Tt.ENQUEUE,streamId:t,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Tt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Rt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:Tt.ERROR,streamId:t,reason:Dn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(c,e.data,h).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.START_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:Tt.START_COMPLETE,streamId:t,reason:Dn(f)})})},H_=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,a=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Tt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Dn(e.reason));break;case Tt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Dn(e.reason));break;case Tt.PULL:if(!c){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||kE).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:Tt.PULL_COMPLETE,streamId:t,reason:Dn(f)})});break;case Tt.ENQUEUE:if(Rt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Tt.CLOSE:if(Rt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),M(this,Pr,_m).call(this,l,t);break;case Tt.ERROR:Rt(l,"error should have stream controller"),l.controller.error(Dn(e.reason)),M(this,Pr,_m).call(this,l,t);break;case Tt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Dn(e.reason)),M(this,Pr,_m).call(this,l,t);break;case Tt.CANCEL:if(!c)break;const h=Dn(e.reason);Promise.try(c.onCancel||kE,h).then(function(){a.postMessage({sourceName:n,targetName:s,stream:Tt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:n,targetName:s,stream:Tt.CANCEL_COMPLETE,streamId:t,reason:Dn(f)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_m=async function(e,t){var n,s,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var kh;class U_{constructor({enableHWA:e=!1}){k(this,kh,!1);C(this,kh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!u(this,kh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){et("Abstract method `_createCanvas` called.")}}kh=new WeakMap;class MD extends U_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class W_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){et("Abstract method `_fetch` called.")}}class V_ extends W_{async _fetch(e){const t=await Bg(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):zg(t)}}class G_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,a){return"none"}destroy(e=!1){}}var Ia,Ic,ai,li,un,La,Da,ue,an,Nd,nc,Cm,rc,X_,tb,sc,Id,Ld,nb,Dd;class ND extends G_{constructor({docId:t,ownerDocument:n=globalThis.document}){super();k(this,ue);k(this,Ia);k(this,Ic);k(this,ai);k(this,li);k(this,un);k(this,La);k(this,Da,0);C(this,li,t),C(this,un,n)}addFilter(t){if(!t)return"none";let n=u(this,ue,an).get(t);if(n)return n;const[s,a,l]=M(this,ue,Cm).call(this,t),c=t.length===1?s:`${s}${a}${l}`;if(n=u(this,ue,an).get(c),n)return u(this,ue,an).set(t,n),n;const h=`g_${u(this,li)}_transfer_map_${vn(this,Da)._++}`,f=M(this,ue,rc).call(this,h);u(this,ue,an).set(t,f),u(this,ue,an).set(c,f);const p=M(this,ue,sc).call(this,h);return M(this,ue,Ld).call(this,s,a,l,p),f}addHCMFilter(t,n){var b;const s=`${t}-${n}`,a="base";let l=u(this,ue,Nd).get(a);if((l==null?void 0:l.key)===s||(l?((b=l.filter)==null||b.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},u(this,ue,Nd).set(a,l)),!t||!n))return l.url;const c=M(this,ue,Dd).call(this,t);t=Ae.makeHexColor(...c);const h=M(this,ue,Dd).call(this,n);if(n=Ae.makeHexColor(...h),u(this,ue,nc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let x=0;x<=255;x++){const E=x/255;f[x]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=f.join(","),g=`g_${u(this,li)}_hcm_filter`,v=l.filter=M(this,ue,sc).call(this,g);M(this,ue,Ld).call(this,p,p,p,v),M(this,ue,tb).call(this,v);const w=(x,E)=>{const _=c[x]/255,R=h[x]/255,N=new Array(E+1);for(let I=0;I<=E;I++)N[I]=_+I/E*(R-_);return N.join(",")};return M(this,ue,Ld).call(this,w(0,5),w(1,5),w(2,5),v),l.url=M(this,ue,rc).call(this,g),l.url}addAlphaFilter(t){let n=u(this,ue,an).get(t);if(n)return n;const[s]=M(this,ue,Cm).call(this,[t]),a=`alpha_${s}`;if(n=u(this,ue,an).get(a),n)return u(this,ue,an).set(t,n),n;const l=`g_${u(this,li)}_alpha_map_${vn(this,Da)._++}`,c=M(this,ue,rc).call(this,l);u(this,ue,an).set(t,c),u(this,ue,an).set(a,c);const h=M(this,ue,sc).call(this,l);return M(this,ue,nb).call(this,s,h),c}addLuminosityFilter(t){let n=u(this,ue,an).get(t||"luminosity");if(n)return n;let s,a;if(t?([s]=M(this,ue,Cm).call(this,[t]),a=`luminosity_${s}`):a="luminosity",n=u(this,ue,an).get(a),n)return u(this,ue,an).set(t,n),n;const l=`g_${u(this,li)}_luminosity_map_${vn(this,Da)._++}`,c=M(this,ue,rc).call(this,l);u(this,ue,an).set(t,c),u(this,ue,an).set(a,c);const h=M(this,ue,sc).call(this,l);return M(this,ue,X_).call(this,h),t&&M(this,ue,nb).call(this,s,h),c}addHighlightHCMFilter(t,n,s,a,l){var R;const c=`${n}-${s}-${a}-${l}`;let h=u(this,ue,Nd).get(t);if((h==null?void 0:h.key)===c||(h?((R=h.filter)==null||R.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},u(this,ue,Nd).set(t,h)),!n||!s))return h.url;const[f,p]=[n,s].map(M(this,ue,Dd).bind(this));let g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,b]=[a,l].map(M(this,ue,Dd).bind(this));v<g&&([g,v,w,b]=[v,g,b,w]),u(this,ue,nc).style.color="";const x=(N,I,D)=>{const z=new Array(256),O=(v-g)/D,W=N/255,Y=(I-N)/(255*D);let te=0;for(let se=0;se<=D;se++){const J=Math.round(g+se*O),oe=W+se*Y;for(let q=te;q<=J;q++)z[q]=oe;te=J+1}for(let se=te;se<256;se++)z[se]=z[te-1];return z.join(",")},E=`g_${u(this,li)}_hcm_${t}_filter`,_=h.filter=M(this,ue,sc).call(this,E);return M(this,ue,tb).call(this,_),M(this,ue,Ld).call(this,x(w[0],b[0],5),x(w[1],b[1],5),x(w[2],b[2],5),_),h.url=M(this,ue,rc).call(this,E),h.url}destroy(t=!1){var n,s,a,l;t&&((n=u(this,La))!=null&&n.size)||((s=u(this,ai))==null||s.parentNode.parentNode.remove(),C(this,ai,null),(a=u(this,Ic))==null||a.clear(),C(this,Ic,null),(l=u(this,La))==null||l.clear(),C(this,La,null),C(this,Da,0))}}Ia=new WeakMap,Ic=new WeakMap,ai=new WeakMap,li=new WeakMap,un=new WeakMap,La=new WeakMap,Da=new WeakMap,ue=new WeakSet,an=function(){return u(this,Ic)||C(this,Ic,new Map)},Nd=function(){return u(this,La)||C(this,La,new Map)},nc=function(){if(!u(this,ai)){const t=u(this,un).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=u(this,un).createElementNS(Ys,"svg");s.setAttribute("width",0),s.setAttribute("height",0),C(this,ai,u(this,un).createElementNS(Ys,"defs")),t.append(s),s.append(u(this,ai)),u(this,un).body.append(t)}return u(this,ai)},Cm=function(t){if(t.length===1){const f=t[0],p=new Array(256);for(let v=0;v<256;v++)p[v]=f[v]/255;const g=p.join(",");return[g,g,g]}const[n,s,a]=t,l=new Array(256),c=new Array(256),h=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,c[f]=s[f]/255,h[f]=a[f]/255;return[l.join(","),c.join(","),h.join(",")]},rc=function(t){if(u(this,Ia)===void 0){C(this,Ia,"");const n=u(this,un).URL;n!==u(this,un).baseURI&&(Hg(n)?Oe('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,Ia,n.split("#",1)[0]))}return`url(${u(this,Ia)}#${t})`},X_=function(t){const n=u(this,un).createElementNS(Ys,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},tb=function(t){const n=u(this,un).createElementNS(Ys,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},sc=function(t){const n=u(this,un).createElementNS(Ys,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),u(this,ue,nc).append(n),n},Id=function(t,n,s){const a=u(this,un).createElementNS(Ys,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)},Ld=function(t,n,s,a){const l=u(this,un).createElementNS(Ys,"feComponentTransfer");a.append(l),M(this,ue,Id).call(this,l,"feFuncR",t),M(this,ue,Id).call(this,l,"feFuncG",n),M(this,ue,Id).call(this,l,"feFuncB",s)},nb=function(t,n){const s=u(this,un).createElementNS(Ys,"feComponentTransfer");n.append(s),M(this,ue,Id).call(this,s,"feFuncA",t)},Dd=function(t){return u(this,ue,nc).style.color=t,E0(getComputedStyle(u(this,ue,nc)).getPropertyValue("color"))};class K_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){et("Abstract method `_fetch` called.")}}class Y_ extends K_{async _fetch(e){const t=await Bg(e,"arraybuffer");return new Uint8Array(t)}}pn&&Oe("Please use the `legacy` build in Node.js environments.");async function q_(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class ID extends G_{}class LD extends U_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class DD extends W_{async _fetch(e){return q_(e)}}class OD extends K_{async _fetch(e){return q_(e)}}const fn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rb(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),i.clip(s)}class C0{getPattern(){et("Abstract method `getPattern` called.")}}class FD extends C0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let a;if(s===fn.STROKE||s===fn.FILL){const l=t.current.getClippedPathBoundingBox(s,ut(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",c,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Ae.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),rb(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);a.setTransform(g)}else rb(e,this._bbox),a=this._createGradient(e);return a}}function cw(i,e,t,n,s,a,l,c){const h=e.coords,f=e.colors,p=i.data,g=i.width*4;let v;h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=a,a=l,l=v),h[n+1]>h[s+1]&&(v=n,n=s,s=v,v=l,l=c,c=v),h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=a,a=l,l=v);const w=(h[t]+e.offsetX)*e.scaleX,b=(h[t+1]+e.offsetY)*e.scaleY,x=(h[n]+e.offsetX)*e.scaleX,E=(h[n+1]+e.offsetY)*e.scaleY,_=(h[s]+e.offsetX)*e.scaleX,R=(h[s+1]+e.offsetY)*e.scaleY;if(b>=R)return;const N=f[a],I=f[a+1],D=f[a+2],z=f[l],O=f[l+1],W=f[l+2],Y=f[c],te=f[c+1],se=f[c+2],J=Math.round(b),oe=Math.round(R);let q,ve,K,Z,V,X,Q,F;for(let G=J;G<=oe;G++){if(G<E){const ye=G<b?0:(b-G)/(b-E);q=w-(w-x)*ye,ve=N-(N-z)*ye,K=I-(I-O)*ye,Z=D-(D-W)*ye}else{let ye;G>R?ye=1:E===R?ye=0:ye=(E-G)/(E-R),q=x-(x-_)*ye,ve=z-(z-Y)*ye,K=O-(O-te)*ye,Z=W-(W-se)*ye}let le;G<b?le=0:G>R?le=1:le=(b-G)/(b-R),V=w-(w-_)*le,X=N-(N-Y)*le,Q=I-(I-te)*le,F=D-(D-se)*le;const Ee=Math.round(Math.min(q,V)),Me=Math.round(Math.max(q,V));let Se=g*G+Ee*4;for(let ye=Ee;ye<=Me;ye++)le=(q-ye)/(q-V),le<0?le=0:le>1&&(le=1),p[Se++]=ve-(ve-X)*le|0,p[Se++]=K-(K-Q)*le|0,p[Se++]=Z-(Z-F)*le|0,p[Se++]=255}}function jD(i,e,t){const n=e.coords,s=e.colors;let a,l;switch(e.type){case"lattice":const c=e.verticesPerRow,h=Math.floor(n.length/c)-1,f=c-1;for(a=0;a<h;a++){let p=a*c;for(let g=0;g<f;g++,p++)cw(i,t,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),cw(i,t,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)cw(i,t,n[a],n[a+1],n[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class $D extends C0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=f/g,b=p/v,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/w,scaleY:1/b},E=g+2*2,_=v+2*2,R=n.getCanvas("mesh",E,_),N=R.context,I=N.createImageData(g,v);if(t){const z=I.data;for(let O=0,W=z.length;O<W;O+=4)z[O]=t[0],z[O+1]=t[1],z[O+2]=t[2],z[O+3]=255}for(const z of this._figures)jD(I,z,x);return N.putImageData(I,2,2),{canvas:R.canvas,offsetX:c-2*w,offsetY:h-2*b,scaleX:w,scaleY:b}}getPattern(e,t,n,s){rb(e,this._bbox);let a;if(s===fn.SHADING)a=Ae.singularValueDecompose2dScale(ut(e));else if(a=Ae.singularValueDecompose2dScale(t.baseTransform),this.matrix){const c=Ae.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,s===fn.SHADING?null:this._background,t.cachedCanvases);return s!==fn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class zD extends C0{getPattern(){return"hotpink"}}function BD(i){switch(i[0]){case"RadialAxial":return new FD(i);case"Mesh":return new $D(i);case"Dummy":return new zD}throw new Error(`Unknown IR type: ${i[0]}`)}const ME={COLORED:1,UNCOLORED:2},Ag=class Ag{constructor(e,t,n,s,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),$g("TilingType: "+a);const p=t[0],g=t[1],v=t[2],w=t[3],b=v-p,x=w-g,E=Ae.singularValueDecompose2dScale(this.matrix),_=Ae.singularValueDecompose2dScale(this.baseTransform),R=E[0]*_[0],N=E[1]*_[1];let I=b,D=x,z=!1,O=!1;const W=Math.ceil(h*R),Y=Math.ceil(f*N),te=Math.ceil(b*R),se=Math.ceil(x*N);W>=te?I=h:z=!0,Y>=se?D=f:O=!0;const J=this.getSizeAndScale(I,this.ctx.canvas.width,R),oe=this.getSizeAndScale(D,this.ctx.canvas.height,N),q=e.cachedCanvases.getCanvas("pattern",J.size,oe.size),ve=q.context,K=c.createCanvasGraphics(ve);if(K.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(K,s,l),ve.translate(-J.scale*p,-oe.scale*g),K.transform(J.scale,0,0,oe.scale,0,0),ve.save(),this.clipBbox(K,p,g,v,w),K.baseTransform=ut(K.ctx),K.executeOperatorList(n),K.endDrawing(),ve.restore(),z||O){const Z=q.canvas;z&&(I=h),O&&(D=f);const V=this.getSizeAndScale(I,this.ctx.canvas.width,R),X=this.getSizeAndScale(D,this.ctx.canvas.height,N),Q=V.size,F=X.size,G=e.cachedCanvases.getCanvas("pattern-workaround",Q,F),le=G.context,Ee=z?Math.floor(b/h):0,Me=O?Math.floor(x/f):0;for(let Se=0;Se<=Ee;Se++)for(let ye=0;ye<=Me;ye++)le.drawImage(Z,Q*Se,F*ye,Q,F,0,0,Q,F);return{canvas:G.canvas,scaleX:V.scale,scaleY:X.scale,offsetX:p,offsetY:g}}return{canvas:q.canvas,scaleX:J.scale,scaleY:oe.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const s=Math.max(Ag.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=s?a=s:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,s,a){const l=s-t,c=a-n;e.ctx.rect(t,n,l,c),e.current.updateRectMinMax(ut(e.ctx),[t,n,s,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,a=e.current;switch(t){case ME.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case ME.UNCOLORED:const c=Ae.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new fD(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let a=n;s!==fn.SHADING&&(a=Ae.transform(a,t.baseTransform),this.matrix&&(a=Ae.transform(a,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Te(Ag,"MAX_PATTERN_SIZE",3e3);let sb=Ag;function HD({src:i,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=En.isLittleEndian?4278190080:255,[h,f]=l?[a,c]:[c,a],p=n>>3,g=n&7,v=i.length;t=new Uint32Array(t.buffer);let w=0;for(let b=0;b<s;b++){for(const E=e+p;e<E;e++){const _=e<v?i[e]:255;t[w++]=_&128?f:h,t[w++]=_&64?f:h,t[w++]=_&32?f:h,t[w++]=_&16?f:h,t[w++]=_&8?f:h,t[w++]=_&4?f:h,t[w++]=_&2?f:h,t[w++]=_&1?f:h}if(g===0)continue;const x=e<v?i[e++]:255;for(let E=0;E<g;E++)t[w++]=x&1<<7-E?f:h}return{srcPos:e,destPos:w}}const NE=16,IE=100,UD=15,LE=10,DE=1e3,zn=16;function WD(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,a,l,c,h){e.transform(n,s,a,l,c,h),this.__originalTransform(n,s,a,l,c,h)},i.setTransform=function(n,s,a,l,c,h){e.setTransform(n,s,a,l,c,h),this.__originalSetTransform(n,s,a,l,c,h)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,s,a,l,c){e.bezierCurveTo(t,n,s,a,l,c),this.__originalBezierCurveTo(t,n,s,a,l,c)},i.rect=function(t,n,s,a){e.rect(t,n,s,a),this.__originalRect(t,n,s,a)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class VD{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function rm(i,e,t,n,s,a,l,c,h,f){const[p,g,v,w,b,x]=ut(i);if(g===0&&v===0){const R=l*p+b,N=Math.round(R),I=c*w+x,D=Math.round(I),z=(l+h)*p+b,O=Math.abs(Math.round(z)-N)||1,W=(c+f)*w+x,Y=Math.abs(Math.round(W)-D)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(w),N,D),i.drawImage(e,t,n,s,a,0,0,O,Y),i.setTransform(p,g,v,w,b,x),[O,Y]}if(p===0&&w===0){const R=c*v+b,N=Math.round(R),I=l*g+x,D=Math.round(I),z=(c+f)*v+b,O=Math.abs(Math.round(z)-N)||1,W=(l+h)*g+x,Y=Math.abs(Math.round(W)-D)||1;return i.setTransform(0,Math.sign(g),Math.sign(v),0,N,D),i.drawImage(e,t,n,s,a,0,0,Y,O),i.setTransform(p,g,v,w,b,x),[Y,O]}i.drawImage(e,t,n,s,a,l,c,h,f);const E=Math.hypot(p,g),_=Math.hypot(v,w);return[E*h,_*f]}function GD(i){const{width:e,height:t}=i;if(e>DE||t>DE)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let l=new Uint8Array(a*(t+1)),c,h,f;const p=e+7&-8;let g=new Uint8Array(p*t),v=0;for(const _ of i.data){let R=128;for(;R>0;)g[v++]=_&R?0:255,R>>=1}let w=0;for(v=0,g[v]!==0&&(l[0]=1,++w),h=1;h<e;h++)g[v]!==g[v+1]&&(l[h]=g[v]?2:1,++w),v++;for(g[v]!==0&&(l[h]=2,++w),c=1;c<t;c++){v=c*p,f=c*a,g[v-p]!==g[v]&&(l[f]=g[v]?1:8,++w);let _=(g[v]?4:0)+(g[v-p]?8:0);for(h=1;h<e;h++)_=(_>>2)+(g[v+1]?4:0)+(g[v-p+1]?8:0),s[_]&&(l[f+h]=s[_],++w),v++;if(g[v-p]!==g[v]&&(l[f+h]=g[v]?2:4,++w),w>n)return null}for(v=p*(t-1),f=c*a,g[v]!==0&&(l[f]=8,++w),h=1;h<e;h++)g[v]!==g[v+1]&&(l[f+h]=g[v]?4:8,++w),v++;if(g[v]!==0&&(l[f+h]=4,++w),w>n)return null;const b=new Int32Array([0,a,-1,0,-a,0,0,0,1]),x=new Path2D;for(c=0;w&&c<=t;c++){let _=c*a;const R=_+e;for(;_<R&&!l[_];)_++;if(_===R)continue;x.moveTo(_%a,c);const N=_;let I=l[_];do{const D=b[I];do _+=D;while(!l[_]);const z=l[_];z!==5&&z!==10?(I=z,l[_]=0):(I=z&51*I>>4,l[_]&=I>>2|I<<2),x.lineTo(_%a,_/a|0),l[_]||--w}while(N!==_);--c}return g=null,l=null,function(_){_.save(),_.scale(1/e,-1/t),_.translate(0,-t),_.fill(x),_.beginPath(),_.restore()}}class OE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o_,this.textMatrixScale=1,this.fontMatrix=Nw,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=on.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ae.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ae.applyTransform(t,e),s=Ae.applyTransform(t.slice(2),e),a=Ae.applyTransform([t[0],t[3]],e),l=Ae.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],a[1],l[1])}updateScalingPathMinMax(e,t){Ae.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,a,l,c,h,f,p){const g=Ae.bezierBoundingBox(t,n,s,a,l,c,h,f,p);p||this.updateRectMinMax(e,g)}getPathBoundingBox(e=fn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===fn.STROKE){t||et("Stroke bounding box must include transform.");const s=Ae.singularValueDecompose2dScale(t),a=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const e=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=fn.FILL,t=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function FE(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%zn,a=(t-s)/zn,l=s===0?a:a+1,c=i.createImageData(n,zn);let h=0,f;const p=e.data,g=c.data;let v,w,b,x;if(e.kind===gm.GRAYSCALE_1BPP){const E=p.byteLength,_=new Uint32Array(g.buffer,0,g.byteLength>>2),R=_.length,N=n+7>>3,I=4294967295,D=En.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(b=v<a?zn:s,f=0,w=0;w<b;w++){const z=E-h;let O=0;const W=z>N?n:z*8-7,Y=W&-8;let te=0,se=0;for(;O<Y;O+=8)se=p[h++],_[f++]=se&128?I:D,_[f++]=se&64?I:D,_[f++]=se&32?I:D,_[f++]=se&16?I:D,_[f++]=se&8?I:D,_[f++]=se&4?I:D,_[f++]=se&2?I:D,_[f++]=se&1?I:D;for(;O<W;O++)te===0&&(se=p[h++],te=128),_[f++]=se&te?I:D,te>>=1}for(;f<R;)_[f++]=0;i.putImageData(c,0,v*zn)}}else if(e.kind===gm.RGBA_32BPP){for(w=0,x=n*zn*4,v=0;v<a;v++)g.set(p.subarray(h,h+x)),h+=x,i.putImageData(c,0,w),w+=zn;v<l&&(x=n*s*4,g.set(p.subarray(h,h+x)),i.putImageData(c,0,w))}else if(e.kind===gm.RGB_24BPP)for(b=zn,x=n*b,v=0;v<l;v++){for(v>=a&&(b=s,x=n*b),f=0,w=x;w--;)g[f++]=p[h++],g[f++]=p[h++],g[f++]=p[h++],g[f++]=255;i.putImageData(c,0,v*zn)}else throw new Error(`bad image kind: ${e.kind}`)}function jE(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%zn,a=(t-s)/zn,l=s===0?a:a+1,c=i.createImageData(n,zn);let h=0;const f=e.data,p=c.data;for(let g=0;g<l;g++){const v=g<a?zn:s;({srcPos:h}=HD({src:f,srcPos:h,dest:p,width:n,height:v,nonBlackColor:0})),i.putImageData(c,0,g*zn)}}function Sd(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function sm(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!pn){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function $E(i,e){if(e)return!0;const t=Ae.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Bo.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const XD=["butt","round","square"],KD=["miter","round","bevel"],YD={},zE={};var ns,ib,ob,ab;const dx=class dx{constructor(e,t,n,s,a,{optionalContentConfig:l,markedContentStack:c=null},h,f){k(this,ns);this.ctx=e,this.current=new OE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new VD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...ut(this.compositeCtx))}this.ctx.save(),sm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ut(this.ctx)}executeOperatorList(e,t,n,s){const a=e.argsArray,l=e.fnArray;let c=t||0;const h=a.length;if(h===c)return c;const f=h-c>LE&&typeof n=="function",p=f?Date.now()+UD:0;let g=0;const v=this.commonObjs,w=this.objs;let b;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(b=l[c],b!==jr.dependency)this[b].apply(this,a[c]);else for(const x of a[c]){const E=x.startsWith("g_")?v:w;if(!E.has(x))return E.get(x,n),c}if(c++,c===h)return c;if(f&&++g>LE){if(Date.now()>p)return n(),c;g=0}}}endDrawing(){M(this,ns,ib).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,ns,ob).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,h=s,f="prescale1",p,g;for(;a>2&&c>1||l>2&&h>1;){let v=c,w=h;a>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/v),l>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/w),p=this.cachedCanvases.getCanvas(f,v,w),g=p.context,g.clearRect(0,0,v,w),g.drawImage(e,0,0,c,h,0,0,v,w),e=p.canvas,c=v,h=w,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,l=this.current.patternFill,c=ut(t);let h,f,p,g;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;f=JSON.stringify(l?c:[c.slice(0,4),a]),h=this._cachedBitmapsMap.get(W),h||(h=new Map,this._cachedBitmapsMap.set(W,h));const Y=h.get(f);if(Y&&!l){const te=Math.round(Math.min(c[0],c[2])+c[4]),se=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:Y,offsetX:te,offsetY:se}}p=Y}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),jE(g.context,e));let v=Ae.transform(c,[1/n,0,0,-1/s,0,0]);v=Ae.transform(v,[1,0,0,1,0,-s]);const[w,b,x,E]=Ae.getAxialAlignedBoundingBox([0,0,n,s],v),_=Math.round(x-w)||1,R=Math.round(E-b)||1,N=this.cachedCanvases.getCanvas("fillCanvas",_,R),I=N.context,D=w,z=b;I.translate(-D,-z),I.transform(...v),p||(p=this._scaleImage(g.canvas,hs(I)),p=p.img,h&&l&&h.set(f,p)),I.imageSmoothingEnabled=$E(ut(I),e.interpolate),rm(I,p,0,0,p.width,p.height,0,0,n,s),I.globalCompositeOperation="source-in";const O=Ae.transform(hs(I),[1,0,0,1,-D,-z]);return I.fillStyle=l?a.getPattern(t,this,O,fn.FILL):a,I.fillRect(0,0,n,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,N.canvas)),{canvas:N.canvas,offsetX:Math.round(D),offsetY:Math.round(z)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=XD[e]}setLineJoin(e){this.ctx.lineJoin=KD[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...ut(this.suspendedCtx)),Sd(this.suspendedCtx,a),WD(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const a=s[0],l=s[1],c=s[2]-a,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(t.context,n,c,h,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,a,l,c,h,f,p,g){let v=e.canvas,w=h-p,b=f-g;if(l){const E=Ae.makeHexColor(...l);if(w<0||b<0||w+n>v.width||b+s>v.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,s),R=_.context;R.drawImage(v,-w,-b),R.globalCompositeOperation="destination-atop",R.fillStyle=E,R.fillRect(0,0,n,s),R.globalCompositeOperation="source-over",v=_.canvas,w=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(w,b,n,s),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=E,e.fillRect(w,b,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(h,f,n,s),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(v,w,b,n,s,h,f,n,s),t.restore()}save(){this.inSMaskMode?(Sd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Sd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,a,l){this.ctx.transform(e,t,n,s,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,a=this.current;let l=a.x,c=a.y,h,f;const p=ut(s),g=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,v=g?n.slice(0):null;for(let w=0,b=0,x=e.length;w<x;w++)switch(e[w]|0){case jr.rectangle:l=t[b++],c=t[b++];const E=t[b++],_=t[b++],R=l+E,N=c+_;s.moveTo(l,c),E===0||_===0?s.lineTo(R,N):(s.lineTo(R,c),s.lineTo(R,N),s.lineTo(l,N)),g||a.updateRectMinMax(p,[l,c,R,N]),s.closePath();break;case jr.moveTo:l=t[b++],c=t[b++],s.moveTo(l,c),g||a.updatePathMinMax(p,l,c);break;case jr.lineTo:l=t[b++],c=t[b++],s.lineTo(l,c),g||a.updatePathMinMax(p,l,c);break;case jr.curveTo:h=l,f=c,l=t[b+4],c=t[b+5],s.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],l,c),a.updateCurvePathMinMax(p,h,f,t[b],t[b+1],t[b+2],t[b+3],l,c,v),b+=6;break;case jr.curveTo2:h=l,f=c,s.bezierCurveTo(l,c,t[b],t[b+1],t[b+2],t[b+3]),a.updateCurvePathMinMax(p,h,f,l,c,t[b],t[b+1],t[b+2],t[b+3],v),l=t[b+2],c=t[b+3],b+=4;break;case jr.curveTo3:h=l,f=c,l=t[b+2],c=t[b+3],s.bezierCurveTo(t[b],t[b+1],l,c,l,c),a.updateCurvePathMinMax(p,h,f,t[b],t[b+1],l,c,l,c,v),b+=4;break;case jr.closePath:s.closePath();break}g&&a.updateScalingPathMinMax(p,v),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,hs(t),fn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,hs(t),fn.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=YD}eoClip(){this.pendingClip=zE}beginText(){this.current.textMatrix=o_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const n=new Path2D,s=t.getTransform().invertSelf();for(const{transform:a,x:l,y:c,fontSize:h,path:f}of e)n.addPath(f,new DOMMatrix(a).preMultiplySelf(s).translate(l,c).scale(h,-h));t.clip(n),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||Nw,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Oe("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let f=t;t<NE?f=NE:t>IE&&(f=IE),this.current.fontSizeScale=t/f,this.ctx.font=`${h} ${c} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,a,l){this.current.textMatrix=[e,t,n,s,a,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s,a){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,g=f&on.FILL_STROKE_MASK,v=!!(f&on.ADD_TO_PATH_FLAG),w=c.patternFill&&!h.missingFile,b=c.patternStroke&&!h.missingFile;let x;if((h.disableFontFace||v||w||b)&&(x=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||w||b){if(l.save(),l.translate(t,n),l.scale(p,-p),g===on.FILL||g===on.FILL_STROKE)if(s){const E=l.getTransform();l.setTransform(...s),l.fill(M(this,ns,ab).call(this,x,E,s))}else l.fill(x);if(g===on.STROKE||g===on.FILL_STROKE)if(a){const E=l.getTransform();l.setTransform(...a),l.stroke(M(this,ns,ab).call(this,x,E,a))}else l.lineWidth/=p,l.stroke(x);l.restore()}else(g===on.FILL||g===on.FILL_STROKE)&&l.fillText(e,t,n),(g===on.STROKE||g===on.FILL_STROKE)&&l.strokeText(e,t,n);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ut(l),x:t,y:n,fontSize:p,path:x})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Be(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,h=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,g=e.length,v=n.vertical,w=v?1:-1,b=n.defaultVMetrics,x=s*t.fontMatrix[0],E=t.textRenderingMode===on.FILL&&!n.disableFontFace&&!t.patternFill;a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),f>0?a.scale(p,-1):a.scale(p,1);let _,R;if(t.patternFill){a.save();const O=t.fillColor.getPattern(a,this,hs(a),fn.FILL);_=ut(a),a.restore(),a.fillStyle=O}if(t.patternStroke){a.save();const O=t.strokeColor.getPattern(a,this,hs(a),fn.STROKE);R=ut(a),a.restore(),a.strokeStyle=O}let N=t.lineWidth;const I=t.textMatrixScale;if(I===0||N===0){const O=t.textRenderingMode&on.FILL_STROKE_MASK;(O===on.STROKE||O===on.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=I;if(l!==1&&(a.scale(l,l),N/=l),a.lineWidth=N,n.isInvalidPDFjsFont){const O=[];let W=0;for(const Y of e)O.push(Y.unicode),W+=Y.width;a.fillText(O.join(""),0,0),t.x+=W*x*p,a.restore(),this.compose();return}let D=0,z;for(z=0;z<g;++z){const O=e[z];if(typeof O=="number"){D+=w*O*s/1e3;continue}let W=!1;const Y=(O.isSpace?h:0)+c,te=O.fontChar,se=O.accent;let J,oe,q=O.width;if(v){const K=O.vmetric||b,Z=-(O.vmetric?K[1]:q*.5)*x,V=K[2]*x;q=K?-K[0]:q,J=Z/l,oe=(D+V)/l}else J=D/l,oe=0;if(n.remeasure&&q>0){const K=a.measureText(te).width*1e3/s*l;if(q<K&&this.isFontSubpixelAAEnabled){const Z=q/K;W=!0,a.save(),a.scale(Z,1),J/=Z}else q!==K&&(J+=(q-K)/2e3*s/l)}if(this.contentVisible&&(O.isInFont||n.missingFile)){if(E&&!se)a.fillText(te,J,oe);else if(this.paintChar(te,J,oe,_,R),se){const K=J+s*se.offset.x/l,Z=oe-s*se.offset.y/l;this.paintChar(se.fontChar,K,Z,_,R)}}const ve=v?q*x-Y*f:q*x+Y*f;D+=ve,W&&a.restore()}v?t.y-=D:t.x+=D*p,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,a=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,f=n.wordSpacing,p=n.textHScale*l,g=n.fontMatrix||Nw,v=e.length,w=n.textRenderingMode===on.INVISIBLE;let b,x,E,_;if(!(w||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(p,l),b=0;b<v;++b){if(x=e[b],typeof x=="number"){_=c*x*a/1e3,this.ctx.translate(_,0),n.x+=_*p;continue}const R=(x.isSpace?f:0)+h,N=s.charProcOperatorList[x.operatorListId];if(!N){Oe(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(a,a),t.transform(...g),this.executeOperatorList(N),this.restore()),E=Ae.applyTransform([x.width,0],g)[0]*a+R,t.translate(E,0),n.x+=E*p}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,a,l){this.ctx.rect(n,s,a-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||ut(this.ctx),a={createCanvasGraphics:l=>new dx(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new sb(e,n,this.ctx,a,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ae.makeHexColor(e,t,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ae.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=BD(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,hs(t),fn.SHADING);const s=hs(t);{const{width:a,height:l}=t.canvas,[c,h,f,p]=Ae.getAxialAlignedBoundingBox([0,0,a,l],s);this.ctx.fillRect(c,h,f-c,p-h)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){et("Should not call beginInlineImage")}beginImageData(){et("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ut(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(ut(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||$g("TODO: Support non-isolated groups."),e.knockout&&Oe("Knockout groups not supported.");const n=ut(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ae.getAxialAlignedBoundingBox(e.bbox,ut(t));const a=[0,0,t.canvas.width,t.canvas.height];s=Ae.intersect(s,a)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,h,f),v=g.context;v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:v,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),Sd(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=ut(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=Ae.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,s,a){if(M(this,ns,ib).call(this),sm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c;const[h,f]=Ae.singularValueDecompose2dScale(ut(this.ctx)),{viewportScale:p}=this,g=Math.ceil(l*this.outputScaleX*p),v=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,v);const{canvas:w,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(h,0,0,-f,0,c*f),sm(this.ctx)}else sm(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new OE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,ns,ob).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=GD(e)),s.compiled)){s.compiled(n);return}const a=this._createMaskCanvas(e),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,a,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const h=ut(c);c.transform(t,n,s,a,0,0);const f=this._createMaskCanvas(e);c.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let p=0,g=l.length;p<g;p+=2){const v=Ae.transform(h,[t,n,s,a,l[p],l[p+1]]),[w,b]=Ae.applyTransform([0,0],v);c.drawImage(f.canvas,w,b)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const a of e){const{data:l,width:c,height:h,transform:f}=a,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),g=p.context;g.save();const v=this.getObject(l,a);jE(g,v),g.globalCompositeOperation="source-in",g.fillStyle=s?n.getPattern(g,this,hs(t),fn.FILL):n,g.fillRect(0,0,c,h),g.restore(),t.save(),t.transform(...f),t.scale(1,-1),rm(t,p.canvas,0,0,c,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Oe("Dependent image isn't ready yet");return}const l=a.width,c=a.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,s),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!pn){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;FE(h,e),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,hs(s));s.imageSmoothingEnabled=$E(ut(s),e.interpolate),rm(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const a=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",a,l).context;FE(h,e),s=this.applyTransferMapsToCanvas(h)}for(const a of t)n.save(),n.transform(...a.transform),n.scale(1,-1),rm(n,s,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===zE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ut(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:a}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(t),f=Math.abs(a);if(h===f)if(e===0)l=c=1/h;else{const p=h*e;l=c=p<1?1/p:1}else if(e===0)l=1/h,c=1/f;else{const p=h*e,g=f*e;l=p<1?1/p:1,c=g<1?1/g:1}}else{const h=Math.abs(t*a-n*s),f=Math.hypot(t,n),p=Math.hypot(s,a);if(e===0)l=p/h,c=f/h;else{const g=e*h;l=p>g?p/g:1,c=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,a]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&a===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(s,a),l.length>0){const c=Math.max(s,a);t.setLineDash(l.map(h=>h/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ns=new WeakSet,ib=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ob=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},ab=function(e,t,n){const s=new Path2D;return s.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),s};let fc=dx;for(const i in jr)fc.prototype[i]!==void 0&&(fc.prototype[jr[i]]=fc.prototype[i]);var Mh,Nh;class _i{static get workerPort(){return u(this,Mh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,Mh,e)}static get workerSrc(){return u(this,Nh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,Nh,e)}}Mh=new WeakMap,Nh=new WeakMap,k(_i,Mh,null),k(_i,Nh,"");var Oa,Ih;class qD{constructor({parsedData:e,rawData:t}){k(this,Oa);k(this,Ih);C(this,Oa,e),C(this,Ih,t)}getRaw(){return u(this,Ih)}get(e){return u(this,Oa).get(e)??null}getAll(){return w0(u(this,Oa))}has(e){return u(this,Oa).has(e)}}Oa=new WeakMap,Ih=new WeakMap;const ic=Symbol("INTERNAL");var Lh,Dh,Oh,Lc;class QD{constructor(e,{name:t,intent:n,usage:s,rbGroups:a}){k(this,Lh,!1);k(this,Dh,!1);k(this,Oh,!1);k(this,Lc,!0);C(this,Lh,!!(e&rr.DISPLAY)),C(this,Dh,!!(e&rr.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=a}get visible(){if(u(this,Oh))return u(this,Lc);if(!u(this,Lc))return!1;const{print:e,view:t}=this.usage;return u(this,Lh)?(t==null?void 0:t.viewState)!=="OFF":u(this,Dh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==ic&&et("Internal method `_setVisible` called."),C(this,Oh,n),C(this,Lc,t)}}Lh=new WeakMap,Dh=new WeakMap,Oh=new WeakMap,Lc=new WeakMap;var bo,qe,Dc,Oc,Fh,lb;class JD{constructor(e,t=rr.DISPLAY){k(this,Fh);k(this,bo,null);k(this,qe,new Map);k(this,Dc,null);k(this,Oc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,Oc,e.order);for(const n of e.groups)u(this,qe).set(n.id,new QD(t,n));if(e.baseState==="OFF")for(const n of u(this,qe).values())n._setVisible(ic,!1);for(const n of e.on)u(this,qe).get(n)._setVisible(ic,!0);for(const n of e.off)u(this,qe).get(n)._setVisible(ic,!1);C(this,Dc,this.getHash())}}isVisible(e){if(u(this,qe).size===0)return!0;if(!e)return $g("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,qe).has(e.id)?u(this,qe).get(e.id).visible:(Oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,Fh,lb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,qe).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(u(this,qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,qe).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!u(this,qe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,qe).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!u(this,qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,qe).has(t))return Oe(`Optional content group not found: ${t}`),!0;if(u(this,qe).get(t).visible)return!1}return!0}return Oe(`Unknown optional content policy ${e.policy}.`),!0}return Oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const s=u(this,qe).get(e);if(!s){Oe(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==e&&((a=u(this,qe).get(c))==null||a._setVisible(ic,!1,!0));s._setVisible(ic,!!t,!0),C(this,bo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const a=u(this,qe).get(s);if(a)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!a.visible,t);break}}C(this,bo,null)}get hasInitialVisibility(){return u(this,Dc)===null||this.getHash()===u(this,Dc)}getOrder(){return u(this,qe).size?u(this,Oc)?u(this,Oc).slice():[...u(this,qe).keys()]:null}getGroups(){return u(this,qe).size>0?w0(u(this,qe)):null}getGroup(e){return u(this,qe).get(e)||null}getHash(){if(u(this,bo)!==null)return u(this,bo);const e=new F_;for(const[t,n]of u(this,qe))e.update(`${t}:${n.visible}`);return C(this,bo,e.hexdigest())}}bo=new WeakMap,qe=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,Fh=new WeakSet,lb=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const a=e[s];let l;if(Array.isArray(a))l=M(this,Fh,lb).call(this,a);else if(u(this,qe).has(a))l=u(this,qe).get(a).visible;else return Oe(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class ZD{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Rt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),e.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});Rt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Rt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new eO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new tO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class eO{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=A0(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class tO{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nO(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let p=c(t);return p=unescape(p),p=h(p),p=f(p),a(p)}if(t=l(i),t){const p=f(t);return a(p)}if(t=n("filename","i").exec(i),t){t=t[1];let p=c(t);return p=f(p),a(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(p,{fatal:!0}),w=zg(g);g=v.decode(w),e=!1}catch{}}return g}function a(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function l(p){const g=[];let v;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=w.exec(p))!==null;){let[,x,E,_]=v;if(x=parseInt(x,10),x in g){if(x===0)break;continue}g[x]=[E,_]}const b=[];for(let x=0;x<g.length&&x in g;++x){let[E,_]=g[x];_=c(_),E&&(_=unescape(_),x===0&&(_=h(_))),b.push(_)}return b.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let v=0;v<g.length;++v){const w=g[v].indexOf('"');w!==-1&&(g[v]=g[v].slice(0,w),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const v=p.slice(0,g),b=p.slice(g+1).replace(/^[^']*'/,"");return s(v,b)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,w,b){if(w==="q"||w==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,E){return String.fromCharCode(parseInt(E,16))}),s(v,b);try{b=atob(b)}catch{}return s(v,b)})}return""}function Q_(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Ug(i){try{return new URL(i).origin}catch{}return null}function J_({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(i.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*t)||n||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Z_(i){const e=i.get("Content-Disposition");if(e){let t=nO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(A0(t))return t}return null}function Wg(i,e){return i===404||i===0&&e.startsWith("file:")?new Yd('Missing PDF "'+e+'".'):new Zm(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function eC(i){return i===200||i===206}function tC(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function nC(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Oe(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class BE{constructor(e){Te(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Q_(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new sO(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,tC(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Ug(a.url),!eC(a.status))throw Wg(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:h}=J_({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Z_(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class sO{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,tC(a,this._withCredentials,this._abortController)).then(c=>{const h=Ug(c.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!eC(c.status))throw Wg(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:nC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const uw=200,dw=206;function iO(i){const e=i.response;return typeof e!="string"?e:zg(e).buffer}class oO{constructor({url:e,httpHeaders:t,withCredentials:n}){Te(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Q_(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=dw):s.expectedStatus=uw,t.responseType="arraybuffer",Rt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){n.onError(s.status);return}const a=s.status||uw;if(!(a===uw&&n.expectedStatus===dw)&&a!==n.expectedStatus){n.onError(s.status);return}const c=iO(s);if(a===dw){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?n.onDone({begin:parseInt(f[1],10),chunk:c}):(Oe('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class aO{constructor(e){this._source=e,this._manager=new oO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Rt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new cO(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class lO{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Ug(t.responseURL);const n=t.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=J_({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Z_(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cO{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Ug((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Wg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const uO=/^[a-z][a-z0-9\-+.]+:/i;function dO(i){if(uO.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class hO{constructor(e){this.source=e,this.url=dO(e.url),Rt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new fO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new pO(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class fO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Yd(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pO{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const mO=1e5,Ln=30,gO=.8;var x1,xo,jn,jh,$h,Fa,ci,zh,Bh,ja,Fc,jc,Ao,$c,Hh,zc,$a,Uh,Wh,za,Ba,Vh,So,Bc,Ni,rC,sC,cb,lr,Tm,ub,iC,oC;const It=class It{constructor({textContentSource:e,container:t,viewport:n}){k(this,Ni);k(this,xo,Promise.withResolvers());k(this,jn,null);k(this,jh,!1);k(this,$h,!!((x1=globalThis.FontInspector)!=null&&x1.enabled));k(this,Fa,null);k(this,ci,null);k(this,zh,0);k(this,Bh,0);k(this,ja,null);k(this,Fc,null);k(this,jc,0);k(this,Ao,0);k(this,$c,Object.create(null));k(this,Hh,[]);k(this,zc,null);k(this,$a,[]);k(this,Uh,new WeakMap);k(this,Wh,null);var h;if(e instanceof ReadableStream)C(this,zc,e);else if(typeof e=="object")C(this,zc,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,jn,C(this,Fc,t)),C(this,Ao,n.scale*(globalThis.devicePixelRatio||1)),C(this,jc,n.rotation),C(this,ci,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:l,pageY:c}=n.rawDims;C(this,Wh,[1,0,0,-1,-l,c+a]),C(this,Bh,s),C(this,zh,a),M(h=It,lr,iC).call(h),yl(t,n),u(this,xo).promise.finally(()=>{u(It,Bc).delete(this),C(this,ci,null),C(this,$c,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=En.platform;return Be(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,ja).read().then(({value:t,done:n})=>{if(n){u(this,xo).resolve();return}u(this,Fa)??C(this,Fa,t.lang),Object.assign(u(this,$c),t.styles),M(this,Ni,rC).call(this,t.items),e()},u(this,xo).reject)};return C(this,ja,u(this,zc).getReader()),u(It,Bc).add(this),e(),u(this,xo).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==u(this,jc)&&(t==null||t(),C(this,jc,s),yl(u(this,Fc),{rotation:s})),n!==u(this,Ao)){t==null||t(),C(this,Ao,n);const l={div:null,properties:null,ctx:M(a=It,lr,Tm).call(a,u(this,Fa))};for(const c of u(this,$a))l.properties=u(this,Uh).get(c),l.div=c,M(this,Ni,cb).call(this,l)}}cancel(){var t;const e=new zo("TextLayer task cancelled.");(t=u(this,ja))==null||t.cancel(e).catch(()=>{}),C(this,ja,null),u(this,xo).reject(e)}get textDivs(){return u(this,$a)}get textContentItemsStr(){return u(this,Hh)}static cleanup(){if(!(u(this,Bc).size>0)){u(this,za).clear();for(const{canvas:e}of u(this,Ba).values())e.remove();u(this,Ba).clear()}}};xo=new WeakMap,jn=new WeakMap,jh=new WeakMap,$h=new WeakMap,Fa=new WeakMap,ci=new WeakMap,zh=new WeakMap,Bh=new WeakMap,ja=new WeakMap,Fc=new WeakMap,jc=new WeakMap,Ao=new WeakMap,$c=new WeakMap,Hh=new WeakMap,zc=new WeakMap,$a=new WeakMap,Uh=new WeakMap,Wh=new WeakMap,za=new WeakMap,Ba=new WeakMap,Vh=new WeakMap,So=new WeakMap,Bc=new WeakMap,Ni=new WeakSet,rC=function(e){var s,a;if(u(this,jh))return;(a=u(this,ci)).ctx??(a.ctx=M(s=It,lr,Tm).call(s,u(this,Fa)));const t=u(this,$a),n=u(this,Hh);for(const l of e){if(t.length>mO){Oe("Ignoring additional textDivs for performance reasons."),C(this,jh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=u(this,jn);C(this,jn,document.createElement("span")),u(this,jn).classList.add("markedContent"),l.id!==null&&u(this,jn).setAttribute("id",`${l.id}`),c.append(u(this,jn))}else l.type==="endMarkedContent"&&C(this,jn,u(this,jn).parentNode);continue}n.push(l.str),M(this,Ni,sC).call(this,l)}},sC=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,$a).push(t);const s=Ae.transform(u(this,Wh),e.transform);let a=Math.atan2(s[1],s[0]);const l=u(this,$c)[e.fontName];l.vertical&&(a+=Math.PI/2);let c=u(this,$h)&&l.fontSubstitution||l.fontFamily;c=It.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),f=h*M(x=It,lr,oC).call(x,c,u(this,Fa));let p,g;a===0?(p=s[4],g=s[5]-f):(p=s[4]+f*Math.sin(a),g=s[5]-f*Math.cos(a));const v="calc(var(--scale-factor)*",w=t.style;u(this,jn)===u(this,Fc)?(w.left=`${(100*p/u(this,Bh)).toFixed(2)}%`,w.top=`${(100*g/u(this,zh)).toFixed(2)}%`):(w.left=`${v}${p.toFixed(2)}px)`,w.top=`${v}${g.toFixed(2)}px)`),w.fontSize=`${v}${(u(It,So)*h).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,$h)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);E!==_&&Math.max(E,_)/Math.min(E,_)>1.5&&(b=!0)}if(b&&(n.canvasWidth=l.vertical?e.height:e.width),u(this,Uh).set(t,n),u(this,ci).div=t,u(this,ci).properties=n,M(this,Ni,cb).call(this,u(this,ci)),n.hasText&&u(this,jn).append(t),n.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),u(this,jn).append(E)}},cb=function(e){var c;const{div:t,properties:n,ctx:s}=e,{style:a}=t;let l="";if(u(It,So)>1&&(l=`scale(${1/u(It,So)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=a,{canvasWidth:f,fontSize:p}=n;M(c=It,lr,ub).call(c,s,p*u(this,Ao),h);const{width:g}=s.measureText(t.textContent);g>0&&(l=`scaleX(${f*u(this,Ao)/g}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},lr=new WeakSet,Tm=function(e=null){let t=u(this,Ba).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Ba).set(e,t),u(this,Vh).set(t,{size:0,family:""})}return t},ub=function(e,t,n){const s=u(this,Vh).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},iC=function(){if(u(this,So)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,So,e.getBoundingClientRect().height),e.remove()},oC=function(e,t){const n=u(this,za).get(e);if(n)return n;const s=M(this,lr,Tm).call(this,t);s.canvas.width=s.canvas.height=Ln,M(this,lr,ub).call(this,s,Ln,e);const a=s.measureText("");let l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(l){const p=l/(l+c);return u(this,za).set(e,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,Ln,Ln),s.strokeText("g",0,0);let h=s.getImageData(0,0,Ln,Ln).data;c=0;for(let p=h.length-1-3;p>=0;p-=4)if(h[p]>0){c=Math.ceil(p/4/Ln);break}s.clearRect(0,0,Ln,Ln),s.strokeText("A",0,Ln),h=s.getImageData(0,0,Ln,Ln).data,l=0;for(let p=0,g=h.length;p<g;p+=4)if(h[p]>0){l=Ln-Math.floor(p/4/Ln);break}s.canvas.width=s.canvas.height=0;const f=l?l/(l+c):gO;return u(this,za).set(e,f),f},k(It,lr),k(It,za,new Map),k(It,Ba,new Map),k(It,Vh,new WeakMap),k(It,So,null),k(It,Bc,new Set);let qd=It;class Qd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(a){var h;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Qd.shouldBuildText(c))(h=a==null?void 0:a.attributes)!=null&&h.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const f of a.children)s(f)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const vO=65536,yO=100,wO=5e3,bO=pn?LD:MD,xO=pn?DD:V_,AO=pn?ID:ND,SO=pn?OD:Y_;function EO(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new db,{docId:t}=e,n=i.url?_O(i.url):null,s=i.data?CO(i.data):null,a=i.httpHeaders||null,l=i.withCredentials===!0,c=i.password??null,h=i.range instanceof aC?i.range:null,f=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:vO;let p=i.worker instanceof pc?i.worker:null;const g=i.verbosity,v=typeof i.docBaseUrl=="string"&&!Hg(i.docBaseUrl)?i.docBaseUrl:null,w=typeof i.cMapUrl=="string"?i.cMapUrl:null,b=i.cMapPacked!==!1,x=i.CMapReaderFactory||xO,E=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,_=i.StandardFontDataFactory||SO,R=i.stopAtErrors!==!0,N=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,I=i.isEvalSupported!==!1,D=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!pn,z=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!pn&&(En.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,W=typeof i.disableFontFace=="boolean"?i.disableFontFace:pn,Y=i.fontExtraProperties===!0,te=i.enableXfa===!0,se=i.ownerDocument||globalThis.document,J=i.disableRange===!0,oe=i.disableStream===!0,q=i.disableAutoFetch===!0,ve=i.pdfBug===!0,K=i.CanvasFactory||bO,Z=i.FilterFactory||AO,V=i.enableHWA===!0,X=h?h.length:i.length??NaN,Q=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!pn&&!W,F=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:x===V_&&_===Y_&&w&&E&&Td(w,document.baseURI)&&Td(E,document.baseURI),G=null;cD(g);const le={canvasFactory:new K({ownerDocument:se,enableHWA:V}),filterFactory:new Z({docId:t,ownerDocument:se}),cMapReaderFactory:F?null:new x({baseUrl:w,isCompressed:b}),standardFontDataFactory:F?null:new _({baseUrl:E})};if(!p){const Se={verbosity:g,port:_i.workerPort};p=Se.port?pc.fromPort(Se):new pc(Se),e._worker=p}const Ee={docId:t,apiVersion:"4.10.38",data:s,password:c,disableAutoFetch:q,rangeChunkSize:f,length:X,docBaseUrl:v,enableXfa:te,evaluatorOptions:{maxImageSize:N,disableFontFace:W,ignoreErrors:R,isEvalSupported:I,isOffscreenCanvasSupported:D,isImageDecoderSupported:z,canvasMaxAreaInBytes:O,fontExtraProperties:Y,useSystemFonts:Q,cMapUrl:F?w:null,standardFontDataUrl:F?E:null}},Me={disableFontFace:W,fontExtraProperties:Y,ownerDocument:se,pdfBug:ve,styleElement:G,loadingParams:{disableAutoFetch:q,enableXfa:te}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Se=p.messageHandler.sendWithPromise("GetDocRequest",Ee,s?[s.buffer]:null);let ye;if(h)ye=new ZD(h,{disableRange:J,disableStream:oe});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ne;if(pn)if(Td(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Ne=BE}else Ne=hO;else Ne=Td(n)?BE:aO;ye=new Ne({url:n,length:X,httpHeaders:a,withCredentials:l,rangeChunkSize:f,disableRange:J,disableStream:oe})}return Se.then(Ne=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Fe=new Md(t,Ne,p.port),bt=new kO(Fe,e,ye,Me,le);e._transport=bt,Fe.send("Ready",null)})}).catch(e._capability.reject),e}function _O(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(pn&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function CO(i){if(pn&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return zg(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HE(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var Sg;const Eg=class Eg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${vn(Eg,Sg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}};Sg=new WeakMap,k(Eg,Sg,0);let db=Eg;class aC{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class TO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Eo,ui,Cr,oc,Rm;class RO{constructor(e,t,n,s=!1){k(this,Cr);k(this,Eo,null);k(this,ui,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new RE:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new lC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:a=!1}={}){return new Df({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=oo.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1}){var I,D;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(n,s,p,g),{renderingIntent:w,cacheKey:b}=v;C(this,ui,!1),M(this,Cr,Rm).call(this),c||(c=this._transport.getOptionalContentConfig(w));let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const E=!!(w&rr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(v));const _=z=>{var O;x.renderTasks.delete(R),(this._maybeCleanupAfterRender||E)&&C(this,ui,!0),M(this,Cr,oc).call(this,!E),z?(R.capability.reject(z),this._abortOperatorList({intentState:x,reason:z instanceof Error?z:new Error(z)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new fb({callback:_,params:{canvasContext:e,viewport:t,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f});(x.renderTasks||(x.renderTasks=new Set)).add(R);const N=R.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([z,O])=>{var W;if(this.destroyed){_();return}if((W=this._stats)==null||W.time("Rendering"),!(O.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:z,optionalContentConfig:O}),R.operatorListChanged()}).catch(_),N}getOperatorList({intent:e="display",annotationMode:t=oo.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var f;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Qd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function a(){l.read().then(function({value:h,done:f}){if(f){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),a()},s)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),C(this,ui,!1),M(this,Cr,Rm).call(this),Promise.all(e)}cleanup(e=!1){C(this,ui,!0);const t=M(this,Cr,oc).call(this,!1);return e&&t&&this._stats&&(this._stats=new RE),t}_startRenderPage(e,t){var s,a;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&M(this,Cr,oc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:a,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:s},l).getReader(),f=this._intentStates.get(t);f.streamReader=h;const p=()=>{h.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();M(this,Cr,oc).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof x0){let s=yO;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new zo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Eo=new WeakMap,ui=new WeakMap,Cr=new WeakSet,oc=function(e=!1){if(M(this,Cr,Rm).call(this),!u(this,ui)||this.destroyed)return!1;if(e)return C(this,Eo,setTimeout(()=>{C(this,Eo,null),M(this,Cr,oc).call(this,!1)},wO)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,ui,!1),!0},Rm=function(){u(this,Eo)&&(clearTimeout(u(this,Eo)),C(this,Eo,null))};var di,_g;class PO{constructor(){k(this,di,new Map);k(this,_g,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};u(this,_g).then(()=>{for(const[s]of u(this,di))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){Oe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}u(this,di).set(t,s)}removeEventListener(e,t){const n=u(this,di).get(t);n==null||n(),u(this,di).delete(t)}terminate(){for(const[,e]of u(this,di))e==null||e();u(this,di).clear()}}di=new WeakMap,_g=new WeakMap;var Cg,Ha,Ua,Hc,Pm,Uc,km;const ct=class ct{constructor({name:e=null,port:t=null,verbosity:n=uD()}={}){k(this,Hc);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=u(ct,Ua))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(ct,Ua)||C(ct,Ua,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Md("main","worker",e),this._messageHandler.on("ready",function(){}),M(this,Hc,Pm).call(this)}_initialize(){if(u(ct,Ha)||u(ct,Uc,km)){this._setupFakeWorker();return}let{workerSrc:e}=ct;try{ct._isSameOrigin(window.location.href,e)||(e=ct._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Md("main","worker",t),s=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,M(this,Hc,Pm).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{$g("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(ct,Ha)||(Oe("Setting up fake worker."),C(ct,Ha,!0)),ct._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new PO;this._port=t;const n=`fake${vn(ct,Cg)._++}`,s=new Md(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new Md(n,n+"_worker",t),M(this,Hc,Pm).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=u(ct,Ua))==null||t.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=u(this,Ua))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ct(e)}static get workerSrc(){if(_i.workerSrc)return _i.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Be(this,"_setupFakeWorkerGlobal",(async()=>u(this,Uc,km)?u(this,Uc,km):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cg=new WeakMap,Ha=new WeakMap,Ua=new WeakMap,Hc=new WeakSet,Pm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Uc=new WeakSet,km=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},k(ct,Uc),k(ct,Cg,0),k(ct,Ha,!1),k(ct,Ua),pn&&(C(ct,Ha,!0),_i.workerSrc||(_i.workerSrc="./pdf.worker.mjs")),ct._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(t,n);return n.origin===s.origin},ct._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let pc=ct;var hi,Es,Wc,Vc,fi,Wa,Od;class kO{constructor(e,t,n,s,a){k(this,Wa);k(this,hi,new Map);k(this,Es,new Map);k(this,Wc,new Map);k(this,Vc,new Map);k(this,fi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new lC,this.fontLoader=new PD({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Be(this,"annotationStorage",new _0)}getRenderingIntent(e,t=oo.ENABLE,n=null,s=!1,a=!1){let l=rr.DISPLAY,c=eb;switch(e){case"any":l=rr.ANY;break;case"display":break;case"print":l=rr.PRINT;break;default:Oe(`getRenderingIntent - invalid intent: ${e}`)}const h=l&rr.PRINT&&n instanceof $_?n:this.annotationStorage;switch(t){case oo.DISABLE:l+=rr.ANNOTATIONS_DISABLE;break;case oo.ENABLE:break;case oo.ENABLE_FORMS:l+=rr.ANNOTATIONS_FORMS;break;case oo.ENABLE_STORAGE:l+=rr.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Oe(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=rr.IS_EDITING),a&&(l+=rr.OPLIST);const{ids:f,hash:p}=h.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=u(this,fi))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of u(this,Es).values())e.push(s._destroy());u(this,Es).clear(),u(this,Wc).clear(),u(this,Vc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,a;this.commonObjs.clear(),this.fontLoader.clear(),u(this,hi).clear(),this.filterFactory.destroy(),qd.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new zo("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Rt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){s.close();return}Rt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:l}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{Rt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){s.close();return}Rt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{a.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new TO(n,this))}),e.on("DocException",n=>{t._capability.reject(Dn(n))}),e.on("PasswordRequest",n=>{C(this,fi,Promise.withResolvers());try{if(!t.onPassword)throw Dn(n);const s=a=>{a instanceof Error?u(this,fi).reject(a):u(this,fi).resolve({password:a})};t.onPassword(s,n.code)}catch(s){u(this,fi).reject(s)}return u(this,fi).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;u(this,Es).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:f}=this._params;if("error"in a){const w=a.error;Oe(`Error during font loading: ${w}`),this.commonObjs.resolve(n,w);break}const p=f&&((l=globalThis.FontInspector)!=null&&l.enabled)?(w,b)=>globalThis.FontInspector.fontAdded(w,b):null,g=new kD(a,{disableFontFace:c,fontExtraProperties:h,inspectFont:p});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:v}=a;Rt(v,"The imageRef must be defined.");for(const w of u(this,Es).values())for(const[,b]of w.objs)if((b==null?void 0:b.ref)===v)return b.dataLen?(this.commonObjs.resolve(n,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,a,l])=>{var h;if(this.destroyed)return;const c=u(this,Es).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>iD&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=u(this,Wc).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&u(this,Vc).set(a.refStr,e);const l=new RO(t,a,this,this._params.pdfBug);return u(this,Es).set(t,l),l});return u(this,Wc).set(t,s),s}getPageIndex(e){return HE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return M(this,Wa,Od).call(this,"GetFieldObjects")}hasJSActions(){return M(this,Wa,Od).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,Wa,Od).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,Wa,Od).call(this,"GetOptionalContentConfig").then(t=>new JD(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,hi).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var a,l;return{info:s[0],metadata:s[1]?new qD(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return u(this,hi).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Es).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,hi).clear(),this.filterFactory.destroy(!0),qd.cleanup()}}cachedPageNumber(e){if(!HE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Vc).get(t)??null}}hi=new WeakMap,Es=new WeakMap,Wc=new WeakMap,Vc=new WeakMap,fi=new WeakMap,Wa=new WeakSet,Od=function(e,t=null){const n=u(this,hi).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return u(this,hi).set(e,s),s};const Ed=Symbol("INITIAL_DATA");var Kn,Gh,hb;class lC{constructor(){k(this,Gh);k(this,Kn,Object.create(null))}get(e,t=null){if(t){const s=M(this,Gh,hb).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=u(this,Kn)[e];if(!n||n.data===Ed)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=u(this,Kn)[e];return!!t&&t.data!==Ed}delete(e){const t=u(this,Kn)[e];return!t||t.data===Ed?!1:(delete u(this,Kn)[e],!0)}resolve(e,t=null){const n=M(this,Gh,hb).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in u(this,Kn)){const{data:n}=u(this,Kn)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}C(this,Kn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Kn)){const{data:t}=u(this,Kn)[e];t!==Ed&&(yield[e,t])}}}Kn=new WeakMap,Gh=new WeakSet,hb=function(e){var t;return(t=u(this,Kn))[e]||(t[e]={...Promise.withResolvers(),data:Ed})};var _o;class MO{constructor(e){k(this,_o,null);C(this,_o,e),this.onContinue=null}get promise(){return u(this,_o).capability.promise}cancel(e=0){u(this,_o).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,_o).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,_o);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}_o=new WeakMap;var Co,Va;const ha=class ha{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:v=null}){k(this,Co,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,h;if(this.cancelled)return;if(this._canvas){if(u(ha,Va).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ha,Va).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:a,background:l}=this.params;this.gfx=new fc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),u(this,Co)&&(window.cancelAnimationFrame(u(this,Co)),C(this,Co,null)),u(ha,Va).delete(this._canvas),this.callback(e||new x0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,Co,window.requestAnimationFrame(()=>{C(this,Co,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ha,Va).delete(this._canvas),this.callback())))}};Co=new WeakMap,Va=new WeakMap,k(ha,Va,new WeakSet);let fb=ha;const NO="4.10.38",IO="f9bea397f";function UE(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function _d(i){return Math.max(0,Math.min(255,255*i))}class WE{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_d(e),[e,e,e]}static G_HTML([e]){const t=UE(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(_d)}static RGB_HTML(e){return`#${e.map(UE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[_d(1-Math.min(1,e+s)),_d(1-Math.min(1,n+s)),_d(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,a=1-t,l=1-n,c=Math.min(s,a,l);return["CMYK",s,a,l,c]}}class LO{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){et("Abstract method `_createSVG` called.")}}class T0 extends LO{_createSVG(e){return document.createElementNS(Ys,e)}}class cC{static setupStorage(e,t,n,s,a){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const h=c.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:a}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,f]of Object.entries(l))if(f!=null)switch(h){case"class":f.length&&e.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!c||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,f)}c&&a.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var g,v;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,a=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:a,linkService:n});const c=a!=="richText",h=e.div;if(h.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=w}c&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);l.append(w),c&&Qd.shouldBuildText(s.name)&&f.push(w)}return{textDivs:f}}const p=[[s,-1,l]];for(;p.length>0;){const[w,b,x]=p.at(-1);if(b+1===w.children.length){p.pop();continue}const E=w.children[++p.at(-1)[1]];if(E===null)continue;const{name:_}=E;if(_==="#text"){const N=document.createTextNode(E.value);f.push(N),x.append(N);continue}const R=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,_):document.createElement(_);if(x.append(R),E.attributes&&this.setAttributes({html:R,element:E,storage:t,intent:a,linkService:n}),((v=E.children)==null?void 0:v.length)>0)p.push([E,-1,R]);else if(E.value){const N=document.createTextNode(E.value);c&&Qd.shouldBuildText(_)&&f.push(N),R.append(N)}}for(const w of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ff=1e3,DO=9,bl=new WeakSet;function jo(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class OO{static create(e){switch(e.data.annotationType){case Nt.LINK:return new uC(e);case Nt.TEXT:return new FO(e);case Nt.WIDGET:switch(e.data.fieldType){case"Tx":return new jO(e);case"Btn":return e.data.radioButton?new fC(e):e.data.checkBox?new zO(e):new BO(e);case"Ch":return new HO(e);case"Sig":return new $O(e)}return new El(e);case Nt.POPUP:return new mb(e);case Nt.FREETEXT:return new yC(e);case Nt.LINE:return new WO(e);case Nt.SQUARE:return new VO(e);case Nt.CIRCLE:return new GO(e);case Nt.POLYLINE:return new wC(e);case Nt.CARET:return new KO(e);case Nt.INK:return new R0(e);case Nt.POLYGON:return new XO(e);case Nt.HIGHLIGHT:return new bC(e);case Nt.UNDERLINE:return new YO(e);case Nt.SQUIGGLY:return new qO(e);case Nt.STRIKEOUT:return new QO(e);case Nt.STAMP:return new xC(e);case Nt.FILEATTACHMENT:return new JO(e);default:return new _t(e)}}}var Ga,Gc,Xc,Xh,pb;const hx=class hx{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){k(this,Xh);k(this,Ga,null);k(this,Gc,!1);k(this,Xc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hx._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;u(this,Ga)||C(this,Ga,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&M(this,Xh,pb).call(this,t),(n=u(this,Xc))==null||n.popup.updateEdited(e)}resetEdited(){var e;u(this,Ga)&&(M(this,Xh,pb).call(this,u(this,Ga).rect),(e=u(this,Xc))==null||e.popup.resetEdited(),C(this,Ga,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof El||(a.tabIndex=Ff);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof mb){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:h}=jo(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(x>0||E>0){const R=`calc(${x}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;l.borderRadius=R}else if(this instanceof fC){const R=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case Ad.SOLID:l.borderStyle="solid";break;case Ad.DASHED:l.borderStyle="dashed";break;case Ad.BEVELED:Oe("Unimplemented border style: beveled");break;case Ad.INSET:Oe("Unimplemented border style: inset");break;case Ad.UNDERLINE:l.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(C(this,Gc,!0),l.borderColor=Ae.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):l.borderWidth=0}const f=Ae.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:v,pageY:w}=s.rawDims;l.left=`${100*(f[0]-v)/p}%`,l.top=`${100*(f[1]-w)/g}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(l.width=`${100*c/p}%`,l.height=`${100*h/g}%`):this.setRotation(b,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:l}=jo(this.data.rect);let c,h;e%180===0?(c=100*a/n,h=100*l/s):(c=100*l/n,h=100*a/s),t.style.width=`${c}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const a=s.detail[t],l=a[0],c=a.slice(1);s.target.style[n]=WE[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:WE[`${l}_rgb`](c)})};return Be(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const a=e[s]||n[s];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,a]of Object.entries(t)){const l=n[s];if(l){const c={detail:{[s]:a},target:e};l(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,E,_,R]=e.subarray(2,6);if(s===x&&a===E&&t===_&&n===R)return}const{style:l}=this.container;let c;if(u(this,Gc)){const{borderColor:x,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const h=s-t,f=a-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const v=p.createElement("defs");g.append(v);const w=p.createElement("clipPath"),b=`clippath_${this.data.id}`;w.setAttribute("id",b),w.setAttribute("clipPathUnits","objectBoundingBox"),v.append(w);for(let x=2,E=e.length;x<E;x+=8){const _=e[x],R=e[x+1],N=e[x+2],I=e[x+3],D=p.createElement("rect"),z=(N-t)/h,O=(a-R)/f,W=(_-N)/h,Y=(R-I)/f;D.setAttribute("x",z),D.setAttribute("y",O),D.setAttribute("width",W),D.setAttribute("height",Y),w.append(D),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${z}" y="${O}" width="${W}" height="${Y}"/>`)}u(this,Gc)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=C(this,Xc,new mb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:a,id:l,exportValues:c}of s){if(a===-1||l===t)continue;const h=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!bl.has(f)){Oe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:a}=s,l=s.getAttribute("data-element-id");l!==t&&bl.has(s)&&n.push({id:l,exportValue:a,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ga=new WeakMap,Gc=new WeakMap,Xc=new WeakMap,Xh=new WeakSet,pb=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...e);const{width:f,height:p}=jo(e);t.left=`${100*(e[0]-c)/a}%`,t.top=`${100*(l-e[3]+h)/l}%`,s===0?(t.width=`${100*f/a}%`,t.height=`${100*p/l}%`):this.setRotation(s)};let _t=hx;var ir,la,dC,hC;class uC extends _t{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});k(this,ir);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(M(this,ir,dC).call(this,s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(M(this,ir,hC).call(this,s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&M(this,ir,la).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),M(this,ir,la).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=s.get(a);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}t.onclick||(t.onclick=()=>!1),M(this,ir,la).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),M(this,ir,la).call(this),!this._fieldObjects){Oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var g;s==null||s();const{fields:a,refs:l,include:c}=n,h=[];if(a.length!==0||l.length!==0){const v=new Set(l);for(const w of a){const b=this._fieldObjects[w]||[];for(const{id:x}of b)v.add(x)}for(const w of Object.values(this._fieldObjects))for(const b of w)v.has(b.id)===c&&h.push(b)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const f=this.annotationStorage,p=[];for(const v of h){const{id:w}=v;switch(p.push(w),v.type){case"text":{const x=v.defaultValue||"";f.setValue(w,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;f.setValue(w,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";f.setValue(w,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${w}"]`);if(b){if(!bl.has(b)){Oe(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}ir=new WeakSet,la=function(){this.container.setAttribute("data-internal-link","")},dC=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},M(this,ir,la).call(this)},hC=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),M(this,ir,la).call(this)};class FO extends _t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class El extends _t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return En.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,a){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(l)}}))})}_setEventListeners(e,t,n,s){var a,l,c;for(const[h,f]of n)(f==="Action"||(a=this.data.actions)!=null&&a[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,f,s),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ae.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||DO,a=e.style;let l;const c=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/(iw*s))||1,g=f/p;l=Math.min(s,h(g/iw))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(f/iw))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=Ae.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class jO extends El{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),a.setValue(l.id,{[s]:n})}render(){var s,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let f=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",f??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),bl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Ff,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",v=>{const w=this.data.defaultFieldValue??"";n.value=p.userValue=w,p.formattedValue=null});let g=v=>{const{formattedValue:w}=p;w!=null&&(v.target.value=w),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var x;if(p.focused)return;const{target:b}=w;p.userValue&&(b.value=p.userValue),p.lastCommittedValue=b.value,p.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const b={value(x){p.userValue=x.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),x.target.value=p.userValue},formattedValue(x){const{formattedValue:E}=x.detail;p.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E),e.setValue(t,{formattedValue:E})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var N;const{charLimit:E}=x.detail,{target:_}=x;if(E===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",E);let R=p.userValue;!R||R.length<=E||(R=R.slice(0,E),_.value=p.userValue=R,e.setValue(t,{value:R}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,w)}),n.addEventListener("keydown",w=>{var E;p.commitKey=1;let b=-1;if(w.key==="Escape"?b=0:w.key==="Enter"&&!this.data.multiLine?b=2:w.key==="Tab"&&(p.commitKey=3),b===-1)return;const{value:x}=w.target;p.lastCommittedValue!==x&&(p.lastCommittedValue=x,p.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const v=g;g=null,n.addEventListener("blur",w=>{var x,E;if(!p.focused||!w.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(p.focused=!1);const{value:b}=w.target;p.userValue=b,p.lastCommittedValue!==b&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:p.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),v(w)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",w=>{var D;p.lastCommittedValue=null;const{data:b,target:x}=w,{value:E,selectionStart:_,selectionEnd:R}=x;let N=_,I=R;switch(w.inputType){case"deleteWordBackward":{const z=E.substring(0,_).match(/\w*[^\w]*$/);z&&(N-=z[0].length);break}case"deleteWordForward":{const z=E.substring(_).match(/^[^\w]*\w*/);z&&(I+=z[0].length);break}case"deleteContentBackward":_===R&&(N-=1);break;case"deleteContentForward":_===R&&(I+=1);break}w.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:N,selEnd:I}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class $O extends El{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class zO extends El{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return bl.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=Ff,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n)){const p=h&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class fC extends El{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(bl.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=Ff,a.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const f of this._getElementsByName(c,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:h})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",c=>{const h={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const v=p&&g.id===n;g.domElement&&(g.domElement.checked=v),e.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class BO extends uC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class HO extends El{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");bl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Ff;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const v of s.options)v.selected=v.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),a=!1),s.append(g)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:v,multiple:w}=s;return w?Array.prototype.filter.call(v,b=>b.selected).map(b=>b[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let h=c(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(v){l==null||l();const w=v.detail.value,b=new Set(Array.isArray(w)?w:[w]);for(const x of s.options)x.selected=b.has(x.value);e.setValue(t,{value:c(!0)}),h=c(!1)},multipleSelection(v){s.multiple=!0},remove(v){const w=s.options,b=v.detail.remove;w[b].selected=!1,s.remove(b),w.length>0&&Array.prototype.findIndex.call(w,E=>E.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},clear(v){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),h=c(!1)},insert(v){const{index:w,displayValue:b,exportValue:x}=v.detail.insert,E=s.children[w],_=document.createElement("option");_.textContent=b,_.value=x,E?E.before(_):s.append(_),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},items(v){const{items:w}=v.detail;for(;s.length!==0;)s.remove(0);for(const b of w){const{displayValue:x,exportValue:E}=b,_=document.createElement("option");_.textContent=x,_.value=E,s.append(_)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:f(v)}),h=c(!1)},indices(v){const w=new Set(v.detail.indices);for(const b of v.target.options)b.selected=w.has(b.index);e.setValue(t,{value:c(!0)}),h=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{var w;const g=c(!0),v=c(!1);e.setValue(t,{value:g}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class mb extends _t{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:_t._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new UO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${b0}${n}`).join(",")),this.container}}var Kc,Tg,Rg,Yc,Xa,wt,pi,qc,Kh,Yh,Qc,mi,Ur,gi,qh,vi,Qh,Ka,Ya,Ze,Mm,gb,pC,mC,gC,vC,Nm,Im,vb;class UO{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:a,contentsObj:l,richText:c,parent:h,rect:f,parentRect:p,open:g}){k(this,Ze);k(this,Kc,M(this,Ze,gC).bind(this));k(this,Tg,M(this,Ze,vb).bind(this));k(this,Rg,M(this,Ze,Im).bind(this));k(this,Yc,M(this,Ze,Nm).bind(this));k(this,Xa,null);k(this,wt,null);k(this,pi,null);k(this,qc,null);k(this,Kh,null);k(this,Yh,null);k(this,Qc,null);k(this,mi,!1);k(this,Ur,null);k(this,gi,null);k(this,qh,null);k(this,vi,null);k(this,Qh,null);k(this,Ka,null);k(this,Ya,!1);var v;C(this,wt,e),C(this,Qh,s),C(this,pi,l),C(this,vi,c),C(this,Yh,h),C(this,Xa,t),C(this,qh,f),C(this,Qc,p),C(this,Kh,n),C(this,qc,S0.toDateObject(a)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",u(this,Yc)),w.addEventListener("mouseenter",u(this,Rg)),w.addEventListener("mouseleave",u(this,Tg)),w.classList.add("popupTriggerArea");for(const w of n)(v=w.container)==null||v.addEventListener("keydown",u(this,Kc));u(this,wt).hidden=!0,g&&M(this,Ze,Nm).call(this)}render(){if(u(this,Ur))return;const e=C(this,Ur,document.createElement("div"));if(e.className="popup",u(this,Xa)){const a=e.style.outlineColor=Ae.makeHexColor(...u(this,Xa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Ae.makeHexColor(...u(this,Xa).map(c=>Math.floor(.7*(255-c)+c)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=u(this,Qh),e.append(t),u(this,qc)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,qc).valueOf()})),t.append(a)}const s=u(this,Ze,Mm);if(s)cC.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(u(this,pi));e.append(a)}u(this,wt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let a=0,l=s.length;a<l;++a){const c=s[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;u(this,Ka)||C(this,Ka,{contentsObj:u(this,pi),richText:u(this,vi)}),e&&C(this,gi,null),t&&(C(this,vi,M(this,Ze,mC).call(this,t)),C(this,pi,null)),(n=u(this,Ur))==null||n.remove(),C(this,Ur,null)}resetEdited(){var e;u(this,Ka)&&({contentsObj:vn(this,pi)._,richText:vn(this,vi)._}=u(this,Ka),C(this,Ka,null),(e=u(this,Ur))==null||e.remove(),C(this,Ur,null),C(this,gi,null))}forceHide(){C(this,Ya,this.isVisible),u(this,Ya)&&(u(this,wt).hidden=!0)}maybeShow(){u(this,Ya)&&(u(this,Ur)||M(this,Ze,Im).call(this),C(this,Ya,!1),u(this,wt).hidden=!1)}get isVisible(){return u(this,wt).hidden===!1}}Kc=new WeakMap,Tg=new WeakMap,Rg=new WeakMap,Yc=new WeakMap,Xa=new WeakMap,wt=new WeakMap,pi=new WeakMap,qc=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Qc=new WeakMap,mi=new WeakMap,Ur=new WeakMap,gi=new WeakMap,qh=new WeakMap,vi=new WeakMap,Qh=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Ze=new WeakSet,Mm=function(){const e=u(this,vi),t=u(this,pi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,vi).html||null},gb=function(){var e,t,n;return((n=(t=(e=u(this,Ze,Mm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},pC=function(){var e,t,n;return((n=(t=(e=u(this,Ze,Mm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},mC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:u(this,Ze,pC),fontSize:u(this,Ze,gb)?`calc(${u(this,Ze,gb)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:s});return n},gC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,mi))&&M(this,Ze,Nm).call(this)},vC=function(){if(u(this,gi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:a}}}=u(this,Yh);let l=!!u(this,Qc),c=l?u(this,Qc):u(this,qh);for(const b of u(this,Kh))if(!c||Ae.intersect(b.data.rect,c)!==null){c=b.data.rect,l=!0;break}const h=Ae.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),p=l?c[2]-c[0]+5:0,g=h[0]+p,v=h[1];C(this,gi,[100*(g-s)/t,100*(v-a)/n]);const{style:w}=u(this,wt);w.left=`${u(this,gi)[0]}%`,w.top=`${u(this,gi)[1]}%`},Nm=function(){C(this,mi,!u(this,mi)),u(this,mi)?(M(this,Ze,Im).call(this),u(this,wt).addEventListener("click",u(this,Yc)),u(this,wt).addEventListener("keydown",u(this,Kc))):(M(this,Ze,vb).call(this),u(this,wt).removeEventListener("click",u(this,Yc)),u(this,wt).removeEventListener("keydown",u(this,Kc)))},Im=function(){u(this,Ur)||this.render(),this.isVisible?u(this,mi)&&u(this,wt).classList.add("focused"):(M(this,Ze,vC).call(this),u(this,wt).hidden=!1,u(this,wt).style.zIndex=parseInt(u(this,wt).style.zIndex)+1e3)},vb=function(){u(this,wt).classList.remove("focused"),!(u(this,mi)||!this.isVisible)&&(u(this,wt).hidden=!0,u(this,wt).style.zIndex=parseInt(u(this,wt).style.zIndex)-1e3)};class yC extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=De.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jh;class WO extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Jh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=jo(t.rect),a=this.svgFactory.create(n,s,!0),l=C(this,Jh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jh=new WeakMap;var Zh;class VO extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,Zh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=jo(t.rect),a=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=C(this,Zh,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zh=new WeakMap;var ef;class GO extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,ef,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=jo(t.rect),a=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=C(this,ef,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ef)}addHighlightArea(){this.container.classList.add("highlightArea")}}ef=new WeakMap;var tf;class wC extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,tf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=jo(t),h=this.svgFactory.create(l,c,!0);let f=[];for(let g=0,v=n.length;g<v;g+=2){const w=n[g]-t[0],b=t[3]-n[g+1];f.push(`${w},${b}`)}f=f.join(" ");const p=C(this,tf,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",f),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}tf=new WeakMap;class XO extends wC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class KO extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var nf,qa,rf,yb;class R0 extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});k(this,rf);k(this,nf,null);k(this,qa,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?De.HIGHLIGHT:De.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:s,borderStyle:a,popupRef:l}}=this,{transform:c,width:h,height:f}=M(this,rf,yb).call(this,n,t),p=this.svgFactory.create(h,f,!0),g=C(this,nf,this.svgFactory.createElement("svg:g"));p.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",c);for(let v=0,w=s.length;v<w;v++){const b=this.svgFactory.createElement(this.svgElementName);u(this,qa).push(b),b.setAttribute("points",s[v].join(",")),g.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:s,rect:a}=t,l=u(this,nf);if(n>=0&&l.setAttribute("stroke-width",n||1),s)for(let c=0,h=u(this,qa).length;c<h;c++)u(this,qa)[c].setAttribute("points",s[c].join(","));if(a){const{transform:c,width:h,height:f}=M(this,rf,yb).call(this,this.data.rotation,a);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${f}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return u(this,qa)}addHighlightArea(){this.container.classList.add("highlightArea")}}nf=new WeakMap,qa=new WeakMap,rf=new WeakSet,yb=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class bC extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=De.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class YO extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class qO extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class QO extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xC extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=De.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sf,of,wb;class JO extends _t{constructor(t){var s;super(t,{isRenderable:!0});k(this,of);k(this,sf,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",M(this,of,wb).bind(this)),C(this,sf,s);const{isMac:a}=En.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&M(this,of,wb).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return u(this,sf)}addHighlightArea(){this.container.classList.add("highlightArea")}}sf=new WeakMap,of=new WeakSet,wb=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var af,Qa,Ja,lf,Sl,AC,bb;class ZO{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:a,viewport:l,structTreeLayer:c}){k(this,Sl);k(this,af,null);k(this,Qa,null);k(this,Ja,new Map);k(this,lf,null);this.div=e,C(this,af,t),C(this,Qa,n),C(this,lf,c||null),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return u(this,Ja).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;yl(n,this.viewport);const s=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new T0,annotationStorage:e.annotationStorage||new _0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const h=c.annotationType===Nt.POPUP;if(h){const g=s.get(c.id);if(!g)continue;a.elements=g}else{const{width:g,height:v}=jo(c.rect);if(g<=0||v<=0)continue}a.data=c;const f=OO.create(a);if(!f.isRenderable)continue;if(!h&&c.popupRef){const g=s.get(c.popupRef);g?g.push(f):s.set(c.popupRef,[f])}const p=f.render();c.hidden&&(p.style.visibility="hidden"),await M(this,Sl,AC).call(this,p,c.id),f._isEditable&&(u(this,Ja).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}M(this,Sl,bb).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,yl(t,{rotation:e.rotation}),M(this,Sl,bb).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Ja).values())}getEditableAnnotation(e){return u(this,Ja).get(e)}}af=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,lf=new WeakMap,Sl=new WeakSet,AC=async function(e,t){var l,c;const n=e.firstChild||e,s=n.id=`${b0}${t}`,a=await((l=u(this,lf))==null?void 0:l.getAriaAttributes(s));if(a)for(const[h,f]of a)n.setAttribute(h,f);this.div.append(e),(c=u(this,af))==null||c.moveElementInDOM(this.div,e,n,!1)},bb=function(){if(!u(this,Qa))return;const e=this.div;for(const[t,n]of u(this,Qa)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):s.append(n)}u(this,Qa).clear()};const im=/\r\n?|\n/g;var Wr,Yn,cf,Za,qn,Pt,SC,EC,_C,Lm,Ri,Dm,Om,CC,Ab,TC;const nt=class nt extends gt{constructor(t){super({...t,name:"freeTextEditor"});k(this,Pt);k(this,Wr);k(this,Yn,"");k(this,cf,`${this.id}-editor`);k(this,Za,null);k(this,qn);C(this,Wr,t.color||nt._defaultColor||gt._defaultLineColor),C(this,qn,t.fontSize||nt._defaultFontSize)}static get _keyboardManager(){const t=nt.prototype,n=l=>l.isEmpty(),s=wl.TRANSLATE_SMALL,a=wl.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Of([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){gt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case He.FREETEXT_SIZE:nt._defaultFontSize=n;break;case He.FREETEXT_COLOR:nt._defaultColor=n;break}}updateParams(t,n){switch(t){case He.FREETEXT_SIZE:M(this,Pt,SC).call(this,n);break;case He.FREETEXT_COLOR:M(this,Pt,EC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.FREETEXT_SIZE,nt._defaultFontSize],[He.FREETEXT_COLOR,nt._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[He.FREETEXT_SIZE,u(this,qn)],[He.FREETEXT_COLOR,u(this,Wr)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+u(this,qn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(De.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Za,new AbortController);const t=this._uiManager.combinedSignal(u(this,Za));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,cf)),this._isDraggable=!0,(t=u(this,Za))==null||t.abort(),C(this,Za,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,Yn),n=C(this,Yn,M(this,Pt,_C).call(this).trimEnd());if(t===n)return;const s=a=>{if(C(this,Yn,a),!a){this.remove();return}M(this,Pt,Om).call(this),this._uiManager.rebuild(this),M(this,Pt,Lm).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),M(this,Pt,Lm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,cf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${u(this,qn)}px * var(--scale-factor))`,s.color=u(this,Wr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),eg(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,f]=this.getInitialTranslation();[h,f]=this.pageTranslationToScreen(h,f);const[p,g]=this.pageDimensions,[v,w]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(c[0]-v)/p,x=n+this.height-(c[1]-w)/g;break;case 90:b=t+(c[0]-v)/p,x=n-(c[1]-w)/g,[h,f]=[f,-h];break;case 180:b=t-this.width+(c[0]-v)/p,x=n-(c[1]-w)/g,[h,f]=[-h,-f];break;case 270:b=t+(c[0]-v-this.height*g)/p,x=n+(c[1]-w-this.width*p)/g,[h,f]=[-f,h];break}this.setAt(b*a,x*l,h,f)}else this.setAt(t*a,n*l,this.width*a,this.height*l);M(this,Pt,Om).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,x,E;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=M(b=nt,Ri,Ab).call(b,n.getData("text")||"").replaceAll(im,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:f}=c,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const _=h.parentElement;if(g.push(h.nodeValue.slice(f).replaceAll(im,"")),_!==this.editorDiv){let R=p;for(const N of this.editorDiv.childNodes){if(N===_){R=g;continue}R.push(M(x=nt,Ri,Dm).call(x,N))}}p.push(h.nodeValue.slice(0,f).replaceAll(im,""))}else if(h===this.editorDiv){let _=p,R=0;for(const N of this.editorDiv.childNodes)R++===f&&(_=g),_.push(M(E=nt,Ri,Dm).call(E,N))}C(this,Yn,`${p.join(`
`)}${a}${g.join(`
`)}`),M(this,Pt,Om).call(this);const v=new Range;let w=p.reduce((_,R)=>_+R.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const R=_.nodeValue.length;if(w<=R){v.setStart(_,w),v.setEnd(_,w);break}w-=R}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var c;let a=null;if(t instanceof yC){const{data:{defaultAppearanceData:{fontSize:h,fontColor:f},rect:p,rotation:g,id:v,popupRef:w},textContent:b,textPosition:x,parent:{page:{pageNumber:E}}}=t;if(!b||b.length===0)return null;a=t={annotationType:De.FREETEXT,color:Array.from(f),fontSize:h,value:b.join(`
`),position:x,pageIndex:E-1,rect:p.slice(0),rotation:g,id:v,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,s);return C(l,qn,t.fontSize),C(l,Wr,Ae.makeHexColor(...t.color)),C(l,Yn,M(c=nt,Ri,Ab).call(c,t.value)),l.annotationElementId=t.id||null,l._initialData=a,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=nt._internalPadding*this.parentScale,s=this.getRect(n,n),a=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Wr)),l={annotationType:De.FREETEXT,color:a,fontSize:u(this,qn),value:M(this,Pt,CC).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!M(this,Pt,TC).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${u(this,qn)}px * var(--scale-factor))`,s.color=u(this,Wr),n.replaceChildren();for(const l of u(this,Yn).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=nt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:u(this,Yn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Wr=new WeakMap,Yn=new WeakMap,cf=new WeakMap,Za=new WeakMap,qn=new WeakMap,Pt=new WeakSet,SC=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-u(this,qn))*this.parentScale),C(this,qn,a),M(this,Pt,Lm).call(this)},s=u(this,qn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},EC=function(t){const n=a=>{C(this,Wr,this.editorDiv.style.color=a)},s=u(this,Wr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_C=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(M(s=nt,Ri,Dm).call(s,a)),n=a);return t.join(`
`)},Lm=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},Ri=new WeakSet,Dm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(im,"")},Om=function(){if(this.editorDiv.replaceChildren(),!!u(this,Yn))for(const t of u(this,Yn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},CC=function(){return u(this,Yn).replaceAll(" "," ")},Ab=function(t){return t.replaceAll(" "," ")},TC=function(t){const{value:n,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((c,h)=>c!==a[h])||t.pageIndex!==l},k(nt,Ri),Te(nt,"_freeTextDefaultContent",""),Te(nt,"_internalPadding",0),Te(nt,"_defaultColor",null),Te(nt,"_defaultFontSize",10),Te(nt,"_type","freetext"),Te(nt,"_editorType",De.FREETEXT);let xb=nt;class he{toSVGPath(){et("Abstract method `toSVGPath` must be implemented.")}get box(){et("Abstract getter `box` must be implemented.")}serialize(e,t){et("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,s,a,l){l||(l=new Float32Array(e.length));for(let c=0,h=e.length;c<h;c+=2)l[c]=t+e[c]*s,l[c+1]=n+e[c+1]*a;return l}static _rescaleAndSwap(e,t,n,s,a,l){l||(l=new Float32Array(e.length));for(let c=0,h=e.length;c<h;c+=2)l[c]=t+e[c+1]*s,l[c+1]=n+e[c]*a;return l}static _translate(e,t,n,s){s||(s=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a],s[a+1]=n+e[a+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,s,a){switch(a){case 90:return[1-t/n,e/s];case 180:return[1-e/n,1-t/s];case 270:return[t/n,1-e/s];default:return[e/n,t/s]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,s,a,l){return[(e+5*n)/6,(t+5*s)/6,(5*n+a)/6,(5*s+l)/6,(n+a)/2,(s+l)/2]}}Te(he,"PRECISION",1e-4);var Qn,Vr,Jc,Zc,_s,ze,el,tl,uf,df,eu,tu,To,hf,Pg,kg,Ot,Fd,RC,PC,kC,MC,NC,IC;const Zs=class Zs{constructor({x:e,y:t},n,s,a,l,c=0){k(this,Ot);k(this,Qn);k(this,Vr,[]);k(this,Jc);k(this,Zc);k(this,_s,[]);k(this,ze,new Float32Array(18));k(this,el);k(this,tl);k(this,uf);k(this,df);k(this,eu);k(this,tu);k(this,To,[]);C(this,Qn,n),C(this,tu,a*s),C(this,Zc,l),u(this,ze).set([NaN,NaN,NaN,NaN,e,t],6),C(this,Jc,c),C(this,df,u(Zs,hf)*s),C(this,uf,u(Zs,kg)*s),C(this,eu,s),u(this,To).push(e,t)}isEmpty(){return isNaN(u(this,ze)[8])}add({x:e,y:t}){var Y;C(this,el,e),C(this,tl,t);const[n,s,a,l]=u(this,Qn);let[c,h,f,p]=u(this,ze).subarray(8,12);const g=e-f,v=t-p,w=Math.hypot(g,v);if(w<u(this,uf))return!1;const b=w-u(this,df),x=b/w,E=x*g,_=x*v;let R=c,N=h;c=f,h=p,f+=E,p+=_,(Y=u(this,To))==null||Y.push(e,t);const I=-_/b,D=E/b,z=I*u(this,tu),O=D*u(this,tu);return u(this,ze).set(u(this,ze).subarray(2,8),0),u(this,ze).set([f+z,p+O],4),u(this,ze).set(u(this,ze).subarray(14,18),12),u(this,ze).set([f-z,p-O],16),isNaN(u(this,ze)[6])?(u(this,_s).length===0&&(u(this,ze).set([c+z,h+O],2),u(this,_s).push(NaN,NaN,NaN,NaN,(c+z-n)/a,(h+O-s)/l),u(this,ze).set([c-z,h-O],14),u(this,Vr).push(NaN,NaN,NaN,NaN,(c-z-n)/a,(h-O-s)/l)),u(this,ze).set([R,N,c,h,f,p],6),!this.isEmpty()):(u(this,ze).set([R,N,c,h,f,p],6),Math.abs(Math.atan2(N-h,R-c)-Math.atan2(_,E))<Math.PI/2?([c,h,f,p]=u(this,ze).subarray(2,6),u(this,_s).push(NaN,NaN,NaN,NaN,((c+f)/2-n)/a,((h+p)/2-s)/l),[c,h,R,N]=u(this,ze).subarray(14,18),u(this,Vr).push(NaN,NaN,NaN,NaN,((R+c)/2-n)/a,((N+h)/2-s)/l),!0):([R,N,c,h,f,p]=u(this,ze).subarray(0,6),u(this,_s).push(((R+5*c)/6-n)/a,((N+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+p)/6-s)/l,((c+f)/2-n)/a,((h+p)/2-s)/l),[f,p,c,h,R,N]=u(this,ze).subarray(12,18),u(this,Vr).push(((R+5*c)/6-n)/a,((N+5*h)/6-s)/l,((5*c+f)/6-n)/a,((5*h+p)/6-s)/l,((c+f)/2-n)/a,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,_s),t=u(this,Vr);if(isNaN(u(this,ze)[6])&&!this.isEmpty())return M(this,Ot,RC).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);M(this,Ot,kC).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return M(this,Ot,PC).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,a,l){return new LC(e,t,n,s,a,l)}getOutlines(){var g;const e=u(this,_s),t=u(this,Vr),n=u(this,ze),[s,a,l,c]=u(this,Qn),h=new Float32Array((((g=u(this,To))==null?void 0:g.length)??0)+2);for(let v=0,w=h.length-2;v<w;v+=2)h[v]=(u(this,To)[v]-s)/l,h[v+1]=(u(this,To)[v+1]-a)/c;if(h[h.length-2]=(u(this,el)-s)/l,h[h.length-1]=(u(this,tl)-a)/c,isNaN(n[6])&&!this.isEmpty())return M(this,Ot,MC).call(this,h);const f=new Float32Array(u(this,_s).length+24+u(this,Vr).length);let p=e.length;for(let v=0;v<p;v+=2){if(isNaN(e[v])){f[v]=f[v+1]=NaN;continue}f[v]=e[v],f[v+1]=e[v+1]}p=M(this,Ot,IC).call(this,f,p);for(let v=t.length-6;v>=6;v-=6)for(let w=0;w<6;w+=2){if(isNaN(t[v+w])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[v+w],f[p+1]=t[v+w+1],p+=2}return M(this,Ot,NC).call(this,f,p),this.newFreeDrawOutline(f,h,u(this,Qn),u(this,eu),u(this,Jc),u(this,Zc))}};Qn=new WeakMap,Vr=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,_s=new WeakMap,ze=new WeakMap,el=new WeakMap,tl=new WeakMap,uf=new WeakMap,df=new WeakMap,eu=new WeakMap,tu=new WeakMap,To=new WeakMap,hf=new WeakMap,Pg=new WeakMap,kg=new WeakMap,Ot=new WeakSet,Fd=function(){const e=u(this,ze).subarray(4,6),t=u(this,ze).subarray(16,18),[n,s,a,l]=u(this,Qn);return[(u(this,el)+(e[0]-t[0])/2-n)/a,(u(this,tl)+(e[1]-t[1])/2-s)/l,(u(this,el)+(t[0]-e[0])/2-n)/a,(u(this,tl)+(t[1]-e[1])/2-s)/l]},RC=function(){const[e,t,n,s]=u(this,Qn),[a,l,c,h]=M(this,Ot,Fd).call(this);return`M${(u(this,ze)[2]-e)/n} ${(u(this,ze)[3]-t)/s} L${(u(this,ze)[4]-e)/n} ${(u(this,ze)[5]-t)/s} L${a} ${l} L${c} ${h} L${(u(this,ze)[16]-e)/n} ${(u(this,ze)[17]-t)/s} L${(u(this,ze)[14]-e)/n} ${(u(this,ze)[15]-t)/s} Z`},PC=function(e){const t=u(this,Vr);e.push(`L${t[4]} ${t[5]} Z`)},kC=function(e){const[t,n,s,a]=u(this,Qn),l=u(this,ze).subarray(4,6),c=u(this,ze).subarray(16,18),[h,f,p,g]=M(this,Ot,Fd).call(this);e.push(`L${(l[0]-t)/s} ${(l[1]-n)/a} L${h} ${f} L${p} ${g} L${(c[0]-t)/s} ${(c[1]-n)/a}`)},MC=function(e){const t=u(this,ze),[n,s,a,l]=u(this,Qn),[c,h,f,p]=M(this,Ot,Fd).call(this),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-s)/l],0),this.newFreeDrawOutline(g,e,u(this,Qn),u(this,eu),u(this,Jc),u(this,Zc))},NC=function(e,t){const n=u(this,Vr);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},IC=function(e,t){const n=u(this,ze).subarray(4,6),s=u(this,ze).subarray(16,18),[a,l,c,h]=u(this,Qn),[f,p,g,v]=M(this,Ot,Fd).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/h],t),t+=24},k(Zs,hf,8),k(Zs,Pg,2),k(Zs,kg,u(Zs,hf)+u(Zs,Pg));let rg=Zs;var nu,nl,yi,ff,Jn,pf,Et,Mg,DC;class LC extends he{constructor(t,n,s,a,l,c){super();k(this,Mg);k(this,nu);k(this,nl,new Float32Array(4));k(this,yi);k(this,ff);k(this,Jn);k(this,pf);k(this,Et);C(this,Et,t),C(this,Jn,n),C(this,nu,s),C(this,pf,a),C(this,yi,l),C(this,ff,c),this.lastPoint=[NaN,NaN],M(this,Mg,DC).call(this,c);const[h,f,p,g]=u(this,nl);for(let v=0,w=t.length;v<w;v+=2)t[v]=(t[v]-h)/p,t[v+1]=(t[v+1]-f)/g;for(let v=0,w=n.length;v<w;v+=2)n[v]=(n[v]-h)/p,n[v+1]=(n[v+1]-f)/g}toSVGPath(){const t=[`M${u(this,Et)[4]} ${u(this,Et)[5]}`];for(let n=6,s=u(this,Et).length;n<s;n+=6){if(isNaN(u(this,Et)[n])){t.push(`L${u(this,Et)[n+4]} ${u(this,Et)[n+5]}`);continue}t.push(`C${u(this,Et)[n]} ${u(this,Et)[n+1]} ${u(this,Et)[n+2]} ${u(this,Et)[n+3]} ${u(this,Et)[n+4]} ${u(this,Et)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,a],l){const c=s-t,h=a-n;let f,p;switch(l){case 0:f=he._rescale(u(this,Et),t,a,c,-h),p=he._rescale(u(this,Jn),t,a,c,-h);break;case 90:f=he._rescaleAndSwap(u(this,Et),t,n,c,h),p=he._rescaleAndSwap(u(this,Jn),t,n,c,h);break;case 180:f=he._rescale(u(this,Et),s,n,-c,h),p=he._rescale(u(this,Jn),s,n,-c,h);break;case 270:f=he._rescaleAndSwap(u(this,Et),s,a,-c,-h),p=he._rescaleAndSwap(u(this,Jn),s,a,-c,-h);break}return{outline:Array.from(f),points:[Array.from(p)]}}get box(){return u(this,nl)}newOutliner(t,n,s,a,l,c=0){return new rg(t,n,s,a,l,c)}getNewOutline(t,n){const[s,a,l,c]=u(this,nl),[h,f,p,g]=u(this,nu),v=l*p,w=c*g,b=s*p+h,x=a*g+f,E=this.newOutliner({x:u(this,Jn)[0]*v+b,y:u(this,Jn)[1]*w+x},u(this,nu),u(this,pf),t,u(this,ff),n??u(this,yi));for(let _=2;_<u(this,Jn).length;_+=2)E.add({x:u(this,Jn)[_]*v+b,y:u(this,Jn)[_+1]*w+x});return E.getOutlines()}}nu=new WeakMap,nl=new WeakMap,yi=new WeakMap,ff=new WeakMap,Jn=new WeakMap,pf=new WeakMap,Et=new WeakMap,Mg=new WeakSet,DC=function(t){const n=u(this,Et);let s=n[4],a=n[5],l=s,c=a,h=s,f=a,p=s,g=a;const v=t?Math.max:Math.min;for(let b=6,x=n.length;b<x;b+=6){if(isNaN(n[b]))l=Math.min(l,n[b+4]),c=Math.min(c,n[b+5]),h=Math.max(h,n[b+4]),f=Math.max(f,n[b+5]),g<n[b+5]?(p=n[b+4],g=n[b+5]):g===n[b+5]&&(p=v(p,n[b+4]));else{const E=Ae.bezierBoundingBox(s,a,...n.slice(b,b+6));l=Math.min(l,E[0]),c=Math.min(c,E[1]),h=Math.max(h,E[2]),f=Math.max(f,E[3]),g<E[3]?(p=E[2],g=E[3]):g===E[3]&&(p=v(p,E[2]))}s=n[b+4],a=n[b+5]}const w=u(this,nl);w[0]=l-u(this,yi),w[1]=c-u(this,yi),w[2]=h-l+2*u(this,yi),w[3]=f-c+2*u(this,yi),this.lastPoint=[p,g]};var mf,gf,Ro,Gr,Cn,OC,Fm,FC,jC,Eb;class Sb{constructor(e,t=0,n=0,s=!0){k(this,Cn);k(this,mf);k(this,gf);k(this,Ro,[]);k(this,Gr,[]);let a=1/0,l=-1/0,c=1/0,h=-1/0;const f=10**-4;for(const{x:E,y:_,width:R,height:N}of e){const I=Math.floor((E-t)/f)*f,D=Math.ceil((E+R+t)/f)*f,z=Math.floor((_-t)/f)*f,O=Math.ceil((_+N+t)/f)*f,W=[I,z,O,!0],Y=[D,z,O,!1];u(this,Ro).push(W,Y),a=Math.min(a,I),l=Math.max(l,D),c=Math.min(c,z),h=Math.max(h,O)}const p=l-a+2*n,g=h-c+2*n,v=a-n,w=c-n,b=u(this,Ro).at(s?-1:-2),x=[b[0],b[2]];for(const E of u(this,Ro)){const[_,R,N]=E;E[0]=(_-v)/p,E[1]=(R-w)/g,E[2]=(N-w)/g}C(this,mf,new Float32Array([v,w,p,g])),C(this,gf,x)}getOutlines(){u(this,Ro).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of u(this,Ro))t[3]?(e.push(...M(this,Cn,Eb).call(this,t)),M(this,Cn,FC).call(this,t)):(M(this,Cn,jC).call(this,t),e.push(...M(this,Cn,Eb).call(this,t)));return M(this,Cn,OC).call(this,e)}}mf=new WeakMap,gf=new WeakMap,Ro=new WeakMap,Gr=new WeakMap,Cn=new WeakSet,OC=function(e){const t=[],n=new Set;for(const l of e){const[c,h,f]=l;t.push([c,h,l],[c,f,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const h=t[l][2],f=t[l+1][2];h.push(f),f.push(h),n.add(h),n.add(f)}const s=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,h,f,p,g]=l;n.delete(l);let v=c,w=h;for(a=[c,f],s.push(a);;){let b;if(n.has(p))b=p;else if(n.has(g))b=g;else break;n.delete(b),[c,h,f,p,g]=b,v!==c&&(a.push(v,w,c,w===h?h:f),v=c),w=w===h?f:h}a.push(v,w)}return new e2(s,u(this,mf),u(this,gf))},Fm=function(e){const t=u(this,Gr);let n=0,s=t.length-1;for(;n<=s;){const a=n+s>>1,l=t[a][0];if(l===e)return a;l<e?n=a+1:s=a-1}return s+1},FC=function([,e,t]){const n=M(this,Cn,Fm).call(this,e);u(this,Gr).splice(n,0,[e,t])},jC=function([,e,t]){const n=M(this,Cn,Fm).call(this,e);for(let s=n;s<u(this,Gr).length;s++){const[a,l]=u(this,Gr)[s];if(a!==e)break;if(a===e&&l===t){u(this,Gr).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[a,l]=u(this,Gr)[s];if(a!==e)break;if(a===e&&l===t){u(this,Gr).splice(s,1);return}}},Eb=function(e){const[t,n,s]=e,a=[[t,n,s]],l=M(this,Cn,Fm).call(this,s);for(let c=0;c<l;c++){const[h,f]=u(this,Gr)[c];for(let p=0,g=a.length;p<g;p++){const[,v,w]=a[p];if(!(f<=v||w<=h)){if(v>=h){if(w>f)a[p][1]=f;else{if(g===1)return[];a.splice(p,1),p--,g--}continue}a[p][2]=h,w>f&&a.push([t,f,w])}}}return a};var vf,ru;class e2 extends he{constructor(t,n,s){super();k(this,vf);k(this,ru);C(this,ru,t),C(this,vf,n),this.lastPoint=s}toSVGPath(){const t=[];for(const n of u(this,ru)){let[s,a]=n;t.push(`M${s} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],h=n[l+1];c===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,n,s,a],l){const c=[],h=s-t,f=a-n;for(const p of u(this,ru)){const g=new Array(p.length);for(let v=0;v<p.length;v+=2)g[v]=t+p[v]*h,g[v+1]=a-p[v+1]*f;c.push(g)}return c}get box(){return u(this,vf)}get classNamesForOutlining(){return["highlightOutline"]}}vf=new WeakMap,ru=new WeakMap;class _b extends rg{newFreeDrawOutline(e,t,n,s,a,l){return new t2(e,t,n,s,a,l)}}class t2 extends LC{newOutliner(e,t,n,s,a,l=0){return new _b(e,t,n,s,a,l)}}var Xr,rl,su,Dt,yf,iu,wf,bf,Po,Kr,ou,xf,Je,Cb,Tb,Rb,ca,$C,no;const On=class On{constructor({editor:e=null,uiManager:t=null}){k(this,Je);k(this,Xr,null);k(this,rl,null);k(this,su);k(this,Dt,null);k(this,yf,!1);k(this,iu,!1);k(this,wf,null);k(this,bf);k(this,Po,null);k(this,Kr,null);k(this,ou);var n;e?(C(this,iu,!1),C(this,ou,He.HIGHLIGHT_COLOR),C(this,wf,e)):(C(this,iu,!0),C(this,ou,He.HIGHLIGHT_DEFAULT_COLOR)),C(this,Kr,(e==null?void 0:e._uiManager)||t),C(this,bf,u(this,Kr)._eventBus),C(this,su,(e==null?void 0:e.color)||((n=u(this,Kr))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),u(On,xf)||C(On,xf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Be(this,"_keyboardManager",new Of([[["Escape","mac+Escape"],On.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],On.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],On.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],On.prototype._moveToPrevious],[["Home","mac+Home"],On.prototype._moveToBeginning],[["End","mac+End"],On.prototype._moveToEnd]]))}renderButton(){const e=C(this,Xr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,Kr)._signal;e.addEventListener("click",M(this,Je,ca).bind(this),{signal:t}),e.addEventListener("keydown",M(this,Je,Rb).bind(this),{signal:t});const n=C(this,rl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=u(this,su),e.append(n),e}renderMainDropdown(){const e=C(this,Dt,M(this,Je,Cb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,Xr)){M(this,Je,ca).call(this,e);return}const t=e.target.getAttribute("data-color");t&&M(this,Je,Tb).call(this,t,e)}_moveToNext(e){var t,n;if(!u(this,Je,no)){M(this,Je,ca).call(this,e);return}if(e.target===u(this,Xr)){(t=u(this,Dt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=u(this,Dt))==null?void 0:t.firstChild)||e.target===u(this,Xr)){u(this,Je,no)&&this._hideDropdownFromKeyboard();return}u(this,Je,no)||M(this,Je,ca).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!u(this,Je,no)){M(this,Je,ca).call(this,e);return}(t=u(this,Dt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Je,no)){M(this,Je,ca).call(this,e);return}(t=u(this,Dt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,Dt))==null||e.classList.add("hidden"),(t=u(this,Po))==null||t.abort(),C(this,Po,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,iu)){if(!u(this,Je,no)){(e=u(this,wf))==null||e.unselect();return}this.hideDropdown(),u(this,Xr).focus({preventScroll:!0,focusVisible:u(this,yf)})}}updateColor(e){if(u(this,rl)&&(u(this,rl).style.backgroundColor=e),!u(this,Dt))return;const t=u(this,Kr).highlightColors.values();for(const n of u(this,Dt).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,Xr))==null||e.remove(),C(this,Xr,null),C(this,rl,null),(t=u(this,Dt))==null||t.remove(),C(this,Dt,null)}};Xr=new WeakMap,rl=new WeakMap,su=new WeakMap,Dt=new WeakMap,yf=new WeakMap,iu=new WeakMap,wf=new WeakMap,bf=new WeakMap,Po=new WeakMap,Kr=new WeakMap,ou=new WeakMap,xf=new WeakMap,Je=new WeakSet,Cb=function(){const e=document.createElement("div"),t=u(this,Kr)._signal;e.addEventListener("contextmenu",Zr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of u(this,Kr).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=n,a.setAttribute("data-l10n-id",u(On,xf)[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=s,a.setAttribute("aria-selected",s===u(this,su)),a.addEventListener("click",M(this,Je,Tb).bind(this,s),{signal:t}),e.append(a)}return e.addEventListener("keydown",M(this,Je,Rb).bind(this),{signal:t}),e},Tb=function(e,t){t.stopPropagation(),u(this,bf).dispatch("switchannotationeditorparams",{source:this,type:u(this,ou),value:e})},Rb=function(e){On._keyboardManager.exec(this,e)},ca=function(e){if(u(this,Je,no)){this.hideDropdown();return}if(C(this,yf,e.detail===0),u(this,Po)||(C(this,Po,new AbortController),window.addEventListener("pointerdown",M(this,Je,$C).bind(this),{signal:u(this,Kr).combinedSignal(u(this,Po))})),u(this,Dt)){u(this,Dt).classList.remove("hidden");return}const t=C(this,Dt,M(this,Je,Cb).call(this));u(this,Xr).append(t)},$C=function(e){var t;(t=u(this,Dt))!=null&&t.contains(e.target)||this.hideDropdown()},no=function(){return u(this,Dt)&&!u(this,Dt).classList.contains("hidden")},k(On,xf,null);let sg=On;var au,Af,wi,sl,lu,$n,Sf,Ef,il,Ar,Zn,Qt,cu,bi,dn,uu,Sr,_f,Ie,Pb,jm,zC,BC,HC,kb,ua,Tr,ac,UC,$m,jd,WC,VC,GC,XC,KC;const Xe=class Xe extends gt{constructor(t){super({...t,name:"highlightEditor"});k(this,Ie);k(this,au,null);k(this,Af,0);k(this,wi);k(this,sl,null);k(this,lu,null);k(this,$n,null);k(this,Sf,null);k(this,Ef,0);k(this,il,null);k(this,Ar,null);k(this,Zn,null);k(this,Qt,!1);k(this,cu,null);k(this,bi);k(this,dn,null);k(this,uu,"");k(this,Sr);k(this,_f,"");this.color=t.color||Xe._defaultColor,C(this,Sr,t.thickness||Xe._defaultThickness),C(this,bi,t.opacity||Xe._defaultOpacity),C(this,wi,t.boxes||null),C(this,_f,t.methodOfCreation||""),C(this,uu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(C(this,Qt,!0),M(this,Ie,jm).call(this,t),M(this,Ie,ua).call(this)):u(this,wi)&&(C(this,au,t.anchorNode),C(this,Af,t.anchorOffset),C(this,Sf,t.focusNode),C(this,Ef,t.focusOffset),M(this,Ie,Pb).call(this),M(this,Ie,ua).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Xe.prototype;return Be(this,"_keyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Qt)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Sr),methodOfCreation:u(this,_f)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;gt.initialize(t,n),Xe._defaultColor||(Xe._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case He.HIGHLIGHT_DEFAULT_COLOR:Xe._defaultColor=n;break;case He.HIGHLIGHT_THICKNESS:Xe._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return u(this,cu)}updateParams(t,n){switch(t){case He.HIGHLIGHT_COLOR:M(this,Ie,zC).call(this,n);break;case He.HIGHLIGHT_THICKNESS:M(this,Ie,BC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.HIGHLIGHT_DEFAULT_COLOR,Xe._defaultColor],[He.HIGHLIGHT_THICKNESS,Xe._defaultThickness]]}get propertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,this.color||Xe._defaultColor],[He.HIGHLIGHT_THICKNESS,u(this,Sr)||Xe._defaultThickness],[He.HIGHLIGHT_FREE,u(this,Qt)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(C(this,lu,new sg({editor:this})),t.addColorPicker(u(this,lu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,Ie,jd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,M(this,Ie,jd).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){M(this,Ie,kb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,Ie,ua).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?M(this,Ie,kb).call(this):t&&(M(this,Ie,ua).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,l,c;const{drawLayer:n}=this.parent;let s;u(this,Qt)?(t=(t-this.rotation+360)%360,s=M(a=Xe,Tr,ac).call(a,u(this,Ar).box,t)):s=M(l=Xe,Tr,ac).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(u(this,Zn),{bbox:s,root:{"data-main-rotation":t}}),n.updateProperties(u(this,dn),{bbox:M(c=Xe,Tr,ac).call(c,u(this,$n).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,uu)&&(t.setAttribute("aria-label",u(this,uu)),t.setAttribute("role","mark")),u(this,Qt)?t.classList.add("free"):this.div.addEventListener("keydown",M(this,Ie,UC).bind(this),{signal:this._uiManager._signal});const n=C(this,il,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=u(this,sl);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),eg(this,u(this,il),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,dn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,dn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:M(this,Ie,$m).call(this,!0);break;case 1:case 3:M(this,Ie,$m).call(this,!1);break}}select(){var t;super.select(),u(this,dn)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,dn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,dn)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,dn),{rootClass:{selected:!1}}),u(this,Qt)||M(this,Ie,$m).call(this,!1))}get _mustFixPosition(){return!u(this,Qt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Zn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,dn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:s,x:a,y:l}){const{x:c,y:h,width:f,height:p}=s.getBoundingClientRect(),g=new AbortController,v=t.combinedSignal(g),w=b=>{g.abort(),M(this,Tr,XC).call(this,t,b)};window.addEventListener("blur",w,{signal:v}),window.addEventListener("pointerup",w,{signal:v}),window.addEventListener("pointerdown",or,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Zr,{signal:v}),s.addEventListener("pointermove",M(this,Tr,GC).bind(this,t),{signal:v}),this._freeHighlight=new _b({x:a,y:l},[c,h,f,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,s){var x,E,_,R;let a=null;if(t instanceof bC){const{data:{quadPoints:N,rect:I,rotation:D,id:z,color:O,opacity:W,popupRef:Y},parent:{page:{pageNumber:te}}}=t;a=t={annotationType:De.HIGHLIGHT,color:Array.from(O),opacity:W,quadPoints:N,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:D,id:z,deleted:!1,popupRef:Y}}else if(t instanceof R0){const{data:{inkLists:N,rect:I,rotation:D,id:z,color:O,borderStyle:{rawWidth:W},popupRef:Y},parent:{page:{pageNumber:te}}}=t;a=t={annotationType:De.HIGHLIGHT,color:Array.from(O),thickness:W,inkLists:N,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:D,id:z,deleted:!1,popupRef:Y}}const{color:l,quadPoints:c,inkLists:h,opacity:f}=t,p=await super.deserialize(t,n,s);p.color=Ae.makeHexColor(...l),C(p,bi,f||1),h&&C(p,Sr,t.thickness),p.annotationElementId=t.id||null,p._initialData=a;const[g,v]=p.pageDimensions,[w,b]=p.pageTranslation;if(c){const N=C(p,wi,[]);for(let I=0;I<c.length;I+=8)N.push({x:(c[I]-w)/g,y:1-(c[I+1]-b)/v,width:(c[I+2]-c[I])/g,height:(c[I+1]-c[I+5])/v});M(x=p,Ie,Pb).call(x),M(E=p,Ie,ua).call(E),p.rotate(p.rotation)}else if(h){C(p,Qt,!0);const N=h[0],I={x:N[0]-w,y:v-(N[1]-b)},D=new _b(I,[0,0,g,v],1,u(p,Sr)/2,!0,.001);for(let W=0,Y=N.length;W<Y;W+=2)I.x=N[W]-w,I.y=v-(N[W+1]-b),D.add(I);const{id:z,clipPathId:O}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:D.toSVGPath()}},!0,!0);M(_=p,Ie,jm).call(_,{highlightOutlines:D.getOutlines(),highlightId:z,clipPathId:O}),M(R=p,Ie,ua).call(R)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=gt._colorManager.convert(this.color),a={annotationType:De.HIGHLIGHT,color:s,opacity:u(this,bi),thickness:u(this,Sr),quadPoints:M(this,Ie,WC).call(this),outlines:M(this,Ie,VC).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:M(this,Ie,jd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!M(this,Ie,KC).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};au=new WeakMap,Af=new WeakMap,wi=new WeakMap,sl=new WeakMap,lu=new WeakMap,$n=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,il=new WeakMap,Ar=new WeakMap,Zn=new WeakMap,Qt=new WeakMap,cu=new WeakMap,bi=new WeakMap,dn=new WeakMap,uu=new WeakMap,Sr=new WeakMap,_f=new WeakMap,Ie=new WeakSet,Pb=function(){const t=new Sb(u(this,wi),.001);C(this,Ar,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Ar).box;const n=new Sb(u(this,wi),.0025,.001,this._uiManager.direction==="ltr");C(this,$n,n.getOutlines());const{lastPoint:s}=u(this,$n);C(this,cu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},jm=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var g,v;if(C(this,Ar,t),C(this,$n,t.getNewOutline(u(this,Sr)/2+1.5,.0025)),n>=0)C(this,Zn,n),C(this,sl,s),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),C(this,dn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,$n).box,path:{d:u(this,$n).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Zn),{bbox:M(g=Xe,Tr,ac).call(g,u(this,Ar).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,dn),{bbox:M(v=Xe,Tr,ac).call(v,u(this,$n).box,w),path:{d:u(this,$n).toSVGPath()}})}const[l,c,h,f]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=f;break;case 90:{const[w,b]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*b/w,this.height=f*w/b;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=f;break;case 270:{const[w,b]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*b/w,this.height=f*w/b;break}}const{lastPoint:p}=u(this,$n);C(this,cu,[(p[0]-l)/h,(p[1]-c)/f])},zC=function(t){const n=(l,c)=>{var h,f;this.color=l,C(this,bi,c),(h=this.parent)==null||h.drawLayer.updateProperties(u(this,Zn),{root:{fill:l,"fill-opacity":c}}),(f=u(this,lu))==null||f.updateColor(l)},s=this.color,a=u(this,bi);this.addCommands({cmd:n.bind(this,t,Xe._defaultOpacity),undo:n.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},BC=function(t){const n=u(this,Sr),s=a=>{C(this,Sr,a),M(this,Ie,HC).call(this,a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},HC=function(t){if(!u(this,Qt))return;M(this,Ie,jm).call(this,{highlightOutlines:u(this,Ar).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},kb=function(){u(this,Zn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Zn)),C(this,Zn,null),this.parent.drawLayer.remove(u(this,dn)),C(this,dn,null))},ua=function(t=this.parent){u(this,Zn)===null&&({id:vn(this,Zn)._,clipPathId:vn(this,sl)._}=t.drawLayer.draw({bbox:u(this,Ar).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,bi)},rootClass:{highlight:!0,free:u(this,Qt)},path:{d:u(this,Ar).toSVGPath()}},!1,!0),C(this,dn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Qt)},bbox:u(this,$n).box,path:{d:u(this,$n).toSVGPath()}},u(this,Qt))),u(this,il)&&(u(this,il).style.clipPath=u(this,sl)))},Tr=new WeakSet,ac=function([t,n,s,a],l){switch(l){case 90:return[1-n-a,t,a,s];case 180:return[1-t-s,1-n-a,s,a];case 270:return[n,1-t-s,a,s]}return[t,n,s,a]},UC=function(t){Xe._keyboardManager.exec(this,t)},$m=function(t){if(!u(this,au))return;const n=window.getSelection();t?n.setPosition(u(this,au),u(this,Af)):n.setPosition(u(this,Sf),u(this,Ef))},jd=function(){return u(this,Qt)?this.rotation:0},WC=function(){if(u(this,Qt))return null;const[t,n]=this.pageDimensions,[s,a]=this.pageTranslation,l=u(this,wi),c=new Float32Array(l.length*8);let h=0;for(const{x:f,y:p,width:g,height:v}of l){const w=f*t+s,b=(1-p)*n+a;c[h]=c[h+4]=w,c[h+1]=c[h+3]=b,c[h+2]=c[h+6]=w+g*t,c[h+5]=c[h+7]=b-v*n,h+=8}return c},VC=function(t){return u(this,Ar).serialize(t,M(this,Ie,jd).call(this))},GC=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},XC=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},KC=function(t){const{color:n}=this._initialData;return t.color.some((s,a)=>s!==n[a])},k(Xe,Tr),Te(Xe,"_defaultColor",null),Te(Xe,"_defaultOpacity",1),Te(Xe,"_defaultThickness",12),Te(Xe,"_type","highlight"),Te(Xe,"_editorType",De.HIGHLIGHT),Te(Xe,"_freeHighlightId",-1),Te(Xe,"_freeHighlight",null),Te(Xe,"_freeHighlightClipId","");let ig=Xe;var ol;class n2{constructor(){k(this,ol,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))this.updateProperty(t,n)}updateSVGProperty(e,t){u(this,ol)[e]=t}toSVGProperties(){const e=u(this,ol);return C(this,ol,Object.create(null)),{root:e}}reset(){C(this,ol,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){et("Not implemented")}}ol=new WeakMap;var er,du,Ut,al,ll,ko,Mo,No,cl,We,Nb,Ib,Lb,$d,YC,zm,zd,lc;const fe=class fe extends gt{constructor(t){super(t);k(this,We);k(this,er,null);k(this,du);Te(this,"_drawId",null);C(this,du,t.mustBeCommitted||!1),t.drawOutlines&&(M(this,We,Nb).call(this,t),M(this,We,$d).call(this))}static _mergeSVGProperties(t,n){const s=new Set(Object.keys(t));for(const[a,l]of Object.entries(n))s.has(a)?Object.assign(t[a],l):t[a]=l;return t}static getDefaultDrawingOptions(t){et("Not implemented")}static get typesMap(){et("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,n),this._currentParent&&(u(fe,Ut).updateProperty(s,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)t.push([s,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[s,a]of this.constructor.typesMap)t.push([s,n[a]]);return t}_updateProperty(t,n,s){const a=this._drawingOptions,l=a[n],c=h=>{var p;a.updateProperty(n,h);const f=u(this,er).updateProperty(n,h);f&&M(this,We,zd).call(this,f),(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(u(this,er).getPathResizingSVGProperties(M(this,We,zm).call(this)),{bbox:M(this,We,lc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(u(this,er).getPathResizedSVGProperties(M(this,We,zm).call(this)),{bbox:M(this,We,lc).call(this)}))}_onTranslating(t,n){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:M(this,We,lc).call(this,t,n)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(u(this,er).getPathTranslatedSVGProperties(M(this,We,zm).call(this),this.parentDimensions),{bbox:M(this,We,lc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,du)&&(C(this,du,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){M(this,We,Lb).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,We,$d).call(this),M(this,We,zd).call(this,u(this,er).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),M(this,We,Lb).call(this)):t&&(this._uiManager.addShouldRescale(this),M(this,We,$d).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties({bbox:M(this,We,lc).call(this)},u(this,er).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&M(this,We,zd).call(this,u(this,er).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const n=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,n,s,a,l){et("Not implemented")}static startDrawing(t,n,s,a){var E;const{target:l,offsetX:c,offsetY:h,pointerId:f,pointerType:p}=a;if(u(fe,Mo)&&u(fe,Mo)!==p)return;const{viewport:{rotation:g}}=t,{width:v,height:w}=l.getBoundingClientRect(),b=C(fe,al,new AbortController),x=t.combinedSignal(b);if(u(fe,ko)||C(fe,ko,f),u(fe,Mo)??C(fe,Mo,p),window.addEventListener("pointerup",_=>{var R;u(fe,ko)===_.pointerId?this._endDraw(_):(R=u(fe,No))==null||R.delete(_.pointerId)},{signal:x}),window.addEventListener("pointercancel",_=>{var R;u(fe,ko)===_.pointerId?this._currentParent.endDrawingSession():(R=u(fe,No))==null||R.delete(_.pointerId)},{signal:x}),window.addEventListener("pointerdown",_=>{u(fe,Mo)===_.pointerType&&((u(fe,No)||C(fe,No,new Set)).add(_.pointerId),u(fe,Ut).isCancellable()&&(u(fe,Ut).removeLastElement(),u(fe,Ut).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Zr,{signal:x}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),l.addEventListener("touchmove",_=>{_.timeStamp===u(fe,cl)&&or(_)},{signal:x}),t.toggleDrawing(),(E=n._editorUndoBar)==null||E.hide(),u(fe,Ut)){t.drawLayer.updateProperties(this._currentDrawId,u(fe,Ut).startNew(c,h,v,w,g));return}n.updateUIForDefaultProperties(this),C(fe,Ut,this.createDrawerInstance(c,h,v,w,g)),C(fe,ll,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(fe,ll).toSVGProperties(),u(fe,Ut).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(C(fe,cl,-1),!u(fe,Ut))return;const{offsetX:n,offsetY:s,pointerId:a}=t;if(u(fe,ko)===a){if(((l=u(fe,No))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(fe,Ut).add(n,s)),C(fe,cl,t.timeStamp),or(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,C(fe,Ut,null),C(fe,ll,null),C(fe,Mo,null),C(fe,cl,NaN)),u(fe,al)&&(u(fe,al).abort(),C(fe,al,null),C(fe,ko,NaN),C(fe,No,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t&&n.drawLayer.updateProperties(this._currentDrawId,u(fe,Ut).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=u(fe,Ut),a=this._currentDrawId,l=s.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,s.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:He.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(He.DRAW_STEP),!u(fe,Ut).isEmpty()){const{pageDimensions:[s,a],scale:l}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(fe,Ut).getOutlines(s*l,a*l,l,this._INNER_MARGIN),drawingOptions:u(fe,ll),mustBeCommitted:!t});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,s,a,l,c){et("Not implemented")}static async deserialize(t,n,s){var g,v;const{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}=n.viewport,f=this.deserializeDraw(c,h,a,l,this._INNER_MARGIN,t),p=await super.deserialize(t,n,s);return p.createDrawingOptions(t),M(g=p,We,Nb).call(g,{drawOutlines:f}),M(v=p,We,$d).call(v),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[n,s]=this.pageTranslation,[a,l]=this.pageDimensions;return u(this,er).serialize([n,s,a,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};er=new WeakMap,du=new WeakMap,Ut=new WeakMap,al=new WeakMap,ll=new WeakMap,ko=new WeakMap,Mo=new WeakMap,No=new WeakMap,cl=new WeakMap,We=new WeakSet,Nb=function({drawOutlines:t,drawId:n,drawingOptions:s}){C(this,er,t),this._drawingOptions||(this._drawingOptions=s),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=M(this,We,Ib).call(this,t,this.parent),M(this,We,zd).call(this,t.box)},Ib=function(t,n){const{id:s}=n.drawLayer.draw(fe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},Lb=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},$d=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=M(this,We,Ib).call(this,u(this,er),t)}},YC=function([t,n,s,a]){const{parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[n,1-t,s*(c/l),a*(l/c)];case 180:return[1-t,1-n,s,a];case 270:return[1-n,t,s*(c/l),a*(l/c)];default:return[t,n,s,a]}},zm=function(){const{x:t,y:n,width:s,height:a,parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[1-n,t,s*(l/c),a*(c/l)];case 180:return[1-t,1-n,s,a];case 270:return[n,1-t,s*(l/c),a*(c/l)];default:return[t,n,s,a]}},zd=function(t){if([this.x,this.y,this.width,this.height]=M(this,We,YC).call(this,t),this.div){this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)}this._onResized()},lc=function(){const{x:t,y:n,width:s,height:a,rotation:l,parentRotation:c,parentDimensions:[h,f]}=this;switch((l*4+c)/90){case 1:return[1-n-a,t,a,s];case 2:return[1-t-s,1-n-a,s,a];case 3:return[n,1-t-s,a,s];case 4:return[t,n-s*(h/f),a*(f/h),s*(h/f)];case 5:return[1-n,t,s*(h/f),a*(f/h)];case 6:return[1-t-a*(f/h),1-n,a*(f/h),s*(h/f)];case 7:return[n-s*(h/f),1-t-a*(f/h),s*(h/f),a*(f/h)];case 8:return[t-s,n-a,s,a];case 9:return[1-n,t-s,a,s];case 10:return[1-t,1-n,s,a];case 11:return[n-a,1-t,a,s];case 12:return[t-a*(f/h),n,a*(f/h),s*(h/f)];case 13:return[1-n-s*(h/f),t-a*(f/h),s*(h/f),a*(f/h)];case 14:return[1-t,1-n-s*(h/f),a*(f/h),s*(h/f)];case 15:return[n,1-t,s*(h/f),a*(f/h)];default:return[t,n,s,a]}},Te(fe,"_currentDrawId",-1),Te(fe,"_currentParent",null),k(fe,Ut,null),k(fe,al,null),k(fe,ll,null),k(fe,ko,NaN),k(fe,Mo,null),k(fe,No,null),k(fe,cl,NaN),Te(fe,"_INNER_MARGIN",3);let Mb=fe;var Cs,Wt,Vt,ul,hu,bn,Jt,Er,dl,hl,fl,fu,Bm;class r2{constructor(e,t,n,s,a,l){k(this,fu);k(this,Cs,new Float64Array(6));k(this,Wt);k(this,Vt);k(this,ul);k(this,hu);k(this,bn);k(this,Jt,"");k(this,Er,0);k(this,dl,new og);k(this,hl);k(this,fl);C(this,hl,n),C(this,fl,s),C(this,ul,a),C(this,hu,l),[e,t]=M(this,fu,Bm).call(this,e,t);const c=C(this,Wt,[NaN,NaN,NaN,NaN,e,t]);C(this,bn,[e,t]),C(this,Vt,[{line:c,points:u(this,bn)}]),u(this,Cs).set(c,0)}updateProperty(e,t){e==="stroke-width"&&C(this,hu,t)}isEmpty(){return!u(this,Vt)||u(this,Vt).length===0}isCancellable(){return u(this,bn).length<=10}add(e,t){[e,t]=M(this,fu,Bm).call(this,e,t);const[n,s,a,l]=u(this,Cs).subarray(2,6),c=e-a,h=t-l;return Math.hypot(u(this,hl)*c,u(this,fl)*h)<=2?null:(u(this,bn).push(e,t),isNaN(n)?(u(this,Cs).set([a,l,e,t],2),u(this,Wt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Cs)[0])&&u(this,Wt).splice(6,6),u(this,Cs).set([n,s,a,l,e,t],0),u(this,Wt).push(...he.createBezierPoints(n,s,a,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(u(this,bn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,s,a){C(this,hl,n),C(this,fl,s),C(this,ul,a),[e,t]=M(this,fu,Bm).call(this,e,t);const l=C(this,Wt,[NaN,NaN,NaN,NaN,e,t]);C(this,bn,[e,t]);const c=u(this,Vt).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),u(this,Vt).push({line:l,points:u(this,bn)}),u(this,Cs).set(l,0),C(this,Er,0),this.toSVGPath(),null}getLastElement(){return u(this,Vt).at(-1)}setLastElement(e){return u(this,Vt)?(u(this,Vt).push(e),C(this,Wt,e.line),C(this,bn,e.points),C(this,Er,0),{path:{d:this.toSVGPath()}}):u(this,dl).setLastElement(e)}removeLastElement(){if(!u(this,Vt))return u(this,dl).removeLastElement();u(this,Vt).pop(),C(this,Jt,"");for(let e=0,t=u(this,Vt).length;e<t;e++){const{line:n,points:s}=u(this,Vt)[e];C(this,Wt,n),C(this,bn,s),C(this,Er,0),this.toSVGPath()}return{path:{d:u(this,Jt)}}}toSVGPath(){const e=he.svgRound(u(this,Wt)[4]),t=he.svgRound(u(this,Wt)[5]);if(u(this,bn).length===2)return C(this,Jt,`${u(this,Jt)} M ${e} ${t} Z`),u(this,Jt);if(u(this,bn).length<=6){const s=u(this,Jt).lastIndexOf("M");C(this,Jt,`${u(this,Jt).slice(0,s)} M ${e} ${t}`),C(this,Er,6)}if(u(this,bn).length===4){const s=he.svgRound(u(this,Wt)[10]),a=he.svgRound(u(this,Wt)[11]);return C(this,Jt,`${u(this,Jt)} L ${s} ${a}`),C(this,Er,12),u(this,Jt)}const n=[];u(this,Er)===0&&(n.push(`M ${e} ${t}`),C(this,Er,6));for(let s=u(this,Er),a=u(this,Wt).length;s<a;s+=6){const[l,c,h,f,p,g]=u(this,Wt).slice(s,s+6).map(he.svgRound);n.push(`C${l} ${c} ${h} ${f} ${p} ${g}`)}return C(this,Jt,u(this,Jt)+n.join(" ")),C(this,Er,u(this,Wt).length),u(this,Jt)}getOutlines(e,t,n,s){const a=u(this,Vt).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),u(this,dl).build(u(this,Vt),e,t,n,u(this,ul),u(this,hu),s),C(this,Cs,null),C(this,Wt,null),C(this,Vt,null),C(this,Jt,null),u(this,dl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Cs=new WeakMap,Wt=new WeakMap,Vt=new WeakMap,ul=new WeakMap,hu=new WeakMap,bn=new WeakMap,Jt=new WeakMap,Er=new WeakMap,dl=new WeakMap,hl=new WeakMap,fl=new WeakMap,fu=new WeakSet,Bm=function(e,t){return he._normalizePoint(e,t,u(this,hl),u(this,fl),u(this,ul))};var xn,Cf,Tf,tr,Ts,Rs,pu,mu,gu,en,Qs,qC,QC,JC;const fx=class fx extends he{constructor(){super(...arguments);k(this,en);k(this,xn);k(this,Cf,0);k(this,Tf);k(this,tr);k(this,Ts);k(this,Rs);k(this,pu);k(this,mu);k(this,gu)}build(t,n,s,a,l,c,h){C(this,Ts,n),C(this,Rs,s),C(this,pu,a),C(this,mu,l),C(this,gu,c),C(this,Tf,h??0),C(this,tr,t),M(this,en,QC).call(this)}setLastElement(t){return u(this,tr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,tr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of u(this,tr)){if(t.push(`M${he.svgRound(n[4])} ${he.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12){t.push(`L${he.svgRound(n[10])} ${he.svgRound(n[11])}`);continue}for(let s=6,a=n.length;s<a;s+=6){const[l,c,h,f,p,g]=n.subarray(s,s+6).map(he.svgRound);t.push(`C${l} ${c} ${h} ${f} ${p} ${g}`)}}return t.join("")}serialize([t,n,s,a],l){const c=[],h=[],[f,p,g,v]=M(this,en,qC).call(this);let w,b,x,E,_,R,N,I,D;switch(u(this,mu)){case 0:D=he._rescale,w=t,b=n+a,x=s,E=-a,_=t+f*s,R=n+(1-p-v)*a,N=t+(f+g)*s,I=n+(1-p)*a;break;case 90:D=he._rescaleAndSwap,w=t,b=n,x=s,E=a,_=t+p*s,R=n+f*a,N=t+(p+v)*s,I=n+(f+g)*a;break;case 180:D=he._rescale,w=t+s,b=n,x=-s,E=a,_=t+(1-f-g)*s,R=n+p*a,N=t+(1-f)*s,I=n+(p+v)*a;break;case 270:D=he._rescaleAndSwap,w=t+s,b=n+a,x=-s,E=-a,_=t+(1-p-v)*s,R=n+(1-f-g)*a,N=t+(1-p)*s,I=n+(1-f)*a;break}for(const{line:z,points:O}of u(this,tr))c.push(D(z,w,b,x,E,l?new Array(z.length):null)),h.push(D(O,w,b,x,E,l?new Array(O.length):null));return{lines:c,points:h,rect:[_,R,N,I]}}static deserialize(t,n,s,a,l,{paths:{lines:c,points:h},rotation:f,thickness:p}){const g=[];let v,w,b,x,E;switch(f){case 0:E=he._rescale,v=-t/s,w=n/a+1,b=1/s,x=-1/a;break;case 90:E=he._rescaleAndSwap,v=-n/a,w=-t/s,b=1/a,x=1/s;break;case 180:E=he._rescale,v=t/s+1,w=-n/a,b=-1/s,x=1/a;break;case 270:E=he._rescaleAndSwap,v=n/a+1,w=t/s+1,b=-1/a,x=-1/s;break}if(!c){c=[];for(const R of h){const N=R.length;if(N===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(N===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const I=new Float32Array(3*(N-2));c.push(I);let[D,z,O,W]=R.subarray(0,4);I.set([NaN,NaN,NaN,NaN,D,z],0);for(let Y=4;Y<N;Y+=2){const te=R[Y],se=R[Y+1];I.set(he.createBezierPoints(D,z,O,W,te,se),(Y-2)*3),[D,z,O,W]=[O,W,te,se]}}}for(let R=0,N=c.length;R<N;R++)g.push({line:E(c[R].map(I=>I??NaN),v,w,b,x),points:E(h[R].map(I=>I??NaN),v,w,b,x)});const _=new fx;return _.build(g,s,a,1,f,p,l),_}get box(){return u(this,xn)}updateProperty(t,n){return t==="stroke-width"?M(this,en,JC).call(this,n):null}updateParentDimensions([t,n],s){const[a,l]=M(this,en,Qs).call(this);C(this,Ts,t),C(this,Rs,n),C(this,pu,s);const[c,h]=M(this,en,Qs).call(this),f=c-a,p=h-l,g=u(this,xn);return g[0]-=f,g[1]-=p,g[2]+=2*f,g[3]+=2*p,g}updateRotation(t){return C(this,Cf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,xn).map(he.svgRound).join(" ")}get defaultProperties(){const[t,n]=u(this,xn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${he.svgRound(t)} ${he.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=u(this,xn);let s=0,a=0,l=0,c=0,h=0,f=0;switch(u(this,Cf)){case 90:a=n/t,l=-t/n,h=t;break;case 180:s=-1,c=-1,h=t,f=n;break;case 270:a=-n/t,l=t/n,f=n;break;default:return""}return`matrix(${s} ${a} ${l} ${c} ${he.svgRound(h)} ${he.svgRound(f)})`}getPathResizingSVGProperties([t,n,s,a]){const[l,c]=M(this,en,Qs).call(this),[h,f,p,g]=u(this,xn);if(Math.abs(p-l)<=he.PRECISION||Math.abs(g-c)<=he.PRECISION){const E=t+s/2-(h+p/2),_=n+a/2-(f+g/2);return{path:{"transform-origin":`${he.svgRound(t)} ${he.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${_})`}}}const v=(s-2*l)/(p-2*l),w=(a-2*c)/(g-2*c),b=p/s,x=g/a;return{path:{"transform-origin":`${he.svgRound(h)} ${he.svgRound(f)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${he.svgRound(l)} ${he.svgRound(c)}) scale(${v} ${w}) translate(${he.svgRound(-l)} ${he.svgRound(-c)})`}}}getPathResizedSVGProperties([t,n,s,a]){const[l,c]=M(this,en,Qs).call(this),h=u(this,xn),[f,p,g,v]=h;if(h[0]=t,h[1]=n,h[2]=s,h[3]=a,Math.abs(g-l)<=he.PRECISION||Math.abs(v-c)<=he.PRECISION){const _=t+s/2-(f+g/2),R=n+a/2-(p+v/2);for(const{line:N,points:I}of u(this,tr))he._translate(N,_,R,N),he._translate(I,_,R,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${he.svgRound(t)} ${he.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(s-2*l)/(g-2*l),b=(a-2*c)/(v-2*c),x=-w*(f+l)+t+l,E=-b*(p+c)+n+c;if(w!==1||b!==1||x!==0||E!==0)for(const{line:_,points:R}of u(this,tr))he._rescale(_,x,E,w,b,_),he._rescale(R,x,E,w,b,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${he.svgRound(t)} ${he.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],s){const[a,l]=s,c=u(this,xn),h=t-c[0],f=n-c[1];if(u(this,Ts)===a&&u(this,Rs)===l)for(const{line:p,points:g}of u(this,tr))he._translate(p,h,f,p),he._translate(g,h,f,g);else{const p=u(this,Ts)/a,g=u(this,Rs)/l;C(this,Ts,a),C(this,Rs,l);for(const{line:v,points:w}of u(this,tr))he._rescale(v,h,f,p,g,v),he._rescale(w,h,f,p,g,w);c[2]*=p,c[3]*=g}return c[0]=t,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${he.svgRound(t)} ${he.svgRound(n)}`}}}get defaultSVGProperties(){const t=u(this,xn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${he.svgRound(t[0])} ${he.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};xn=new WeakMap,Cf=new WeakMap,Tf=new WeakMap,tr=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,pu=new WeakMap,mu=new WeakMap,gu=new WeakMap,en=new WeakSet,Qs=function(t=u(this,gu)){const n=u(this,Tf)+t/2*u(this,pu);return u(this,mu)%180===0?[n/u(this,Ts),n/u(this,Rs)]:[n/u(this,Rs),n/u(this,Ts)]},qC=function(){const[t,n,s,a]=u(this,xn),[l,c]=M(this,en,Qs).call(this,0);return[t+l,n+c,s-2*l,a-2*c]},QC=function(){const t=C(this,xn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of u(this,tr)){if(a.length<=12){for(let h=4,f=a.length;h<f;h+=6){const[p,g]=a.subarray(h,h+2);t[0]=Math.min(t[0],p),t[1]=Math.min(t[1],g),t[2]=Math.max(t[2],p),t[3]=Math.max(t[3],g)}continue}let l=a[4],c=a[5];for(let h=6,f=a.length;h<f;h+=6){const[p,g,v,w,b,x]=a.subarray(h,h+6);Ae.bezierBoundingBox(l,c,p,g,v,w,b,x,t),l=b,c=x}}const[n,s]=M(this,en,Qs).call(this);t[0]=Math.min(1,Math.max(0,t[0]-n)),t[1]=Math.min(1,Math.max(0,t[1]-s)),t[2]=Math.min(1,Math.max(0,t[2]+n)),t[3]=Math.min(1,Math.max(0,t[3]+s)),t[2]-=t[0],t[3]-=t[1]},JC=function(t){const[n,s]=M(this,en,Qs).call(this);C(this,gu,t);const[a,l]=M(this,en,Qs).call(this),[c,h]=[a-n,l-s],f=u(this,xn);return f[0]-=c,f[1]-=h,f[2]+=2*c,f[3]+=2*h,f};let og=fx;var vu;const px=class px extends n2{constructor(t){super();k(this,vu);C(this,vu,t),super.updateProperties({fill:"none",stroke:gt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=u(this,vu).realScale),super.updateSVGProperty(t,n)}clone(){const t=new px(u(this,vu));return t.updateAll(this),t}};vu=new WeakMap;let Db=px;var Ng,ZC;const dc=class dc extends Mb{constructor(t){super({...t,name:"inkEditor"});k(this,Ng);this._willKeepAspectRatio=!0}static initialize(t,n){gt.initialize(t,n),this._defaultDrawingOptions=new Db(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Be(this,"typesMap",new Map([[He.INK_THICKNESS,"stroke-width"],[He.INK_COLOR,"stroke"],[He.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,s,a,l){return new r2(t,n,s,a,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,s,a,l,c){return og.deserialize(t,n,s,a,l,c)}static async deserialize(t,n,s){let a=null;if(t instanceof R0){const{data:{inkLists:c,rect:h,rotation:f,id:p,color:g,opacity:v,borderStyle:{rawWidth:w},popupRef:b},parent:{page:{pageNumber:x}}}=t;a=t={annotationType:De.INK,color:Array.from(g),thickness:w,opacity:v,paths:{points:c},boxes:null,pageIndex:x-1,rect:h.slice(0),rotation:f,id:p,deleted:!1,popupRef:b}}const l=await super.deserialize(t,n,s);return l.annotationElementId=t.id||null,l._initialData=a,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:s}=this;n.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:s}){this._drawingOptions=dc.getDefaultDrawingOptions({stroke:Ae.makeHexColor(...t),"stroke-width":n,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":h}}=this,f={annotationType:De.INK,color:gt._colorManager.convert(l),opacity:c,thickness:h,paths:{lines:n,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?f:this.annotationElementId&&!M(this,Ng,ZC).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){const{points:n,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:n}),null}};Ng=new WeakSet,ZC=function(t){const{color:n,thickness:s,opacity:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,h)=>c!==n[h])||t.thickness!==s||t.opacity!==a||t.pageIndex!==l},Te(dc,"_type","ink"),Te(dc,"_editorType",De.INK),Te(dc,"_defaultDrawingOptions",null);let Ob=dc;var mt,Zt,Io,xi,Lo,yu,Ps,ks,nr,wu,Ge,Bd,Hd,Hm,jb,Um,$b,Wm,eT;const Gd=class Gd extends gt{constructor(t){super({...t,name:"stampEditor"});k(this,Ge);k(this,mt,null);k(this,Zt,null);k(this,Io,null);k(this,xi,null);k(this,Lo,null);k(this,yu,"");k(this,Ps,null);k(this,ks,null);k(this,nr,!1);k(this,wu,!1);C(this,xi,t.bitmapUrl),C(this,Lo,t.bitmapFile)}static initialize(t,n){gt.initialize(t,n)}static get supportedTypes(){return Be(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Be(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(De.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const f=h.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t;u(this,Zt)&&(C(this,mt,null),this._uiManager.imageManager.deleteId(u(this,Zt)),(t=u(this,Ps))==null||t.remove(),C(this,Ps,null),u(this,ks)&&(clearTimeout(u(this,ks)),C(this,ks,null))),super.remove()}rebuild(){if(!this.parent){u(this,Zt)&&M(this,Ge,Hm).call(this);return}super.rebuild(),this.div!==null&&(u(this,Zt)&&u(this,Ps)===null&&M(this,Ge,Hm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,Io)||u(this,mt)||u(this,xi)||u(this,Lo)||u(this,Zt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,mt)?M(this,Ge,jb).call(this):M(this,Ge,Hm).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(t*s,n*a,this.width*s,this.height*a)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,ks)!==null&&clearTimeout(u(this,ks)),C(this,ks,setTimeout(()=>{C(this,ks,null),M(this,Ge,$b).call(this)},200))}copyCanvas(t,n,s=!1){var w;t||(t=224);const{width:a,height:l}=u(this,mt),c=new Dw;let h=u(this,mt),f=a,p=l,g=null;if(n){if(a>n||l>n){const W=Math.min(n/a,n/l);f=Math.floor(a*W),p=Math.floor(l*W)}g=document.createElement("canvas");const b=g.width=Math.ceil(f*c.sx),x=g.height=Math.ceil(p*c.sy);u(this,nr)||(h=M(this,Ge,Um).call(this,b,x));const E=g.getContext("2d");E.filter=this._uiManager.hcmFilter;let _="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",R="#42414d");const N=15,I=N*c.sx,D=N*c.sy,z=new OffscreenCanvas(I*2,D*2),O=z.getContext("2d");O.fillStyle=_,O.fillRect(0,0,I*2,D*2),O.fillStyle=R,O.fillRect(0,0,I,D),O.fillRect(I,D,I,D),E.fillStyle=E.createPattern(z,"repeat"),E.fillRect(0,0,b,x),E.drawImage(h,0,0,h.width,h.height,0,0,b,x)}let v=null;if(s){let b,x;if(c.symmetric&&h.width<t&&h.height<t)b=h.width,x=h.height;else if(h=u(this,mt),a>t||l>t){const R=Math.min(t/a,t/l);b=Math.floor(a*R),x=Math.floor(l*R),u(this,nr)||(h=M(this,Ge,Um).call(this,b,x))}const _=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});_.drawImage(h,0,0,h.width,h.height,0,0,b,x),v={width:b,height:x,data:_.getImageData(0,0,b,x).data}}return{canvas:g,width:f,height:p,imageData:v}}getImageForAltText(){return u(this,Ps)}static async deserialize(t,n,s){var x;let a=null;if(t instanceof xC){const{data:{rect:E,rotation:_,id:R,structParent:N,popupRef:I},container:D,parent:{page:{pageNumber:z}}}=t,O=D.querySelector("canvas"),W=s.imageManager.getFromCanvas(D.id,O);O.remove();const Y=((x=await n._structTree.getAriaAttributes(`${b0}${R}`))==null?void 0:x.get("aria-label"))||"";a=t={annotationType:De.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:z-1,rect:E.slice(0),rotation:_,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:Y},isSvg:!1,structParent:N,popupRef:I}}const l=await super.deserialize(t,n,s),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:v}=t;p&&s.imageManager.isValidId(p)?(C(l,Zt,p),h&&C(l,mt,h)):C(l,xi,f),C(l,nr,g);const[w,b]=l.pageDimensions;return l.width=(c[2]-c[0])/w,l.height=(c[3]-c[1])/b,l.annotationElementId=t.id||null,v&&(l.altTextData=v),l._initialData=a,C(l,wu,!!a),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:De.STAMP,bitmapId:u(this,Zt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,nr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=M(this,Ge,Wm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=M(this,Ge,eT).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=u(this,nr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(u(this,Zt)))n.stamps.set(u(this,Zt),{area:c,serialized:s}),s.bitmap=M(this,Ge,Wm).call(this,!1);else if(u(this,nr)){const h=n.stamps.get(u(this,Zt));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=M(this,Ge,Wm).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};mt=new WeakMap,Zt=new WeakMap,Io=new WeakMap,xi=new WeakMap,Lo=new WeakMap,yu=new WeakMap,Ps=new WeakMap,ks=new WeakMap,nr=new WeakMap,wu=new WeakMap,Ge=new WeakSet,Bd=function(t,n=!1){if(!t){this.remove();return}C(this,mt,t.bitmap),n||(C(this,Zt,t.id),C(this,nr,t.isSvg)),t.file&&C(this,yu,t.file.name),M(this,Ge,jb).call(this)},Hd=function(){if(C(this,Io,null),this._uiManager.enableWaiting(!1),!!u(this,Ps)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,mt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,mt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Hm=function(){if(u(this,Zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Zt)).then(s=>M(this,Ge,Bd).call(this,s,!0)).finally(()=>M(this,Ge,Hd).call(this));return}if(u(this,xi)){const s=u(this,xi);C(this,xi,null),this._uiManager.enableWaiting(!0),C(this,Io,this._uiManager.imageManager.getFromUrl(s).then(a=>M(this,Ge,Bd).call(this,a)).finally(()=>M(this,Ge,Hd).call(this)));return}if(u(this,Lo)){const s=u(this,Lo);C(this,Lo,null),this._uiManager.enableWaiting(!0),C(this,Io,this._uiManager.imageManager.getFromFile(s).then(a=>M(this,Ge,Bd).call(this,a)).finally(()=>M(this,Ge,Hd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Gd.supportedTypesStr;const n=this._uiManager._signal;C(this,Io,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,Ge,Bd).call(this,a)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>M(this,Ge,Hd).call(this))),t.click()},jb=function(){var g;const{div:t}=this;let{width:n,height:s}=u(this,mt);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,s=this.height*l;else if(n>c*a||s>c*l){const v=Math.min(c*a/n,c*l/s);n*=v,s*=v}const[h,f]=this.parentDimensions;this.setDims(n*h/a,s*f/l),this._uiManager.enableWaiting(!1);const p=C(this,Ps,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),this.width=n/a,this.height=s/l,(g=this._initialOptions)!=null&&g.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),M(this,Ge,$b).call(this),u(this,wu)||(this.parent.addUndoableEditor(this),C(this,wu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,yu)&&p.setAttribute("aria-label",u(this,yu))},Um=function(t,n){const{width:s,height:a}=u(this,mt);let l=s,c=a,h=u(this,mt);for(;l>2*t||c>2*n;){const f=l,p=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(l,c);g.getContext("2d").drawImage(h,0,0,f,p,0,0,l,c),h=g.transferToImageBitmap()}return h},$b=function(){const[t,n]=this.parentDimensions,{width:s,height:a}=this,l=new Dw,c=Math.ceil(s*t*l.sx),h=Math.ceil(a*n*l.sy),f=u(this,Ps);if(!f||f.width===c&&f.height===h)return;f.width=c,f.height=h;const p=u(this,nr)?u(this,mt):M(this,Ge,Um).call(this,c,h),g=f.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,c,h)},Wm=function(t){if(t){if(u(this,nr)){const a=this._uiManager.imageManager.getSvgUrl(u(this,Zt));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=u(this,mt),n.getContext("2d").drawImage(u(this,mt),0,0),n.toDataURL()}if(u(this,nr)){const[n,s]=this.pageDimensions,a=Math.round(this.width*n*Bo.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Bo.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(u(this,mt),0,0,u(this,mt).width,u(this,mt).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(u(this,mt))},eT=function(t){var c;const{pageIndex:n,accessibilityData:{altText:s}}=this._initialData,a=t.pageIndex===n,l=(((c=t.accessibilityData)==null?void 0:c.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&l,isSameAltText:l}},Te(Gd,"_type","stamp"),Te(Gd,"_editorType",De.STAMP);let Fb=Gd;var pl,bu,Ms,Do,Ai,_r,Oo,xu,ml,Yr,Si,hn,Ei,be,Fo,dt,tT,ps,Bb,Hb,Vm;const Fr=class Fr{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:h,viewport:f,l10n:p}){k(this,dt);k(this,pl);k(this,bu,!1);k(this,Ms,null);k(this,Do,null);k(this,Ai,null);k(this,_r,new Map);k(this,Oo,!1);k(this,xu,!1);k(this,ml,!1);k(this,Yr,null);k(this,Si,null);k(this,hn,null);k(this,Ei,null);k(this,be);const g=[...u(Fr,Fo).values()];if(!Fr._initialized){Fr._initialized=!0;for(const v of g)v.initialize(p,e)}e.registerEditorTypes(g),C(this,be,e),this.pageIndex=t,this.div=n,C(this,pl,a),C(this,Ms,l),this.viewport=f,C(this,hn,h),this.drawLayer=c,this._structTree=s,u(this,be).addLayer(this)}get isEmpty(){return u(this,_r).size===0}get isInvisible(){return this.isEmpty&&u(this,be).getMode()===De.NONE}updateToolbar(e){u(this,be).updateToolbar(e)}updateMode(e=u(this,be).getMode()){switch(M(this,dt,Vm).call(this),e){case De.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case De.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case De.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of u(Fr,Fo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,hn))==null?void 0:t.div)}setEditingState(e){u(this,be).setEditingState(e)}addCommands(e){u(this,be).addCommands(e)}cleanUndoStack(e){u(this,be).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ms))==null||t.div.classList.toggle("disabled",!e)}async enable(){C(this,ml,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of u(this,_r).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(u(this,be).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!u(this,Ms)){C(this,ml,!1);return}const t=u(this,Ms).getEditableAnnotations();for(const n of t){if(n.hide(),u(this,be).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}C(this,ml,!1)}disable(){var s;C(this,xu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const a of u(this,_r).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(u(this,Ms)){const a=u(this,Ms).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(u(this,be).isDeletedAnnotationElement(c))continue;let h=t.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(c),h&&(u(this,be).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}M(this,dt,Vm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of u(Fr,Fo).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,xu,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ms))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,be).getActive()!==e&&u(this,be).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,hn))!=null&&e.div&&!u(this,Ei)){C(this,Ei,new AbortController);const t=u(this,be).combinedSignal(u(this,Ei));u(this,hn).div.addEventListener("pointerdown",M(this,dt,tT).bind(this),{signal:t}),u(this,hn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,hn))!=null&&e.div&&u(this,Ei)&&(u(this,Ei).abort(),C(this,Ei,null),u(this,hn).div.classList.remove("highlighting"))}enableClick(){if(u(this,Do))return;C(this,Do,new AbortController);const e=u(this,be).combinedSignal(u(this,Do));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,Do))==null||e.abort(),C(this,Do,null)}attach(e){u(this,_r).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,be).isDeletedAnnotationElement(t)&&u(this,be).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,_r).delete(e.id),(t=u(this,pl))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,xu)&&e.annotationElementId&&u(this,be).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,be).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,be).addDeletedAnnotationElement(e.annotationElementId),gt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,be).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,ml)),u(this,be).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Ai)&&(e._focusEventsAllowed=!1,C(this,Ai,setTimeout(()=>{C(this,Ai,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,be)._signal}),t.focus())},0))),e._structTreeParentId=(n=u(this,pl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return u(this,be).getId()}combinedSignal(e){return u(this,be).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,dt,ps))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,be).updateToolbar(e),u(this,be).updateMode(e);const{offsetX:n,offsetY:s}=M(this,dt,Hb).call(this),a=this.getNextId(),l=M(this,dt,Bb).call(this,{parent:this,id:a,x:n,y:s,uiManager:u(this,be),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=u(Fr,Fo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,be)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),a=M(this,dt,Bb).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:u(this,be),isCentered:t,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(M(this,dt,Hb).call(this),!0)}setSelected(e){u(this,be).setSelected(e)}toggleSelected(e){u(this,be).toggleSelected(e)}unselect(e){u(this,be).unselect(e)}pointerup(e){var n;const{isMac:t}=En.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,Oo)&&(C(this,Oo,!1),!((n=u(this,dt,ps))!=null&&n.isDrawer&&u(this,dt,ps).supportMultipleDrawings))){if(!u(this,bu)){C(this,bu,!0);return}if(u(this,be).getMode()===De.STAMP){u(this,be).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var s;if(u(this,be).getMode()===De.HIGHLIGHT&&this.enableTextSelection(),u(this,Oo)){C(this,Oo,!1);return}const{isMac:t}=En.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(C(this,Oo,!0),(s=u(this,dt,ps))!=null&&s.isDrawer){this.startDrawingSession(e);return}const n=u(this,be).getActive();C(this,bu,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),u(this,Yr)){u(this,dt,ps).startDrawing(this,u(this,be),!1,e);return}u(this,be).setCurrentDrawingSession(this),C(this,Yr,new AbortController);const t=u(this,be).combinedSignal(u(this,Yr));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(C(this,Si,null),this.commitOrRemove())},{signal:t}),u(this,dt,ps).startDrawing(this,u(this,be),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&C(this,Si,t);return}u(this,Si)&&setTimeout(()=>{var t;(t=u(this,Si))==null||t.focus(),C(this,Si,null)},0)}endDrawingSession(e=!1){return u(this,Yr)?(u(this,be).setCurrentDrawingSession(null),u(this,Yr).abort(),C(this,Yr,null),C(this,Si,null),u(this,dt,ps).endDrawing(e)):null}findNewParent(e,t,n){const s=u(this,be).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return u(this,Yr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Yr)&&u(this,dt,ps).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,be).getActive())==null?void 0:e.parent)===this&&(u(this,be).commitOrRemove(),u(this,be).setActiveEditor(null)),u(this,Ai)&&(clearTimeout(u(this,Ai)),C(this,Ai,null));for(const n of u(this,_r).values())(t=u(this,pl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,u(this,_r).clear(),u(this,be).removeLayer(this)}render({viewport:e}){this.viewport=e,yl(this.div,e);for(const t of u(this,be).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,be).commitOrRemove(),M(this,dt,Vm).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,yl(this.div,{rotation:n}),t!==n)for(const s of u(this,_r).values())s.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,be).viewParameters.realScale}};pl=new WeakMap,bu=new WeakMap,Ms=new WeakMap,Do=new WeakMap,Ai=new WeakMap,_r=new WeakMap,Oo=new WeakMap,xu=new WeakMap,ml=new WeakMap,Yr=new WeakMap,Si=new WeakMap,hn=new WeakMap,Ei=new WeakMap,be=new WeakMap,Fo=new WeakMap,dt=new WeakSet,tT=function(e){u(this,be).unselectAll();const{target:t}=e;if(t===u(this,hn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,hn).div.contains(t)){const{isMac:n}=En.platform;if(e.button!==0||e.ctrlKey&&n)return;u(this,be).showAllEditors("highlight",!0,!0),u(this,hn).div.classList.add("free"),this.toggleDrawing(),ig.startHighlighting(this,u(this,be).direction==="ltr",{target:u(this,hn).div,x:e.x,y:e.y}),u(this,hn).div.addEventListener("pointerup",()=>{u(this,hn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,be)._signal}),e.preventDefault()}},ps=function(){return u(Fr,Fo).get(u(this,be).getMode())},Bb=function(e){const t=u(this,dt,ps);return t?new t.prototype.constructor(e):null},Hb=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+s),f=(a+c)/2-e,p=(l+h)/2-t,[g,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:v}},Vm=function(){for(const e of u(this,_r).values())e.isEmpty()&&e.remove()},Te(Fr,"_initialized",!1),k(Fr,Fo,new Map([xb,Ob,Fb,ig].map(e=>[e._editorType,e])));let zb=Fr;var qr,Rf,An,gl,Ig,nT,Os,Wb,rT,Vb;const ln=class ln{constructor({pageIndex:e}){k(this,Os);k(this,qr,null);k(this,Rf,0);k(this,An,new Map);k(this,gl,new Map);this.pageIndex=e}setParent(e){if(!u(this,qr)){C(this,qr,e);return}if(u(this,qr)!==e){if(u(this,An).size>0)for(const t of u(this,An).values())t.remove(),e.append(t);C(this,qr,e)}}static get _svgFactory(){return Be(this,"_svgFactory",new T0)}draw(e,t=!1,n=!1){const s=vn(this,Rf)._++,a=M(this,Os,Wb).call(this),l=ln._svgFactory.createElement("defs");a.append(l);const c=ln._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,gl).set(s,c);const f=n?M(this,Os,rT).call(this,l,h):null,p=ln._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(a,e),u(this,An).set(s,a),{id:s,clipPathId:`url(#${f})`}}drawOutline(e,t){const n=vn(this,Rf)._++,s=M(this,Os,Wb).call(this),a=ln._svgFactory.createElement("defs");s.append(a);const l=ln._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const g=ln._svgFactory.createElement("mask");a.append(g),h=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=ln._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=ln._svgFactory.createElement("use");g.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=ln._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,e),u(this,An).set(n,s),n}finalizeDraw(e,t){u(this,gl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var h;if(!t)return;const{root:n,bbox:s,rootClass:a,path:l}=t,c=typeof e=="number"?u(this,An).get(e):e;if(c){if(n&&M(this,Os,Vb).call(this,c,n),s&&M(h=ln,Ig,nT).call(h,c,s),a){const{classList:f}=c;for(const[p,g]of Object.entries(a))f.toggle(p,g)}if(l){const p=c.firstChild.firstChild;M(this,Os,Vb).call(this,p,l)}}}updateParent(e,t){if(t===this)return;const n=u(this,An).get(e);n&&(u(t,qr).append(n),u(this,An).delete(e),u(t,An).set(e,n))}remove(e){u(this,gl).delete(e),u(this,qr)!==null&&(u(this,An).get(e).remove(),u(this,An).delete(e))}destroy(){C(this,qr,null);for(const e of u(this,An).values())e.remove();u(this,An).clear(),u(this,gl).clear()}};qr=new WeakMap,Rf=new WeakMap,An=new WeakMap,gl=new WeakMap,Ig=new WeakSet,nT=function(e,[t,n,s,a]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*a}%`},Os=new WeakSet,Wb=function(){const e=ln._svgFactory.create(1,1,!0);return u(this,qr).append(e),e.setAttribute("aria-hidden",!0),e},rT=function(e,t){const n=ln._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const a=ln._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),s},Vb=function(e,t){for(const[n,s]of Object.entries(t))s===null?e.removeAttribute(n):e.setAttribute(n,s)},k(ln,Ig);let Ub=ln;globalThis.pdfjsTestingUtils={HighlightOutliner:Sb};ke.AbortException;ke.AnnotationEditorLayer;ke.AnnotationEditorParamsType;ke.AnnotationEditorType;ke.AnnotationEditorUIManager;ke.AnnotationLayer;ke.AnnotationMode;ke.ColorPicker;ke.DOMSVGFactory;ke.DrawLayer;ke.FeatureTest;var s2=ke.GlobalWorkerOptions;ke.ImageKind;ke.InvalidPDFException;ke.MissingPDFException;ke.OPS;ke.OutputScale;ke.PDFDataRangeTransport;ke.PDFDateString;ke.PDFWorker;ke.PasswordResponses;ke.PermissionFlag;ke.PixelsPerInch;ke.RenderingCancelledException;ke.TextLayer;ke.TouchManager;ke.UnexpectedResponseException;ke.Util;ke.VerbosityLevel;ke.XfaLayer;ke.build;ke.createValidAbsoluteUrl;ke.fetchData;var VE=ke.getDocument;ke.getFilenameFromUrl;ke.getPdfFilenameFromUrl;ke.getXfaPageViewport;ke.isDataScheme;ke.isPdfFile;ke.noContextMenu;ke.normalizeUnicode;ke.setLayerDimensions;ke.shadow;ke.stopEvent;var i2=ke.version;/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sT=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=S.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...c},h)=>S.createElement("svg",{ref:h,...a2,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:sT("lucide",s),...c},[...l.map(([f,p])=>S.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=(i,e)=>{const t=S.forwardRef(({className:n,...s},a)=>S.createElement(l2,{ref:a,iconNode:e,className:sT(`lucide-${o2(i)}`,n),...s}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u2=ur("Check",c2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],h2=ur("ChevronRight",d2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],p2=ur("ChevronsUpDown",f2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g2=ur("Circle",m2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y2=ur("EyeOff",v2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b2=ur("Eye",w2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A2=ur("LayoutDashboard",x2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],E2=ur("LayoutList",S2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],C2=ur("LogOut",_2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],R2=ur("PanelLeft",T2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],k2=ur("ReceiptText",P2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N2=ur("Settings",M2);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iT=ur("X",I2),L2=1,D2=1e6;let hw=0;function O2(){return hw=(hw+1)%Number.MAX_SAFE_INTEGER,hw.toString()}const fw=new Map,GE=i=>{if(fw.has(i))return;const e=setTimeout(()=>{fw.delete(i),Vd({type:"REMOVE_TOAST",toastId:i})},D2);fw.set(i,e)},F2=(i,e)=>{switch(e.type){case"ADD_TOAST":return{...i,toasts:[e.toast,...i.toasts].slice(0,L2)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?GE(t):i.toasts.forEach(n=>{GE(n.id)}),{...i,toasts:i.toasts.map(n=>n.id===t||t===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(t=>t.id!==e.toastId)}}},Gm=[];let Xm={toasts:[]};function Vd(i){Xm=F2(Xm,i),Gm.forEach(e=>{e(Xm)})}function j2({...i}){const e=O2(),t=s=>Vd({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Vd({type:"DISMISS_TOAST",toastId:e});return Vd({type:"ADD_TOAST",toast:{...i,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:t}}function oT(){const[i,e]=S.useState(Xm);return S.useEffect(()=>(Gm.push(e),()=>{const t=Gm.indexOf(e);t>-1&&Gm.splice(t,1)}),[i]),{...i,toast:j2,dismiss:t=>Vd({type:"DISMISS_TOAST",toastId:t})}}var ag=S.forwardRef((i,e)=>{const{children:t,...n}=i,s=S.Children.toArray(t),a=s.find(z2);if(a){const l=a.props.children,c=s.map(h=>h===a?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:h);return T.jsx(Gb,{...n,ref:e,children:S.isValidElement(l)?S.cloneElement(l,void 0,c):null})}return T.jsx(Gb,{...n,ref:e,children:t})});ag.displayName="Slot";var Gb=S.forwardRef((i,e)=>{const{children:t,...n}=i;if(S.isValidElement(t)){const s=H2(t),a=B2(n,t.props);return t.type!==S.Fragment&&(a.ref=e?If(e,s):s),S.cloneElement(t,a)}return S.Children.count(t)>1?S.Children.only(null):null});Gb.displayName="SlotClone";var $2=({children:i})=>T.jsx(T.Fragment,{children:i});function z2(i){return S.isValidElement(i)&&i.type===$2}function B2(i,e){const t={...e};for(const n in e){const s=i[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...c)=>{a(...c),s(...c)}:s&&(t[n]=s):n==="style"?t[n]={...s,...a}:n==="className"&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...i,...t}}function H2(i){var n,s;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function U2(i){const e=i+"CollectionProvider",[t,n]=rs(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:b,children:x}=w,E=Sn.useRef(null),_=Sn.useRef(new Map).current;return T.jsx(s,{scope:b,itemMap:_,collectionRef:E,children:x})};l.displayName=e;const c=i+"CollectionSlot",h=Sn.forwardRef((w,b)=>{const{scope:x,children:E}=w,_=a(c,x),R=rt(b,_.collectionRef);return T.jsx(ag,{ref:R,children:E})});h.displayName=c;const f=i+"CollectionItemSlot",p="data-radix-collection-item",g=Sn.forwardRef((w,b)=>{const{scope:x,children:E,..._}=w,R=Sn.useRef(null),N=rt(b,R),I=a(f,x);return Sn.useEffect(()=>(I.itemMap.set(R,{ref:R,..._}),()=>void I.itemMap.delete(R))),T.jsx(ag,{[p]:"",ref:N,children:E})});g.displayName=f;function v(w){const b=a(i+"CollectionConsumer",w);return Sn.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((I,D)=>_.indexOf(I.ref.current)-_.indexOf(D.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:g},v,n]}var W2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],js=W2.reduce((i,e)=>{const t=S.forwardRef((n,s)=>{const{asChild:a,...l}=n,c=a?ag:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(c,{...l,ref:s})});return t.displayName=`Primitive.${e}`,{...i,[e]:t}},{});function aT(i,e){i&&Nf.flushSync(()=>i.dispatchEvent(e))}function lT(i,e=globalThis==null?void 0:globalThis.document){const t=Gt(i);S.useEffect(()=>{const n=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var V2="DismissableLayer",Xb="dismissableLayer.update",G2="dismissableLayer.pointerDownOutside",X2="dismissableLayer.focusOutside",XE,cT=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uT=S.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=i,f=S.useContext(cT),[p,g]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),b=rt(e,O=>g(O)),x=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(E),R=p?x.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,I=R>=_,D=Y2(O=>{const W=O.target,Y=[...f.branches].some(te=>te.contains(W));!I||Y||(s==null||s(O),l==null||l(O),O.defaultPrevented||c==null||c())},v),z=q2(O=>{const W=O.target;[...f.branches].some(te=>te.contains(W))||(a==null||a(O),l==null||l(O),O.defaultPrevented||c==null||c())},v);return lT(O=>{R===f.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(XE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),KE(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=XE)}},[p,v,t,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),KE())},[p,f]),S.useEffect(()=>{const O=()=>w({});return document.addEventListener(Xb,O),()=>document.removeEventListener(Xb,O)},[]),T.jsx(js.div,{...h,ref:b,style:{pointerEvents:N?I?"auto":"none":void 0,...i.style},onFocusCapture:xe(i.onFocusCapture,z.onFocusCapture),onBlurCapture:xe(i.onBlurCapture,z.onBlurCapture),onPointerDownCapture:xe(i.onPointerDownCapture,D.onPointerDownCapture)})});uT.displayName=V2;var K2="DismissableLayerBranch",dT=S.forwardRef((i,e)=>{const t=S.useContext(cT),n=S.useRef(null),s=rt(e,n);return S.useEffect(()=>{const a=n.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),T.jsx(js.div,{...i,ref:s})});dT.displayName=K2;function Y2(i,e=globalThis==null?void 0:globalThis.document){const t=Gt(i),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let h=function(){hT(G2,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function q2(i,e=globalThis==null?void 0:globalThis.document){const t=Gt(i),n=S.useRef(!1);return S.useEffect(()=>{const s=a=>{a.target&&!n.current&&hT(X2,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KE(){const i=new CustomEvent(Xb);document.dispatchEvent(i)}function hT(i,e,t,{discrete:n}){const s=t.originalEvent.target,a=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(i,e,{once:!0}),n?aT(s,a):s.dispatchEvent(a)}var Q2=uT,J2=dT,Z2="Portal",fT=S.forwardRef((i,e)=>{var c;const{container:t,...n}=i,[s,a]=S.useState(!1);Jr(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?z1.createPortal(T.jsx(js.div,{...n,ref:e}),l):null});fT.displayName=Z2;function eF(i,e){return S.useReducer((t,n)=>e[t][n]??t,i)}var ss=i=>{const{present:e,children:t}=i,n=tF(e),s=typeof t=="function"?t({present:n.isPresent}):S.Children.only(t),a=rt(n.ref,nF(s));return typeof t=="function"||n.isPresent?S.cloneElement(s,{ref:a}):null};ss.displayName="Presence";function tF(i){const[e,t]=S.useState(),n=S.useRef({}),s=S.useRef(i),a=S.useRef("none"),l=i?"mounted":"unmounted",[c,h]=eF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=om(n.current);a.current=c==="mounted"?f:"none"},[c]),Jr(()=>{const f=n.current,p=s.current;if(p!==i){const v=a.current,w=om(f);i?h("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,h]),Jr(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=w=>{const x=om(n.current).includes(w.animationName);if(w.target===e&&x&&(h("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},v=w=>{w.target===e&&(a.current=om(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{f&&(n.current=getComputedStyle(f)),t(f)},[])}}function om(i){return(i==null?void 0:i.animationName)||"none"}function nF(i){var n,s;let e=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var rF="VisuallyHidden",P0=S.forwardRef((i,e)=>T.jsx(js.span,{...i,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}));P0.displayName=rF;var k0="ToastProvider",[M0,sF,iF]=U2("Toast"),[pT,FB]=rs("Toast",[iF]),[oF,Vg]=pT(k0),mT=i=>{const{__scopeToast:e,label:t="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=i,[c,h]=S.useState(null),[f,p]=S.useState(0),g=S.useRef(!1),v=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${k0}\`. Expected non-empty \`string\`.`),T.jsx(M0.Provider,{scope:e,children:T.jsx(oF,{scope:e,label:t,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:f,viewport:c,onViewportChange:h,onToastAdd:S.useCallback(()=>p(w=>w+1),[]),onToastRemove:S.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:l})})};mT.displayName=k0;var gT="ToastViewport",aF=["F8"],Kb="toast.viewportPause",Yb="toast.viewportResume",vT=S.forwardRef((i,e)=>{const{__scopeToast:t,hotkey:n=aF,label:s="Notifications ({hotkey})",...a}=i,l=Vg(gT,t),c=sF(t),h=S.useRef(null),f=S.useRef(null),p=S.useRef(null),g=S.useRef(null),v=rt(e,g,l.onViewportChange),w=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=l.toastCount>0;S.useEffect(()=>{const E=_=>{var N;n.length!==0&&n.every(I=>_[I]||_.code===I)&&((N=g.current)==null||N.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n]),S.useEffect(()=>{const E=h.current,_=g.current;if(b&&E&&_){const R=()=>{if(!l.isClosePausedRef.current){const z=new CustomEvent(Kb);_.dispatchEvent(z),l.isClosePausedRef.current=!0}},N=()=>{if(l.isClosePausedRef.current){const z=new CustomEvent(Yb);_.dispatchEvent(z),l.isClosePausedRef.current=!1}},I=z=>{!E.contains(z.relatedTarget)&&N()},D=()=>{E.contains(document.activeElement)||N()};return E.addEventListener("focusin",R),E.addEventListener("focusout",I),E.addEventListener("pointermove",R),E.addEventListener("pointerleave",D),window.addEventListener("blur",R),window.addEventListener("focus",N),()=>{E.removeEventListener("focusin",R),E.removeEventListener("focusout",I),E.removeEventListener("pointermove",R),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",R),window.removeEventListener("focus",N)}}},[b,l.isClosePausedRef]);const x=S.useCallback(({tabbingDirection:E})=>{const R=c().map(N=>{const I=N.ref.current,D=[I,...bF(I)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?R.reverse():R).flat()},[c]);return S.useEffect(()=>{const E=g.current;if(E){const _=R=>{var D,z,O;const N=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!N){const W=document.activeElement,Y=R.shiftKey;if(R.target===E&&Y){(D=f.current)==null||D.focus();return}const J=x({tabbingDirection:Y?"backwards":"forwards"}),oe=J.findIndex(q=>q===W);pw(J.slice(oe+1))?R.preventDefault():Y?(z=f.current)==null||z.focus():(O=p.current)==null||O.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[c,x]),T.jsxs(J2,{ref:h,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&T.jsx(qb,{ref:f,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"forwards"});pw(E)}}),T.jsx(M0.Slot,{scope:t,children:T.jsx(js.ol,{tabIndex:-1,...a,ref:v})}),b&&T.jsx(qb,{ref:p,onFocusFromOutsideViewport:()=>{const E=x({tabbingDirection:"backwards"});pw(E)}})]})});vT.displayName=gT;var yT="ToastFocusProxy",qb=S.forwardRef((i,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:n,...s}=i,a=Vg(yT,t);return T.jsx(P0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var f;const c=l.relatedTarget;!((f=a.viewport)!=null&&f.contains(c))&&n()}})});qb.displayName=yT;var Gg="Toast",lF="toast.swipeStart",cF="toast.swipeMove",uF="toast.swipeCancel",dF="toast.swipeEnd",wT=S.forwardRef((i,e)=>{const{forceMount:t,open:n,defaultOpen:s,onOpenChange:a,...l}=i,[c=!0,h]=Tu({prop:n,defaultProp:s,onChange:a});return T.jsx(ss,{present:t||c,children:T.jsx(pF,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:Gt(i.onPause),onResume:Gt(i.onResume),onSwipeStart:xe(i.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(i.onSwipeMove,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:xe(i.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(i.onSwipeEnd,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),h(!1)})})})});wT.displayName=Gg;var[hF,fF]=pT(Gg,{onClose(){}}),pF=S.forwardRef((i,e)=>{const{__scopeToast:t,type:n="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:f,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:w,...b}=i,x=Vg(Gg,t),[E,_]=S.useState(null),R=rt(e,q=>_(q)),N=S.useRef(null),I=S.useRef(null),D=s||x.duration,z=S.useRef(0),O=S.useRef(D),W=S.useRef(0),{onToastAdd:Y,onToastRemove:te}=x,se=Gt(()=>{var ve;(E==null?void 0:E.contains(document.activeElement))&&((ve=x.viewport)==null||ve.focus()),l()}),J=S.useCallback(q=>{!q||q===1/0||(window.clearTimeout(W.current),z.current=new Date().getTime(),W.current=window.setTimeout(se,q))},[se]);S.useEffect(()=>{const q=x.viewport;if(q){const ve=()=>{J(O.current),f==null||f()},K=()=>{const Z=new Date().getTime()-z.current;O.current=O.current-Z,window.clearTimeout(W.current),h==null||h()};return q.addEventListener(Kb,K),q.addEventListener(Yb,ve),()=>{q.removeEventListener(Kb,K),q.removeEventListener(Yb,ve)}}},[x.viewport,D,h,f,J]),S.useEffect(()=>{a&&!x.isClosePausedRef.current&&J(D)},[a,D,x.isClosePausedRef,J]),S.useEffect(()=>(Y(),()=>te()),[Y,te]);const oe=S.useMemo(()=>E?CT(E):null,[E]);return x.viewport?T.jsxs(T.Fragment,{children:[oe&&T.jsx(mF,{__scopeToast:t,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),T.jsx(hF,{scope:t,onClose:se,children:Nf.createPortal(T.jsx(M0.ItemSlot,{scope:t,children:T.jsx(Q2,{asChild:!0,onEscapeKeyDown:xe(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||se(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(js.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:R,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:xe(i.onKeyDown,q=>{q.key==="Escape"&&(c==null||c(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,se()))}),onPointerDown:xe(i.onPointerDown,q=>{q.button===0&&(N.current={x:q.clientX,y:q.clientY})}),onPointerMove:xe(i.onPointerMove,q=>{if(!N.current)return;const ve=q.clientX-N.current.x,K=q.clientY-N.current.y,Z=!!I.current,V=["left","right"].includes(x.swipeDirection),X=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=V?X(0,ve):0,F=V?0:X(0,K),G=q.pointerType==="touch"?10:2,le={x:Q,y:F},Ee={originalEvent:q,delta:le};Z?(I.current=le,am(cF,g,Ee,{discrete:!1})):YE(le,x.swipeDirection,G)?(I.current=le,am(lF,p,Ee,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ve)>G||Math.abs(K)>G)&&(N.current=null)}),onPointerUp:xe(i.onPointerUp,q=>{const ve=I.current,K=q.target;if(K.hasPointerCapture(q.pointerId)&&K.releasePointerCapture(q.pointerId),I.current=null,N.current=null,ve){const Z=q.currentTarget,V={originalEvent:q,delta:ve};YE(ve,x.swipeDirection,x.swipeThreshold)?am(dF,w,V,{discrete:!0}):am(uF,v,V,{discrete:!0}),Z.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),mF=i=>{const{__scopeToast:e,children:t,...n}=i,s=Vg(Gg,e),[a,l]=S.useState(!1),[c,h]=S.useState(!1);return yF(()=>l(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:T.jsx(fT,{asChild:!0,children:T.jsx(P0,{...n,children:a&&T.jsxs(T.Fragment,{children:[s.label," ",t]})})})},gF="ToastTitle",bT=S.forwardRef((i,e)=>{const{__scopeToast:t,...n}=i;return T.jsx(js.div,{...n,ref:e})});bT.displayName=gF;var vF="ToastDescription",xT=S.forwardRef((i,e)=>{const{__scopeToast:t,...n}=i;return T.jsx(js.div,{...n,ref:e})});xT.displayName=vF;var AT="ToastAction",ST=S.forwardRef((i,e)=>{const{altText:t,...n}=i;return t.trim()?T.jsx(_T,{altText:t,asChild:!0,children:T.jsx(N0,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${AT}\`. Expected non-empty \`string\`.`),null)});ST.displayName=AT;var ET="ToastClose",N0=S.forwardRef((i,e)=>{const{__scopeToast:t,...n}=i,s=fF(ET,t);return T.jsx(_T,{asChild:!0,children:T.jsx(js.button,{type:"button",...n,ref:e,onClick:xe(i.onClick,s.onClose)})})});N0.displayName=ET;var _T=S.forwardRef((i,e)=>{const{__scopeToast:t,altText:n,...s}=i;return T.jsx(js.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function CT(i){const e=[];return Array.from(i.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wF(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=n.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...CT(n))}}),e}function am(i,e,t,{discrete:n}){const s=t.originalEvent.currentTarget,a=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(i,e,{once:!0}),n?aT(s,a):s.dispatchEvent(a)}var YE=(i,e,t=0)=>{const n=Math.abs(i.x),s=Math.abs(i.y),a=n>s;return e==="left"||e==="right"?a&&n>t:!a&&s>t};function yF(i=()=>{}){const e=Gt(i);Jr(()=>{let t=0,n=0;return t=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}},[e])}function wF(i){return i.nodeType===i.ELEMENT_NODE}function bF(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function pw(i){const e=document.activeElement;return i.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var xF=mT,TT=vT,RT=wT,PT=bT,kT=xT,MT=ST,NT=N0;const AF=xF,IT=S.forwardRef(({className:i,...e},t)=>T.jsx(TT,{ref:t,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...e}));IT.displayName=TT.displayName;const SF=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LT=S.forwardRef(({className:i,variant:e,...t},n)=>T.jsx(RT,{ref:n,className:pe(SF({variant:e}),i),...t}));LT.displayName=RT.displayName;const DT=S.forwardRef(({className:i,...e},t)=>T.jsx(MT,{ref:t,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...e}));DT.displayName=MT.displayName;const OT=S.forwardRef(({className:i,...e},t)=>T.jsx(NT,{ref:t,className:pe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...e,children:T.jsx(iT,{className:"h-4 w-4"})}));OT.displayName=NT.displayName;const FT=S.forwardRef(({className:i,...e},t)=>T.jsx(PT,{ref:t,className:pe("text-sm font-semibold [&+div]:text-xs",i),...e}));FT.displayName=PT.displayName;const jT=S.forwardRef(({className:i,...e},t)=>T.jsx(kT,{ref:t,className:pe("text-sm opacity-90",i),...e}));jT.displayName=kT.displayName;s2.workerSrc=`//unpkg.com/pdfjs-dist@${i2}/build/pdf.worker.min.mjs`;const yr={isText:i=>i.trim().length>0,filterLinesWithText:i=>i.filter(yr.isText),excludeLinesThatInclude:(i,e)=>i.filter(t=>!t.includes(e)),excludeLinesThatStartWith:(i,e)=>i.filter(t=>!t.startsWith(e))},EF=i=>{const e=i.split(`
`);let t=yr.filterLinesWithText(e);t=yr.excludeLinesThatStartWith(t,"Page"),t=yr.excludeLinesThatStartWith(t,"Date Amount"),t=yr.excludeLinesThatStartWith(t,"(INR) (INR)"),t=yr.excludeLinesThatStartWith(t,"PAN:"),t=t.filter((p,g)=>g<=2||![e[0],e[1],e[2]].includes(p)),t.forEach((p,g)=>{p.startsWith("***")&&(t[g-1]+=" "+t[g])}),t=yr.excludeLinesThatStartWith(t,"***");let n=t.findIndex(p=>p.startsWith("Total"))+2,s=!1,a=!0,l;for(;n<=t.length-1;)s?t[n].startsWith("Folio No:")&&!t[n+1].includes("Folio No:")?s=!1:(t[l]=t[l]+" "+t[n],t[n]=""):(t[n].startsWith("Closing")||a)&&(a=!0,t[n].includes("-")&&(s=!0,l=n,a=!1)),n++;t=yr.filterLinesWithText(t),t.forEach((p,g)=>{p.includes("( Non - Demat )")&&(t[g]=p.split("( Non - Demat )").join("").trim())}),t.forEach((p,g)=>{p.includes("ISIN :")&&(t[g]=p.split("-")[1])}),t.forEach((p,g)=>{(p.includes("formerly")||p.includes("Formerly"))&&(t[g]=p.split("(")[0].trim())}),t=t.filter((p,g)=>!(t[g-1]&&t[g+1]&&(p.includes("Nominee 1:")||t[g-1].includes("Nominee 1:")||t[g+1].includes("Nominee 1:"))));let c=[],h=!0;for(let p=0;p<t.length;p++)h&&c.push(t[p]),t[p].includes("Market Value on")&&(h=!1),t[p].includes("Closing Unit Balance")&&(c.push(t[p]),h=!0);c=yr.excludeLinesThatInclude(c,"Market Value on"),c=c.filter((p,g)=>!(c[g-1]&&c[g+2]&&c[g-1].includes("Closing Unit Balance")&&c[g+2].includes("Folio No: "))),c=yr.excludeLinesThatInclude(c,"Closing Unit Balance");let f=!0;for(;f;){f=!1;let p=[];c.forEach((g,v)=>{v>3&&g.length>11&&g[2]==="-"&&g[6]==="-"&&g[11]===" "&&c[v+1]&&(c[v+1].length>11&&c[v+1][2]==="-"&&c[v+1][6]==="-"&&c[v+1][11]===" "||c[v+2]&&c[v+2].startsWith("Folio No: ")||(f=!0,c[v]=c[v]+" "+c[v+1],p.push(v+1)))}),c=c.filter((g,v)=>!p.includes(v))}return c.join(`
`)},_F=i=>{const e=i.split(`
`);return{meta:PF(e),holder:RF(e),summary:TF(e),transactions:CF(e)}},Qb=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cc=i=>Math.round((Number(i.replace(",",""))+Number.EPSILON)*100)/100,mw=i=>Math.round((Number(i.replace(",",""))+Number.EPSILON)*1e4)/1e4,qE=i=>Math.round((Number(i.replace(",",""))+Number.EPSILON)*1e3)/1e3,Jd=(i,e)=>i.indexOf(i.filter(t=>t.startsWith(e))[0]),CF=i=>{const e=Jd(i,"Total");let t=i.filter((l,c)=>c>e+1);t.forEach((l,c)=>{if(l.includes("*** Stamp Duty ***")){let h=mw(l.split(" ")[1]),f=mw(t[c-1].split(" ")[1]);t[c-1]=t[c-1].split(" "),t[c-1][1]=(f+h).toFixed(2),t[c-1]=t[c-1].join(" ")}}),t=t.filter(l=>!l.includes("***")),t.forEach((l,c)=>{l.startsWith("Folio No:")&&(t[c-1]+=" "+l)}),t=t.filter(l=>!l.startsWith("Folio No:"));let n,s,a;return t.forEach((l,c)=>{if(l.includes("Folio No:"))for([n,a]=l.split(" Folio No: "),s=n.split("Direct").join("").split("DIRECT").join("").split("Growth").join("").split("GROWTH").join("").split("Plan").join("").split("PLAN").join("").split("Option").join("").split("OPTION").join("").trim();s.charAt(s.length-1)==="-"||s.charAt(s.length-1)===" ";)s=s.slice(0,-1);else if(l[2]==="-"){let h,f,p=l.split(" ")[1],g=l.split(" ")[3],v="Investment";p[0]==="("?(h=cc(p.slice(1,-1)),v="Redemption"):h=cc(p),g[0]==="("?f=qE(g.slice(1,-1)):f=qE(g),a=a.split("/")[0].trim(),t[c]={mfNameFull:n,mfName:s,folio:a,date:new Date(Number(l.split(" ")[0].split("-")[2]),Qb.indexOf(l.split(" ")[0].split("-")[1]),Number(l.split(" ")[0].split("-")[0])),amount:h,type:v,price:mw(l.split(" ")[2]),units:f,content:l,key:c}}}),t=t.filter(l=>typeof l!="string"),t},TF=i=>{const e=Jd(i,"Total"),t=Jd(i,"PORTFOLIO SUMMARY");return{invested:cc(i[e].split(" ")[1]),currentValue:cc(i[e].split(" ")[2]),mutualFunds:i.slice(t+1,e).map(n=>{const s=n.trim().split(" ");return{fundHouse:s.slice(0,s.length-2).join(" "),invested:cc(s[s.length-2]),currentValue:cc(s[s.length-1])}})}},RF=i=>{const e=Jd(i,"Mobile"),t=Jd(i,"Email Id");return{name:i[4],email:i[t].split(" ")[2],mobile:i[e].split(" ")[1],address:i.slice(t+2,e).join(`
`)}},PF=i=>{const e=i[0].split(" ")[0].split("-")[1],t=i[2].split(" ")[0].split("-"),n=i[2].split(" ")[2].split("-");return{exportedAt:new Date(+("20"+e.substr(4,2)),Number(e.substr(2,2)-1),Number(e.substr(0,2)),Number(e.substr(6,2)),Number(e.substr(8,2)),Number(e.substr(10,2))),from:new Date(Number(t[2]),Qb.indexOf(t[1]),Number(t[0])),to:new Date(Number(n[2]),Qb.indexOf(n[1]),Number(n[0]))}};function kF(){var W,Y,te,se;const{theme:i,setTheme:e}=uL(),[t,n]=S.useState(null),[s,a]=S.useState(""),[l,c]=S.useState(""),[h,f]=S.useState(!1),[p,g]=S.useState(null),[v,w]=S.useState(!1),[b,x]=S.useState(!1),[E,_]=S.useState(!1),{toast:R}=oT(),N=Dg();S.useEffect(()=>{const J=localStorage.getItem("investmentsData");if(J){x(!0);const oe=JSON.parse(J);g(oe)}},[]);const I=J=>{e(J?"dark":"light")},D=async J=>{try{const oe=URL.createObjectURL(J);await VE({url:oe}).promise,w(!1),a(""),URL.revokeObjectURL(oe)}catch(oe){oe.name==="PasswordException"&&(w(!0),a("")),URL.revokeObjectURL(blobUrl)}},z=J=>{var q;const oe=(q=J.target.files)==null?void 0:q[0];oe&&(oe.type==="application/pdf"?(n(oe),c(""),D(oe)):(alert("Please upload a PDF file"),J.target.value=""))},O=async()=>{if(t)try{const J=URL.createObjectURL(t),q=await VE({url:J,password:s}).promise,ve=q.numPages;let K="";for(let Q=1;Q<=ve;Q++)(await(await q.getPage(Q)).getTextContent()).items.forEach(le=>{le.hasEOL?yr.isText(le.str)?K+=le.str+`
`:K+=`
`:yr.isText(le.str)&&(K+=le.str+" ")}),K+=`
`;K=K.split(`
`).map(Q=>Q.trim()).join(`
`);const Z=EF(K),V=_F(Z);g(V),localStorage.setItem("investmentsData",JSON.stringify(V)),_(!0),c(""),URL.revokeObjectURL(J),n(null),a(""),w(!1),x(!0);const X=document.querySelector('input[type="file"]');X&&(X.value=""),R({title:"Success!",description:`${V.transactions.length} transactions imported successfully.`,action:T.jsx(DT,{altText:"View transactions",onClick:()=>N("/transactions"),children:"View"})})}catch(J){console.log(J),J.name==="PasswordException"?c("Invalid password. Please try again."):c("An error occurred while processing the file."),R({variant:"destructive",title:"Error",description:J.name==="PasswordException"?"Invalid password. Please try again.":"An error occurred while processing the file."})}};return T.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:T.jsxs("div",{className:"min-h-[100vh] flex-1 rounded-xl md:min-h-min",children:[T.jsx(Cd,{text:"Theme"}),T.jsx("div",{className:"p-4 pt-0"}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(i_,{id:"dark-mode",checked:i==="dark",onCheckedChange:I}),T.jsx(Mw,{htmlFor:"dark-mode",children:"Dark Mode"})]}),T.jsxs("div",{className:"mt-8",children:[T.jsxs("div",{className:"flex items-center justify-between max-w-sm",children:[T.jsx(Cd,{text:"CAS Import"}),b&&T.jsx(Cd,{text:`Last imported: ${(W=p==null?void 0:p.transactions)==null?void 0:W.length} transactions`,className:"text-muted-foreground"})]}),T.jsx("div",{className:"p-4 pt-0"}),T.jsxs("div",{className:"flex flex-col gap-4",children:[b&&T.jsx("div",{className:"rounded-lg border p-4 max-w-sm",children:T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx(Cd,{text:"Current Data"}),T.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.jsxs("div",{children:["From: ",new Date((Y=p==null?void 0:p.meta)==null?void 0:Y.from).toLocaleDateString()]}),T.jsxs("div",{children:["To: ",new Date((te=p==null?void 0:p.meta)==null?void 0:te.to).toLocaleDateString()]}),T.jsxs("div",{children:["Exported: ",new Date((se=p==null?void 0:p.meta)==null?void 0:se.exportedAt).toLocaleString()]})]})]})}),T.jsx(Jm,{type:"file",accept:".pdf,application/pdf",onChange:z,className:"max-w-sm"}),t&&T.jsxs(T.Fragment,{children:[v&&T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx(Mw,{htmlFor:"pdf-password",children:"PDF Password"}),T.jsxs("div",{className:"relative max-w-sm",children:[T.jsx(Jm,{id:"pdf-password",type:h?"text":"password",value:s,onChange:J=>a(J.target.value),placeholder:"Enter PDF password",className:"pr-10"}),T.jsx(Kd,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?T.jsx(y2,{className:"h-4 w-4"}):T.jsx(b2,{className:"h-4 w-4"})})]})]}),l&&T.jsx("span",{className:"text-sm text-red-500",children:l}),T.jsx(Kd,{onClick:O,className:"max-w-sm",disabled:v&&!s,children:b?"Update Data":"Import"})]})]})]})]})})}function MF(){return T.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[T.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[T.jsx("div",{className:"aspect-video rounded-xl bg-muted/50"}),T.jsx("div",{className:"aspect-video rounded-xl bg-muted/50"}),T.jsx("div",{className:"aspect-video rounded-xl bg-muted/50"})]}),T.jsx("div",{className:"min-h-[100vh] flex-1 rounded-xl bg-muted/50 md:min-h-min"})]})}const gw=768;function NF(){const[i,e]=S.useState(void 0);return S.useEffect(()=>{const t=window.matchMedia(`(max-width: ${gw-1}px)`),n=()=>{e(window.innerWidth<gw)};return t.addEventListener("change",n),e(window.innerWidth<gw),()=>t.removeEventListener("change",n)},[]),!!i}var IF="Separator",QE="horizontal",LF=["horizontal","vertical"],$T=S.forwardRef((i,e)=>{const{decorative:t,orientation:n=QE,...s}=i,a=DF(n)?n:QE,c=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return T.jsx(Qe.div,{"data-orientation":a,...c,...s,ref:e})});$T.displayName=IF;function DF(i){return LF.includes(i)}var zT=$T;const I0=S.forwardRef(({className:i,orientation:e="horizontal",decorative:t=!0,...n},s)=>T.jsx(zT,{ref:s,decorative:t,orientation:e,className:pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...n}));I0.displayName=zT.displayName;var OF=IN.useId||(()=>{}),FF=0;function vl(i){const[e,t]=S.useState(OF());return Jr(()=>{i||t(n=>n??String(FF++))},[i]),i||(e?`radix-${e}`:"")}var jF="DismissableLayer",Jb="dismissableLayer.update",$F="dismissableLayer.pointerDownOutside",zF="dismissableLayer.focusOutside",JE,BT=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xg=S.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=i,f=S.useContext(BT),[p,g]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),b=rt(e,O=>g(O)),x=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(E),R=p?x.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,I=R>=_,D=UF(O=>{const W=O.target,Y=[...f.branches].some(te=>te.contains(W));!I||Y||(s==null||s(O),l==null||l(O),O.defaultPrevented||c==null||c())},v),z=WF(O=>{const W=O.target;[...f.branches].some(te=>te.contains(W))||(a==null||a(O),l==null||l(O),O.defaultPrevented||c==null||c())},v);return lT(O=>{R===f.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),ZE(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=JE)}},[p,v,t,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),ZE())},[p,f]),S.useEffect(()=>{const O=()=>w({});return document.addEventListener(Jb,O),()=>document.removeEventListener(Jb,O)},[]),T.jsx(Qe.div,{...h,ref:b,style:{pointerEvents:N?I?"auto":"none":void 0,...i.style},onFocusCapture:xe(i.onFocusCapture,z.onFocusCapture),onBlurCapture:xe(i.onBlurCapture,z.onBlurCapture),onPointerDownCapture:xe(i.onPointerDownCapture,D.onPointerDownCapture)})});Xg.displayName=jF;var BF="DismissableLayerBranch",HF=S.forwardRef((i,e)=>{const t=S.useContext(BT),n=S.useRef(null),s=rt(e,n);return S.useEffect(()=>{const a=n.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),T.jsx(Qe.div,{...i,ref:s})});HF.displayName=BF;function UF(i,e=globalThis==null?void 0:globalThis.document){const t=Gt(i),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let h=function(){HT($F,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function WF(i,e=globalThis==null?void 0:globalThis.document){const t=Gt(i),n=S.useRef(!1);return S.useEffect(()=>{const s=a=>{a.target&&!n.current&&HT(zF,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZE(){const i=new CustomEvent(Jb);document.dispatchEvent(i)}function HT(i,e,t,{discrete:n}){const s=t.originalEvent.target,a=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(i,e,{once:!0}),n?U1(s,a):s.dispatchEvent(a)}var vw="focusScope.autoFocusOnMount",yw="focusScope.autoFocusOnUnmount",e1={bubbles:!1,cancelable:!0},VF="FocusScope",L0=S.forwardRef((i,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=i,[c,h]=S.useState(null),f=Gt(s),p=Gt(a),g=S.useRef(null),v=rt(e,x=>h(x)),w=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(N){if(w.paused||!c)return;const I=N.target;c.contains(I)?g.current=I:ro(g.current,{select:!0})},E=function(N){if(w.paused||!c)return;const I=N.relatedTarget;I!==null&&(c.contains(I)||ro(g.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const D of N)D.removedNodes.length>0&&ro(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const R=new MutationObserver(_);return c&&R.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),R.disconnect()}}},[n,c,w.paused]),S.useEffect(()=>{if(c){n1.add(w);const x=document.activeElement;if(!c.contains(x)){const _=new CustomEvent(vw,e1);c.addEventListener(vw,f),c.dispatchEvent(_),_.defaultPrevented||(GF(QF(UT(c)),{select:!0}),document.activeElement===x&&ro(c))}return()=>{c.removeEventListener(vw,f),setTimeout(()=>{const _=new CustomEvent(yw,e1);c.addEventListener(yw,p),c.dispatchEvent(_),_.defaultPrevented||ro(x??document.body,{select:!0}),c.removeEventListener(yw,p),n1.remove(w)},0)}}},[c,f,p,w]);const b=S.useCallback(x=>{if(!t&&!n||w.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(E&&_){const R=x.currentTarget,[N,I]=XF(R);N&&I?!x.shiftKey&&_===I?(x.preventDefault(),t&&ro(N,{select:!0})):x.shiftKey&&_===N&&(x.preventDefault(),t&&ro(I,{select:!0})):_===R&&x.preventDefault()}},[t,n,w.paused]);return T.jsx(Qe.div,{tabIndex:-1,...l,ref:v,onKeyDown:b})});L0.displayName=VF;function GF(i,{select:e=!1}={}){const t=document.activeElement;for(const n of i)if(ro(n,{select:e}),document.activeElement!==t)return}function XF(i){const e=UT(i),t=t1(e,i),n=t1(e.reverse(),i);return[t,n]}function UT(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function t1(i,e){for(const t of i)if(!KF(t,{upTo:e}))return t}function KF(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function YF(i){return i instanceof HTMLInputElement&&"select"in i}function ro(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&YF(i)&&e&&i.select()}}var n1=qF();function qF(){let i=[];return{add(e){const t=i[0];e!==t&&(t==null||t.pause()),i=r1(i,e),i.unshift(e)},remove(e){var t;i=r1(i,e),(t=i[0])==null||t.resume()}}}function r1(i,e){const t=[...i],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function QF(i){return i.filter(e=>e.tagName!=="A")}var JF="Portal",Kg=S.forwardRef((i,e)=>{var c;const{container:t,...n}=i,[s,a]=S.useState(!1);Jr(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?z1.createPortal(T.jsx(Qe.div,{...n,ref:e}),l):null});Kg.displayName=JF;var ww=0;function WT(){S.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??s1()),document.body.insertAdjacentElement("beforeend",i[1]??s1()),ww++,()=>{ww===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ww--}},[])}function s1(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var Ns=function(){return Ns=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ns.apply(this,arguments)};function VT(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}function ZF(i,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return i.concat(a||Array.prototype.slice.call(e))}var Km="right-scroll-bar-position",Ym="width-before-scroll-bar",ej="with-scroll-bars-hidden",tj="--removed-body-scroll-bar-size";function bw(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function nj(i,e){var t=S.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(n){var s=t.value;s!==n&&(t.value=n,t.callback(n,s))}}}})[0];return t.callback=e,t.facade}var rj=typeof window<"u"?S.useLayoutEffect:S.useEffect,i1=new WeakMap;function sj(i,e){var t=nj(null,function(n){return i.forEach(function(s){return bw(s,n)})});return rj(function(){var n=i1.get(t);if(n){var s=new Set(n),a=new Set(i),l=t.current;s.forEach(function(c){a.has(c)||bw(c,null)}),a.forEach(function(c){s.has(c)||bw(c,l)})}i1.set(t,i)},[i]),t}function ij(i){return i}function oj(i,e){e===void 0&&(e=ij);var t=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(a){var l=e(a,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var h=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(h)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return s}function aj(i){i===void 0&&(i={});var e=oj(null);return e.options=Ns({async:!0,ssr:!1},i),e}var GT=function(i){var e=i.sideCar,t=VT(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Ns({},t))};GT.isSideCarExport=!0;function lj(i,e){return i.useMedium(e),GT}var XT=aj(),xw=function(){},Yg=S.forwardRef(function(i,e){var t=S.useRef(null),n=S.useState({onScrollCapture:xw,onWheelCapture:xw,onTouchMoveCapture:xw}),s=n[0],a=n[1],l=i.forwardProps,c=i.children,h=i.className,f=i.removeScrollBar,p=i.enabled,g=i.shards,v=i.sideCar,w=i.noIsolation,b=i.inert,x=i.allowPinchZoom,E=i.as,_=E===void 0?"div":E,R=i.gapMode,N=VT(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,D=sj([t,e]),z=Ns(Ns({},N),s);return S.createElement(S.Fragment,null,p&&S.createElement(I,{sideCar:XT,removeScrollBar:f,shards:g,noIsolation:w,inert:b,setCallbacks:a,allowPinchZoom:!!x,lockRef:t,gapMode:R}),l?S.cloneElement(S.Children.only(c),Ns(Ns({},z),{ref:D})):S.createElement(_,Ns({},z,{className:h,ref:D}),c))});Yg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yg.classNames={fullWidth:Ym,zeroRight:Km};var cj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uj(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=cj();return e&&i.setAttribute("nonce",e),i}function dj(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function hj(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var fj=function(){var i=0,e=null;return{add:function(t){i==0&&(e=uj())&&(dj(e,t),hj(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pj=function(){var i=fj();return function(e,t){S.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},KT=function(){var i=pj(),e=function(t){var n=t.styles,s=t.dynamic;return i(n,s),null};return e},mj={left:0,top:0,right:0,gap:0},Aw=function(i){return parseInt(i||"",10)||0},gj=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],n=e[i==="padding"?"paddingTop":"marginTop"],s=e[i==="padding"?"paddingRight":"marginRight"];return[Aw(t),Aw(n),Aw(s)]},vj=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return mj;var e=gj(i),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},yj=KT(),mc="data-scroll-locked",wj=function(i,e,t,n){var s=i.left,a=i.top,l=i.right,c=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(ej,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Km,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ym,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ym," .").concat(Ym,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(tj,": ").concat(c,`px;
  }
`)},o1=function(){var i=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(i)?i:0},bj=function(){S.useEffect(function(){return document.body.setAttribute(mc,(o1()+1).toString()),function(){var i=o1()-1;i<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,i.toString())}},[])},xj=function(i){var e=i.noRelative,t=i.noImportant,n=i.gapMode,s=n===void 0?"margin":n;bj();var a=S.useMemo(function(){return vj(s)},[s]);return S.createElement(yj,{styles:wj(a,!e,s,t?"":"!important")})},Zb=!1;if(typeof window<"u")try{var lm=Object.defineProperty({},"passive",{get:function(){return Zb=!0,!0}});window.addEventListener("test",lm,lm),window.removeEventListener("test",lm,lm)}catch{Zb=!1}var Zl=Zb?{passive:!1}:!1,Aj=function(i){return i.tagName==="TEXTAREA"},YT=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Aj(i)&&t[e]==="visible")},Sj=function(i){return YT(i,"overflowY")},Ej=function(i){return YT(i,"overflowX")},a1=function(i,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=qT(i,n);if(s){var a=QT(i,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},_j=function(i){var e=i.scrollTop,t=i.scrollHeight,n=i.clientHeight;return[e,t,n]},Cj=function(i){var e=i.scrollLeft,t=i.scrollWidth,n=i.clientWidth;return[e,t,n]},qT=function(i,e){return i==="v"?Sj(e):Ej(e)},QT=function(i,e){return i==="v"?_j(e):Cj(e)},Tj=function(i,e){return i==="h"&&e==="rtl"?-1:1},Rj=function(i,e,t,n,s){var a=Tj(i,window.getComputedStyle(e).direction),l=a*n,c=t.target,h=e.contains(c),f=!1,p=l>0,g=0,v=0;do{var w=QT(i,c),b=w[0],x=w[1],E=w[2],_=x-E-a*b;(b||_)&&qT(i,c)&&(g+=_,v+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},cm=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},l1=function(i){return[i.deltaX,i.deltaY]},c1=function(i){return i&&"current"in i?i.current:i},Pj=function(i,e){return i[0]===e[0]&&i[1]===e[1]},kj=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},Mj=0,ec=[];function Nj(i){var e=S.useRef([]),t=S.useRef([0,0]),n=S.useRef(),s=S.useState(Mj++)[0],a=S.useState(KT)[0],l=S.useRef(i);S.useEffect(function(){l.current=i},[i]),S.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(s));var x=ZF([i.lockRef.current],(i.shards||[]).map(c1),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[i.inert,i.lockRef.current,i.shards]);var c=S.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var _=cm(x),R=t.current,N="deltaX"in x?x.deltaX:R[0]-_[0],I="deltaY"in x?x.deltaY:R[1]-_[1],D,z=x.target,O=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in x&&O==="h"&&z.type==="range")return!1;var W=a1(O,z);if(!W)return!0;if(W?D=O:(D=O==="v"?"h":"v",W=a1(O,z)),!W)return!1;if(!n.current&&"changedTouches"in x&&(N||I)&&(n.current=D),!D)return!0;var Y=n.current||D;return Rj(Y,E,x,Y==="h"?N:I)},[]),h=S.useCallback(function(x){var E=x;if(!(!ec.length||ec[ec.length-1]!==a)){var _="deltaY"in E?l1(E):cm(E),R=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&Pj(D.delta,_)})[0];if(R&&R.should){E.cancelable&&E.preventDefault();return}if(!R){var N=(l.current.shards||[]).map(c1).filter(Boolean).filter(function(D){return D.contains(E.target)}),I=N.length>0?c(E,N[0]):!l.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),f=S.useCallback(function(x,E,_,R){var N={name:x,delta:E,target:_,should:R,shadowParent:Ij(_)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(I){return I!==N})},1)},[]),p=S.useCallback(function(x){t.current=cm(x),n.current=void 0},[]),g=S.useCallback(function(x){f(x.type,l1(x),x.target,c(x,i.lockRef.current))},[]),v=S.useCallback(function(x){f(x.type,cm(x),x.target,c(x,i.lockRef.current))},[]);S.useEffect(function(){return ec.push(a),i.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Zl),document.addEventListener("touchmove",h,Zl),document.addEventListener("touchstart",p,Zl),function(){ec=ec.filter(function(x){return x!==a}),document.removeEventListener("wheel",h,Zl),document.removeEventListener("touchmove",h,Zl),document.removeEventListener("touchstart",p,Zl)}},[]);var w=i.removeScrollBar,b=i.inert;return S.createElement(S.Fragment,null,b?S.createElement(a,{styles:kj(s)}):null,w?S.createElement(xj,{gapMode:i.gapMode}):null)}function Ij(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const Lj=lj(XT,Nj);var D0=S.forwardRef(function(i,e){return S.createElement(Yg,Ns({},i,{ref:e,sideCar:Lj}))});D0.classNames=Yg.classNames;var Dj=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},tc=new WeakMap,um=new WeakMap,dm={},Sw=0,JT=function(i){return i&&(i.host||JT(i.parentNode))},Oj=function(i,e){return e.map(function(t){if(i.contains(t))return t;var n=JT(t);return n&&i.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},Fj=function(i,e,t,n){var s=Oj(e,Array.isArray(i)?i:[i]);dm[t]||(dm[t]=new WeakMap);var a=dm[t],l=[],c=new Set,h=new Set(s),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};s.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))p(v);else try{var w=v.getAttribute(n),b=w!==null&&w!=="false",x=(tc.get(v)||0)+1,E=(a.get(v)||0)+1;tc.set(v,x),a.set(v,E),l.push(v),x===1&&b&&um.set(v,!0),E===1&&v.setAttribute(t,"true"),b||v.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return p(e),c.clear(),Sw++,function(){l.forEach(function(g){var v=tc.get(g)-1,w=a.get(g)-1;tc.set(g,v),a.set(g,w),v||(um.has(g)||g.removeAttribute(n),um.delete(g)),w||g.removeAttribute(t)}),Sw--,Sw||(tc=new WeakMap,tc=new WeakMap,um=new WeakMap,dm={})}},ZT=function(i,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(i)?i:[i]),s=Dj(i);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Fj(n,s,t,"aria-hidden")):function(){return null}},O0="Dialog",[eR,jB]=rs(O0),[jj,is]=eR(O0),tR=i=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:s,onOpenChange:a,modal:l=!0}=i,c=S.useRef(null),h=S.useRef(null),[f=!1,p]=Tu({prop:n,defaultProp:s,onChange:a});return T.jsx(jj,{scope:e,triggerRef:c,contentRef:h,contentId:vl(),titleId:vl(),descriptionId:vl(),open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(g=>!g),[p]),modal:l,children:t})};tR.displayName=O0;var nR="DialogTrigger",$j=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=is(nR,t),a=rt(e,s.triggerRef);return T.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$0(s.open),...n,ref:a,onClick:xe(i.onClick,s.onOpenToggle)})});$j.displayName=nR;var F0="DialogPortal",[zj,rR]=eR(F0,{forceMount:void 0}),sR=i=>{const{__scopeDialog:e,forceMount:t,children:n,container:s}=i,a=is(F0,e);return T.jsx(zj,{scope:e,forceMount:t,children:S.Children.map(n,l=>T.jsx(ss,{present:t||a.open,children:T.jsx(Kg,{asChild:!0,container:s,children:l})}))})};sR.displayName=F0;var lg="DialogOverlay",iR=S.forwardRef((i,e)=>{const t=rR(lg,i.__scopeDialog),{forceMount:n=t.forceMount,...s}=i,a=is(lg,i.__scopeDialog);return a.modal?T.jsx(ss,{present:n||a.open,children:T.jsx(Bj,{...s,ref:e})}):null});iR.displayName=lg;var Bj=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=is(lg,t);return T.jsx(D0,{as:cr,allowPinchZoom:!0,shards:[s.contentRef],children:T.jsx(Qe.div,{"data-state":$0(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),xl="DialogContent",oR=S.forwardRef((i,e)=>{const t=rR(xl,i.__scopeDialog),{forceMount:n=t.forceMount,...s}=i,a=is(xl,i.__scopeDialog);return T.jsx(ss,{present:n||a.open,children:a.modal?T.jsx(Hj,{...s,ref:e}):T.jsx(Uj,{...s,ref:e})})});oR.displayName=xl;var Hj=S.forwardRef((i,e)=>{const t=is(xl,i.__scopeDialog),n=S.useRef(null),s=rt(e,t.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return ZT(a)},[]),T.jsx(aR,{...i,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(i.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(i.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:xe(i.onFocusOutside,a=>a.preventDefault())})}),Uj=S.forwardRef((i,e)=>{const t=is(xl,i.__scopeDialog),n=S.useRef(!1),s=S.useRef(!1);return T.jsx(aR,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=i.onCloseAutoFocus)==null||l.call(i,a),a.defaultPrevented||(n.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var h,f;(h=i.onInteractOutside)==null||h.call(i,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((f=t.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),aR=S.forwardRef((i,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=i,c=is(xl,t),h=S.useRef(null),f=rt(e,h);return WT(),T.jsxs(T.Fragment,{children:[T.jsx(L0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:T.jsx(Xg,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":$0(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(Wj,{titleId:c.titleId}),T.jsx(Gj,{contentRef:h,descriptionId:c.descriptionId})]})]})}),j0="DialogTitle",lR=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=is(j0,t);return T.jsx(Qe.h2,{id:s.titleId,...n,ref:e})});lR.displayName=j0;var cR="DialogDescription",uR=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=is(cR,t);return T.jsx(Qe.p,{id:s.descriptionId,...n,ref:e})});uR.displayName=cR;var dR="DialogClose",hR=S.forwardRef((i,e)=>{const{__scopeDialog:t,...n}=i,s=is(dR,t);return T.jsx(Qe.button,{type:"button",...n,ref:e,onClick:xe(i.onClick,()=>s.onOpenChange(!1))})});hR.displayName=dR;function $0(i){return i?"open":"closed"}var fR="DialogTitleWarning",[$B,pR]=YL(fR,{contentName:xl,titleName:j0,docsSlug:"dialog"}),Wj=({titleId:i})=>{const e=pR(fR),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{i&&(document.getElementById(i)||console.error(t))},[t,i]),null},Vj="DialogDescriptionWarning",Gj=({contentRef:i,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pR(Vj).contentName}}.`;return S.useEffect(()=>{var a;const s=(a=i.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,i,e]),null},Xj=tR,Kj=sR,mR=iR,gR=oR,vR=lR,yR=uR,Yj=hR;const qj=Xj,Qj=Kj,wR=S.forwardRef(({className:i,...e},t)=>T.jsx(mR,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e,ref:t}));wR.displayName=mR.displayName;const Jj=Lf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bR=S.forwardRef(({side:i="right",className:e,children:t,...n},s)=>T.jsxs(Qj,{children:[T.jsx(wR,{}),T.jsxs(gR,{ref:s,className:pe(Jj({side:i}),e),...n,children:[T.jsxs(Yj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[T.jsx(iT,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));bR.displayName=gR.displayName;const Zj=S.forwardRef(({className:i,...e},t)=>T.jsx(vR,{ref:t,className:pe("text-lg font-semibold text-foreground",i),...e}));Zj.displayName=vR.displayName;const e$=S.forwardRef(({className:i,...e},t)=>T.jsx(yR,{ref:t,className:pe("text-sm text-muted-foreground",i),...e}));e$.displayName=yR.displayName;function u1({className:i,...e}){return T.jsx("div",{className:pe("animate-pulse rounded-md bg-primary/10",i),...e})}const t$=["top","right","bottom","left"],Ho=Math.min,sr=Math.max,cg=Math.round,hm=Math.floor,Is=i=>({x:i,y:i}),n$={left:"right",right:"left",bottom:"top",top:"bottom"},r$={start:"end",end:"start"};function e0(i,e,t){return sr(i,Ho(e,t))}function Pi(i,e){return typeof i=="function"?i(e):i}function ki(i){return i.split("-")[0]}function Ru(i){return i.split("-")[1]}function z0(i){return i==="x"?"y":"x"}function B0(i){return i==="y"?"height":"width"}function Uo(i){return["top","bottom"].includes(ki(i))?"y":"x"}function H0(i){return z0(Uo(i))}function s$(i,e,t){t===void 0&&(t=!1);const n=Ru(i),s=H0(i),a=B0(s);let l=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=ug(l)),[l,ug(l)]}function i$(i){const e=ug(i);return[t0(i),e,t0(e)]}function t0(i){return i.replace(/start|end/g,e=>r$[e])}function o$(i,e,t){const n=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(i){case"top":case"bottom":return t?e?s:n:e?n:s;case"left":case"right":return e?a:l;default:return[]}}function a$(i,e,t,n){const s=Ru(i);let a=o$(ki(i),t==="start",n);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(t0)))),a}function ug(i){return i.replace(/left|right|bottom|top/g,e=>n$[e])}function l$(i){return{top:0,right:0,bottom:0,left:0,...i}}function xR(i){return typeof i!="number"?l$(i):{top:i,right:i,bottom:i,left:i}}function dg(i){const{x:e,y:t,width:n,height:s}=i;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}function d1(i,e,t){let{reference:n,floating:s}=i;const a=Uo(e),l=H0(e),c=B0(l),h=ki(e),f=a==="y",p=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,v=n[c]/2-s[c]/2;let w;switch(h){case"top":w={x:p,y:n.y-s.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:g};break;case"left":w={x:n.x-s.width,y:g};break;default:w={x:n.x,y:n.y}}switch(Ru(e)){case"start":w[l]-=v*(t&&f?-1:1);break;case"end":w[l]+=v*(t&&f?-1:1);break}return w}const c$=async(i,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:i,floating:e,strategy:s}),{x:p,y:g}=d1(f,n,h),v=n,w={},b=0;for(let x=0;x<c.length;x++){const{name:E,fn:_}=c[x],{x:R,y:N,data:I,reset:D}=await _({x:p,y:g,initialPlacement:n,placement:v,strategy:s,middlewareData:w,rects:f,platform:l,elements:{reference:i,floating:e}});p=R??p,g=N??g,w={...w,[E]:{...w[E],...I}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(f=D.rects===!0?await l.getElementRects({reference:i,floating:e,strategy:s}):D.rects),{x:p,y:g}=d1(f,v,h)),x=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:w}};async function Zd(i,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:l,elements:c,strategy:h}=i,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=Pi(e,i),b=xR(w),E=c[v?g==="floating"?"reference":"floating":g],_=dg(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(E)))==null||t?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:h})),R=g==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),I=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},D=dg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:N,strategy:h}):R);return{top:(_.top-D.top+b.top)/I.y,bottom:(D.bottom-_.bottom+b.bottom)/I.y,left:(_.left-D.left+b.left)/I.x,right:(D.right-_.right+b.right)/I.x}}const u$=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=e,{element:f,padding:p=0}=Pi(i,e)||{};if(f==null)return{};const g=xR(p),v={x:t,y:n},w=H0(s),b=B0(w),x=await l.getDimensions(f),E=w==="y",_=E?"top":"left",R=E?"bottom":"right",N=E?"clientHeight":"clientWidth",I=a.reference[b]+a.reference[w]-v[w]-a.floating[b],D=v[w]-a.reference[w],z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let O=z?z[N]:0;(!O||!await(l.isElement==null?void 0:l.isElement(z)))&&(O=c.floating[N]||a.floating[b]);const W=I/2-D/2,Y=O/2-x[b]/2-1,te=Ho(g[_],Y),se=Ho(g[R],Y),J=te,oe=O-x[b]-se,q=O/2-x[b]/2+W,ve=e0(J,q,oe),K=!h.arrow&&Ru(s)!=null&&q!==ve&&a.reference[b]/2-(q<J?te:se)-x[b]/2<0,Z=K?q<J?q-J:q-oe:0;return{[w]:v[w]+Z,data:{[w]:ve,centerOffset:q-ve-Z,...K&&{alignmentOffset:Z}},reset:K}}}),d$=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...E}=Pi(i,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const _=ki(s),R=Uo(c),N=ki(c)===c,I=await(h.isRTL==null?void 0:h.isRTL(f.floating)),D=v||(N||!x?[ug(c)]:i$(c)),z=b!=="none";!v&&z&&D.push(...a$(c,x,b,I));const O=[c,...D],W=await Zd(e,E),Y=[];let te=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&Y.push(W[_]),g){const q=s$(s,l,I);Y.push(W[q[0]],W[q[1]])}if(te=[...te,{placement:s,overflows:Y}],!Y.every(q=>q<=0)){var se,J;const q=(((se=a.flip)==null?void 0:se.index)||0)+1,ve=O[q];if(ve)return{data:{index:q,overflows:te},reset:{placement:ve}};let K=(J=te.filter(Z=>Z.overflows[0]<=0).sort((Z,V)=>Z.overflows[1]-V.overflows[1])[0])==null?void 0:J.placement;if(!K)switch(w){case"bestFit":{var oe;const Z=(oe=te.filter(V=>{if(z){const X=Uo(V.placement);return X===R||X==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(X=>X>0).reduce((X,Q)=>X+Q,0)]).sort((V,X)=>V[1]-X[1])[0])==null?void 0:oe[0];Z&&(K=Z);break}case"initialPlacement":K=c;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function h1(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function f1(i){return t$.some(e=>i[e]>=0)}const h$=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...s}=Pi(i,e);switch(n){case"referenceHidden":{const a=await Zd(e,{...s,elementContext:"reference"}),l=h1(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:f1(l)}}}case"escaped":{const a=await Zd(e,{...s,altBoundary:!0}),l=h1(a,t.floating);return{data:{escapedOffsets:l,escaped:f1(l)}}}default:return{}}}}};async function f$(i,e){const{placement:t,platform:n,elements:s}=i,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=ki(t),c=Ru(t),h=Uo(t)==="y",f=["left","top"].includes(l)?-1:1,p=a&&h?-1:1,g=Pi(e,i);let{mainAxis:v,crossAxis:w,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof b=="number"&&(w=c==="end"?b*-1:b),h?{x:w*p,y:v*f}:{x:v*f,y:w*p}}const p$=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:s,y:a,placement:l,middlewareData:c}=e,h=await f$(e,i);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},m$=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:_,y:R}=E;return{x:_,y:R}}},...h}=Pi(i,e),f={x:t,y:n},p=await Zd(e,h),g=Uo(ki(s)),v=z0(g);let w=f[v],b=f[g];if(a){const E=v==="y"?"top":"left",_=v==="y"?"bottom":"right",R=w+p[E],N=w-p[_];w=e0(R,w,N)}if(l){const E=g==="y"?"top":"left",_=g==="y"?"bottom":"right",R=b+p[E],N=b-p[_];b=e0(R,b,N)}const x=c.fn({...e,[v]:w,[g]:b});return{...x,data:{x:x.x-t,y:x.y-n,enabled:{[v]:a,[g]:l}}}}}},g$=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:t,y:n,placement:s,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:h=!0,crossAxis:f=!0}=Pi(i,e),p={x:t,y:n},g=Uo(s),v=z0(g);let w=p[v],b=p[g];const x=Pi(c,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const N=v==="y"?"height":"width",I=a.reference[v]-a.floating[N]+E.mainAxis,D=a.reference[v]+a.reference[N]-E.mainAxis;w<I?w=I:w>D&&(w=D)}if(f){var _,R;const N=v==="y"?"width":"height",I=["top","left"].includes(ki(s)),D=a.reference[g]-a.floating[N]+(I&&((_=l.offset)==null?void 0:_[g])||0)+(I?0:E.crossAxis),z=a.reference[g]+a.reference[N]+(I?0:((R=l.offset)==null?void 0:R[g])||0)-(I?E.crossAxis:0);b<D?b=D:b>z&&(b=z)}return{[v]:w,[g]:b}}}},v$=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,n;const{placement:s,rects:a,platform:l,elements:c}=e,{apply:h=()=>{},...f}=Pi(i,e),p=await Zd(e,f),g=ki(s),v=Ru(s),w=Uo(s)==="y",{width:b,height:x}=a.floating;let E,_;g==="top"||g==="bottom"?(E=g,_=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(_=g,E=v==="end"?"top":"bottom");const R=x-p.top-p.bottom,N=b-p.left-p.right,I=Ho(x-p[E],R),D=Ho(b-p[_],N),z=!e.middlewareData.shift;let O=I,W=D;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(W=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=R),z&&!v){const te=sr(p.left,0),se=sr(p.right,0),J=sr(p.top,0),oe=sr(p.bottom,0);w?W=b-2*(te!==0||se!==0?te+se:sr(p.left,p.right)):O=x-2*(J!==0||oe!==0?J+oe:sr(p.top,p.bottom))}await h({...e,availableWidth:W,availableHeight:O});const Y=await l.getDimensions(c.floating);return b!==Y.width||x!==Y.height?{reset:{rects:!0}}:{}}}};function qg(){return typeof window<"u"}function Pu(i){return AR(i)?(i.nodeName||"").toLowerCase():"#document"}function ar(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function $s(i){var e;return(e=(AR(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function AR(i){return qg()?i instanceof Node||i instanceof ar(i).Node:!1}function es(i){return qg()?i instanceof Element||i instanceof ar(i).Element:!1}function Ds(i){return qg()?i instanceof HTMLElement||i instanceof ar(i).HTMLElement:!1}function p1(i){return!qg()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ar(i).ShadowRoot}function jf(i){const{overflow:e,overflowX:t,overflowY:n,display:s}=ts(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(s)}function y$(i){return["table","td","th"].includes(Pu(i))}function Qg(i){return[":popover-open",":modal"].some(e=>{try{return i.matches(e)}catch{return!1}})}function U0(i){const e=W0(),t=es(i)?ts(i):i;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function w$(i){let e=Wo(i);for(;Ds(e)&&!Au(e);){if(U0(e))return e;if(Qg(e))return null;e=Wo(e)}return null}function W0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Au(i){return["html","body","#document"].includes(Pu(i))}function ts(i){return ar(i).getComputedStyle(i)}function Jg(i){return es(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Wo(i){if(Pu(i)==="html")return i;const e=i.assignedSlot||i.parentNode||p1(i)&&i.host||$s(i);return p1(e)?e.host:e}function SR(i){const e=Wo(i);return Au(e)?i.ownerDocument?i.ownerDocument.body:i.body:Ds(e)&&jf(e)?e:SR(e)}function eh(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=SR(i),a=s===((n=i.ownerDocument)==null?void 0:n.body),l=ar(s);if(a){const c=n0(l);return e.concat(l,l.visualViewport||[],jf(s)?s:[],c&&t?eh(c):[])}return e.concat(s,eh(s,[],t))}function n0(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function ER(i){const e=ts(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ds(i),a=s?i.offsetWidth:t,l=s?i.offsetHeight:n,c=cg(t)!==a||cg(n)!==l;return c&&(t=a,n=l),{width:t,height:n,$:c}}function V0(i){return es(i)?i:i.contextElement}function gc(i){const e=V0(i);if(!Ds(e))return Is(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:a}=ER(e);let l=(a?cg(t.width):t.width)/n,c=(a?cg(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const b$=Is(0);function _R(i){const e=ar(i);return!W0()||!e.visualViewport?b$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x$(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==ar(i)?!1:e}function Al(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=i.getBoundingClientRect(),a=V0(i);let l=Is(1);e&&(n?es(n)&&(l=gc(n)):l=gc(i));const c=x$(a,t,n)?_R(a):Is(0);let h=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(a){const v=ar(a),w=n&&es(n)?ar(n):n;let b=v,x=n0(b);for(;x&&n&&w!==b;){const E=gc(x),_=x.getBoundingClientRect(),R=ts(x),N=_.left+(x.clientLeft+parseFloat(R.paddingLeft))*E.x,I=_.top+(x.clientTop+parseFloat(R.paddingTop))*E.y;h*=E.x,f*=E.y,p*=E.x,g*=E.y,h+=N,f+=I,b=ar(x),x=n0(b)}}return dg({width:p,height:g,x:h,y:f})}function G0(i,e){const t=Jg(i).scrollLeft;return e?e.left+t:Al($s(i)).left+t}function CR(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),s=n.left+e.scrollLeft-(t?0:G0(i,n)),a=n.top+e.scrollTop;return{x:s,y:a}}function A$(i){let{elements:e,rect:t,offsetParent:n,strategy:s}=i;const a=s==="fixed",l=$s(n),c=e?Qg(e.floating):!1;if(n===l||c&&a)return t;let h={scrollLeft:0,scrollTop:0},f=Is(1);const p=Is(0),g=Ds(n);if((g||!g&&!a)&&((Pu(n)!=="body"||jf(l))&&(h=Jg(n)),Ds(n))){const w=Al(n);f=gc(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const v=l&&!g&&!a?CR(l,h,!0):Is(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-h.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-h.scrollTop*f.y+p.y+v.y}}function S$(i){return Array.from(i.getClientRects())}function E$(i){const e=$s(i),t=Jg(i),n=i.ownerDocument.body,s=sr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=sr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+G0(i);const c=-t.scrollTop;return ts(n).direction==="rtl"&&(l+=sr(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:l,y:c}}function _$(i,e){const t=ar(i),n=$s(i),s=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const f=W0();(!f||f&&e==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function C$(i,e){const t=Al(i,!0,e==="fixed"),n=t.top+i.clientTop,s=t.left+i.clientLeft,a=Ds(i)?gc(i):Is(1),l=i.clientWidth*a.x,c=i.clientHeight*a.y,h=s*a.x,f=n*a.y;return{width:l,height:c,x:h,y:f}}function m1(i,e,t){let n;if(e==="viewport")n=_$(i,t);else if(e==="document")n=E$($s(i));else if(es(e))n=C$(e,t);else{const s=_R(i);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return dg(n)}function TR(i,e){const t=Wo(i);return t===e||!es(t)||Au(t)?!1:ts(t).position==="fixed"||TR(t,e)}function T$(i,e){const t=e.get(i);if(t)return t;let n=eh(i,[],!1).filter(c=>es(c)&&Pu(c)!=="body"),s=null;const a=ts(i).position==="fixed";let l=a?Wo(i):i;for(;es(l)&&!Au(l);){const c=ts(l),h=U0(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jf(l)&&!h&&TR(i,l))?n=n.filter(p=>p!==l):s=c,l=Wo(l)}return e.set(i,n),n}function R$(i){let{element:e,boundary:t,rootBoundary:n,strategy:s}=i;const l=[...t==="clippingAncestors"?Qg(e)?[]:T$(e,this._c):[].concat(t),n],c=l[0],h=l.reduce((f,p)=>{const g=m1(e,p,s);return f.top=sr(g.top,f.top),f.right=Ho(g.right,f.right),f.bottom=Ho(g.bottom,f.bottom),f.left=sr(g.left,f.left),f},m1(e,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function P$(i){const{width:e,height:t}=ER(i);return{width:e,height:t}}function k$(i,e,t){const n=Ds(e),s=$s(e),a=t==="fixed",l=Al(i,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Is(0);if(n||!n&&!a)if((Pu(e)!=="body"||jf(s))&&(c=Jg(e)),n){const v=Al(e,!0,a,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else s&&(h.x=G0(s));const f=s&&!n&&!a?CR(s,c):Is(0),p=l.left+c.scrollLeft-h.x-f.x,g=l.top+c.scrollTop-h.y-f.y;return{x:p,y:g,width:l.width,height:l.height}}function Ew(i){return ts(i).position==="static"}function g1(i,e){if(!Ds(i)||ts(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return $s(i)===t&&(t=t.ownerDocument.body),t}function RR(i,e){const t=ar(i);if(Qg(i))return t;if(!Ds(i)){let s=Wo(i);for(;s&&!Au(s);){if(es(s)&&!Ew(s))return s;s=Wo(s)}return t}let n=g1(i,e);for(;n&&y$(n)&&Ew(n);)n=g1(n,e);return n&&Au(n)&&Ew(n)&&!U0(n)?t:n||w$(i)||t}const M$=async function(i){const e=this.getOffsetParent||RR,t=this.getDimensions,n=await t(i.floating);return{reference:k$(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function N$(i){return ts(i).direction==="rtl"}const I$={convertOffsetParentRelativeRectToViewportRelativeRect:A$,getDocumentElement:$s,getClippingRect:R$,getOffsetParent:RR,getElementRects:M$,getClientRects:S$,getDimensions:P$,getScale:gc,isElement:es,isRTL:N$};function PR(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function L$(i,e){let t=null,n;const s=$s(i);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const f=i.getBoundingClientRect(),{left:p,top:g,width:v,height:w}=f;if(c||e(),!v||!w)return;const b=hm(g),x=hm(s.clientWidth-(p+v)),E=hm(s.clientHeight-(g+w)),_=hm(p),N={rootMargin:-b+"px "+-x+"px "+-E+"px "+-_+"px",threshold:sr(0,Ho(1,h))||1};let I=!0;function D(z){const O=z[0].intersectionRatio;if(O!==h){if(!I)return l();O?l(!1,O):n=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!PR(f,i.getBoundingClientRect())&&l(),I=!1}try{t=new IntersectionObserver(D,{...N,root:s.ownerDocument})}catch{t=new IntersectionObserver(D,N)}t.observe(i)}return l(!0),a}function D$(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=V0(i),p=s||a?[...f?eh(f):[],...eh(e)]:[];p.forEach(_=>{s&&_.addEventListener("scroll",t,{passive:!0}),a&&_.addEventListener("resize",t)});const g=f&&c?L$(f,t):null;let v=-1,w=null;l&&(w=new ResizeObserver(_=>{let[R]=_;R&&R.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(e)})),t()}),f&&!h&&w.observe(f),w.observe(e));let b,x=h?Al(i):null;h&&E();function E(){const _=Al(i);x&&!PR(x,_)&&t(),x=_,b=requestAnimationFrame(E)}return t(),()=>{var _;p.forEach(R=>{s&&R.removeEventListener("scroll",t),a&&R.removeEventListener("resize",t)}),g==null||g(),(_=w)==null||_.disconnect(),w=null,h&&cancelAnimationFrame(b)}}const O$=p$,F$=m$,j$=d$,$$=v$,z$=h$,v1=u$,B$=g$,H$=(i,e,t)=>{const n=new Map,s={platform:I$,...t},a={...s.platform,_c:n};return c$(i,e,{...s,platform:a})};var qm=typeof document<"u"?S.useLayoutEffect:S.useEffect;function hg(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,s;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!hg(i[n],e[n]))return!1;return!0}if(s=Object.keys(i),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const a=s[n];if(!(a==="_owner"&&i.$$typeof)&&!hg(i[a],e[a]))return!1}return!0}return i!==i&&e!==e}function kR(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function y1(i,e){const t=kR(i);return Math.round(e*t)/t}function _w(i){const e=S.useRef(i);return qm(()=>{e.current=i}),e}function U$(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:f}=i,[p,g]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=S.useState(n);hg(v,n)||w(n);const[b,x]=S.useState(null),[E,_]=S.useState(null),R=S.useCallback(V=>{V!==z.current&&(z.current=V,x(V))},[]),N=S.useCallback(V=>{V!==O.current&&(O.current=V,_(V))},[]),I=a||b,D=l||E,z=S.useRef(null),O=S.useRef(null),W=S.useRef(p),Y=h!=null,te=_w(h),se=_w(s),J=_w(f),oe=S.useCallback(()=>{if(!z.current||!O.current)return;const V={placement:e,strategy:t,middleware:v};se.current&&(V.platform=se.current),H$(z.current,O.current,V).then(X=>{const Q={...X,isPositioned:J.current!==!1};q.current&&!hg(W.current,Q)&&(W.current=Q,Nf.flushSync(()=>{g(Q)}))})},[v,e,t,se,J]);qm(()=>{f===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[f]);const q=S.useRef(!1);qm(()=>(q.current=!0,()=>{q.current=!1}),[]),qm(()=>{if(I&&(z.current=I),D&&(O.current=D),I&&D){if(te.current)return te.current(I,D,oe);oe()}},[I,D,oe,te,Y]);const ve=S.useMemo(()=>({reference:z,floating:O,setReference:R,setFloating:N}),[R,N]),K=S.useMemo(()=>({reference:I,floating:D}),[I,D]),Z=S.useMemo(()=>{const V={position:t,left:0,top:0};if(!K.floating)return V;const X=y1(K.floating,p.x),Q=y1(K.floating,p.y);return c?{...V,transform:"translate("+X+"px, "+Q+"px)",...kR(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:Q}},[t,c,K.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:oe,refs:ve,elements:K,floatingStyles:Z}),[p,oe,ve,K,Z])}const W$=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:s}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?v1({element:n.current,padding:s}).fn(t):{}:n?v1({element:n,padding:s}).fn(t):{}}}},V$=(i,e)=>({...O$(i),options:[i,e]}),G$=(i,e)=>({...F$(i),options:[i,e]}),X$=(i,e)=>({...B$(i),options:[i,e]}),K$=(i,e)=>({...j$(i),options:[i,e]}),Y$=(i,e)=>({...$$(i),options:[i,e]}),q$=(i,e)=>({...z$(i),options:[i,e]}),Q$=(i,e)=>({...W$(i),options:[i,e]});var J$="Arrow",MR=S.forwardRef((i,e)=>{const{children:t,width:n=10,height:s=5,...a}=i;return T.jsx(Qe.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});MR.displayName=J$;var Z$=MR,X0="Popper",[NR,Zg]=rs(X0),[ez,IR]=NR(X0),LR=i=>{const{__scopePopper:e,children:t}=i,[n,s]=S.useState(null);return T.jsx(ez,{scope:e,anchor:n,onAnchorChange:s,children:t})};LR.displayName=X0;var DR="PopperAnchor",OR=S.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:n,...s}=i,a=IR(DR,t),l=S.useRef(null),c=rt(e,l);return S.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:T.jsx(Qe.div,{...s,ref:c})});OR.displayName=DR;var K0="PopperContent",[tz,nz]=NR(K0),FR=S.forwardRef((i,e)=>{var ye,Ne,Fe,bt,Ko,ku;const{__scopePopper:t,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=i,E=IR(K0,t),[_,R]=S.useState(null),N=rt(e,os=>R(os)),[I,D]=S.useState(null),z=Z1(I),O=(z==null?void 0:z.width)??0,W=(z==null?void 0:z.height)??0,Y=n+(a!=="center"?"-"+a:""),te=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},se=Array.isArray(f)?f:[f],J=se.length>0,oe={padding:te,boundary:se.filter(sz),altBoundary:J},{refs:q,floatingStyles:ve,placement:K,isPositioned:Z,middlewareData:V}=U$({strategy:"fixed",placement:Y,whileElementsMounted:(...os)=>D$(...os,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[V$({mainAxis:s+W,alignmentAxis:l}),h&&G$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?X$():void 0,...oe}),h&&K$({...oe}),Y$({...oe,apply:({elements:os,rects:Tl,availableWidth:Uf,availableHeight:Wf})=>{const{width:Mu,height:Vf}=Tl.reference,Li=os.floating.style;Li.setProperty("--radix-popper-available-width",`${Uf}px`),Li.setProperty("--radix-popper-available-height",`${Wf}px`),Li.setProperty("--radix-popper-anchor-width",`${Mu}px`),Li.setProperty("--radix-popper-anchor-height",`${Vf}px`)}}),I&&Q$({element:I,padding:c}),iz({arrowWidth:O,arrowHeight:W}),v&&q$({strategy:"referenceHidden",...oe})]}),[X,Q]=zR(K),F=Gt(b);Jr(()=>{Z&&(F==null||F())},[Z,F]);const G=(ye=V.arrow)==null?void 0:ye.x,le=(Ne=V.arrow)==null?void 0:Ne.y,Ee=((Fe=V.arrow)==null?void 0:Fe.centerOffset)!==0,[Me,Se]=S.useState();return Jr(()=>{_&&Se(window.getComputedStyle(_).zIndex)},[_]),T.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Z?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(bt=V.transformOrigin)==null?void 0:bt.x,(Ko=V.transformOrigin)==null?void 0:Ko.y].join(" "),...((ku=V.hide)==null?void 0:ku.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:T.jsx(tz,{scope:t,placedSide:X,onArrowChange:D,arrowX:G,arrowY:le,shouldHideArrow:Ee,children:T.jsx(Qe.div,{"data-side":X,"data-align":Q,...x,ref:N,style:{...x.style,animation:Z?void 0:"none"}})})})});FR.displayName=K0;var jR="PopperArrow",rz={top:"bottom",right:"left",bottom:"top",left:"right"},$R=S.forwardRef(function(e,t){const{__scopePopper:n,...s}=e,a=nz(jR,n),l=rz[a.placedSide];return T.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:T.jsx(Z$,{...s,ref:t,style:{...s.style,display:"block"}})})});$R.displayName=jR;function sz(i){return i!==null}var iz=i=>({name:"transformOrigin",options:i,fn(e){var E,_,R;const{placement:t,rects:n,middlewareData:s}=e,l=((E=s.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:i.arrowWidth,h=l?0:i.arrowHeight,[f,p]=zR(t),g={start:"0%",center:"50%",end:"100%"}[p],v=(((_=s.arrow)==null?void 0:_.x)??0)+c/2,w=(((R=s.arrow)==null?void 0:R.y)??0)+h/2;let b="",x="";return f==="bottom"?(b=l?g:`${v}px`,x=`${-h}px`):f==="top"?(b=l?g:`${v}px`,x=`${n.floating.height+h}px`):f==="right"?(b=`${-h}px`,x=l?g:`${w}px`):f==="left"&&(b=`${n.floating.width+h}px`,x=l?g:`${w}px`),{data:{x:b,y:x}}}});function zR(i){const[e,t="center"]=i.split("-");return[e,t]}var BR=LR,HR=OR,UR=FR,WR=$R,oz="VisuallyHidden",VR=S.forwardRef((i,e)=>T.jsx(Qe.span,{...i,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...i.style}}));VR.displayName=oz;var az=VR,[ev,zB]=rs("Tooltip",[Zg]),tv=Zg(),GR="TooltipProvider",lz=700,r0="tooltip.open",[cz,Y0]=ev(GR),XR=i=>{const{__scopeTooltip:e,delayDuration:t=lz,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=i,[l,c]=S.useState(!0),h=S.useRef(!1),f=S.useRef(0);return S.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),T.jsx(cz,{scope:e,isOpenDelayed:l,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(f.current),c(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:h,onPointerInTransitChange:S.useCallback(p=>{h.current=p},[]),disableHoverableContent:s,children:a})};XR.displayName=GR;var nv="Tooltip",[uz,$f]=ev(nv),KR=i=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=i,h=Y0(nv,i.__scopeTooltip),f=tv(e),[p,g]=S.useState(null),v=vl(),w=S.useRef(0),b=l??h.disableHoverableContent,x=c??h.delayDuration,E=S.useRef(!1),[_=!1,R]=Tu({prop:n,defaultProp:s,onChange:O=>{O?(h.onOpen(),document.dispatchEvent(new CustomEvent(r0))):h.onClose(),a==null||a(O)}}),N=S.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),I=S.useCallback(()=>{window.clearTimeout(w.current),w.current=0,E.current=!1,R(!0)},[R]),D=S.useCallback(()=>{window.clearTimeout(w.current),w.current=0,R(!1)},[R]),z=S.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,R(!0),w.current=0},x)},[x,R]);return S.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),T.jsx(BR,{...f,children:T.jsx(uz,{scope:e,contentId:v,open:_,stateAttribute:N,trigger:p,onTriggerChange:g,onTriggerEnter:S.useCallback(()=>{h.isOpenDelayed?z():I()},[h.isOpenDelayed,z,I]),onTriggerLeave:S.useCallback(()=>{b?D():(window.clearTimeout(w.current),w.current=0)},[D,b]),onOpen:I,onClose:D,disableHoverableContent:b,children:t})})};KR.displayName=nv;var s0="TooltipTrigger",YR=S.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,s=$f(s0,t),a=Y0(s0,t),l=tv(t),c=S.useRef(null),h=rt(e,c,s.onTriggerChange),f=S.useRef(!1),p=S.useRef(!1),g=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),T.jsx(HR,{asChild:!0,...l,children:T.jsx(Qe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:h,onPointerMove:xe(i.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:xe(i.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:xe(i.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:xe(i.onFocus,()=>{f.current||s.onOpen()}),onBlur:xe(i.onBlur,s.onClose),onClick:xe(i.onClick,s.onClose)})})});YR.displayName=s0;var q0="TooltipPortal",[dz,hz]=ev(q0,{forceMount:void 0}),qR=i=>{const{__scopeTooltip:e,forceMount:t,children:n,container:s}=i,a=$f(q0,e);return T.jsx(dz,{scope:e,forceMount:t,children:T.jsx(ss,{present:t||a.open,children:T.jsx(Kg,{asChild:!0,container:s,children:n})})})};qR.displayName=q0;var Su="TooltipContent",QR=S.forwardRef((i,e)=>{const t=hz(Su,i.__scopeTooltip),{forceMount:n=t.forceMount,side:s="top",...a}=i,l=$f(Su,i.__scopeTooltip);return T.jsx(ss,{present:n||l.open,children:l.disableHoverableContent?T.jsx(JR,{side:s,...a,ref:e}):T.jsx(fz,{side:s,...a,ref:e})})}),fz=S.forwardRef((i,e)=>{const t=$f(Su,i.__scopeTooltip),n=Y0(Su,i.__scopeTooltip),s=S.useRef(null),a=rt(e,s),[l,c]=S.useState(null),{trigger:h,onClose:f}=t,p=s.current,{onPointerInTransitChange:g}=n,v=S.useCallback(()=>{c(null),g(!1)},[g]),w=S.useCallback((b,x)=>{const E=b.currentTarget,_={x:b.clientX,y:b.clientY},R=vz(_,E.getBoundingClientRect()),N=yz(_,R),I=wz(x.getBoundingClientRect()),D=xz([...N,...I]);c(D),g(!0)},[g]);return S.useEffect(()=>()=>v(),[v]),S.useEffect(()=>{if(h&&p){const b=E=>w(E,p),x=E=>w(E,h);return h.addEventListener("pointerleave",b),p.addEventListener("pointerleave",x),()=>{h.removeEventListener("pointerleave",b),p.removeEventListener("pointerleave",x)}}},[h,p,w,v]),S.useEffect(()=>{if(l){const b=x=>{const E=x.target,_={x:x.clientX,y:x.clientY},R=(h==null?void 0:h.contains(E))||(p==null?void 0:p.contains(E)),N=!bz(_,l);R?v():N&&(v(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[h,p,l,f,v]),T.jsx(JR,{...i,ref:a})}),[pz,mz]=ev(nv,{isInside:!1}),JR=S.forwardRef((i,e)=>{const{__scopeTooltip:t,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=i,h=$f(Su,t),f=tv(t),{onClose:p}=h;return S.useEffect(()=>(document.addEventListener(r0,p),()=>document.removeEventListener(r0,p)),[p]),S.useEffect(()=>{if(h.trigger){const g=v=>{const w=v.target;w!=null&&w.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),T.jsx(Xg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:T.jsxs(UR,{"data-state":h.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(H1,{children:n}),T.jsx(pz,{scope:t,isInside:!0,children:T.jsx(az,{id:h.contentId,role:"tooltip",children:s||n})})]})})});QR.displayName=Su;var ZR="TooltipArrow",gz=S.forwardRef((i,e)=>{const{__scopeTooltip:t,...n}=i,s=tv(t);return mz(ZR,t).isInside?null:T.jsx(WR,{...s,...n,ref:e})});gz.displayName=ZR;function vz(i,e){const t=Math.abs(e.top-i.y),n=Math.abs(e.bottom-i.y),s=Math.abs(e.right-i.x),a=Math.abs(e.left-i.x);switch(Math.min(t,n,s,a)){case a:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function yz(i,e,t=5){const n=[];switch(e){case"top":n.push({x:i.x-t,y:i.y+t},{x:i.x+t,y:i.y+t});break;case"bottom":n.push({x:i.x-t,y:i.y-t},{x:i.x+t,y:i.y-t});break;case"left":n.push({x:i.x+t,y:i.y-t},{x:i.x+t,y:i.y+t});break;case"right":n.push({x:i.x-t,y:i.y-t},{x:i.x-t,y:i.y+t});break}return n}function wz(i){const{top:e,right:t,bottom:n,left:s}=i;return[{x:s,y:e},{x:t,y:e},{x:t,y:n},{x:s,y:n}]}function bz(i,e){const{x:t,y:n}=i;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a].x,h=e[a].y,f=e[l].x,p=e[l].y;h>n!=p>n&&t<(f-c)*(n-h)/(p-h)+c&&(s=!s)}return s}function xz(i){const e=i.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),Az(e)}function Az(i){if(i.length<=1)return i.slice();const e=[];for(let n=0;n<i.length;n++){const s=i[n];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let n=i.length-1;n>=0;n--){const s=i[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Sz=XR,Ez=KR,_z=YR,Cz=qR,eP=QR;const Tz=Sz,Rz=Ez,Pz=_z,tP=S.forwardRef(({className:i,sideOffset:e=4,...t},n)=>T.jsx(Cz,{children:T.jsx(eP,{ref:n,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...t})}));tP.displayName=eP.displayName;const kz="sidebar:state",Mz=60*60*24*7,Nz="16rem",Iz="18rem",Lz="3rem",Dz="b",nP=S.createContext(null);function zf(){const i=S.useContext(nP);if(!i)throw new Error("useSidebar must be used within a SidebarProvider.");return i}const rP=S.forwardRef(({defaultOpen:i=!0,open:e,onOpenChange:t,className:n,style:s,children:a,...l},c)=>{const h=NF(),[f,p]=S.useState(!1),[g,v]=S.useState(i),w=e??g,b=S.useCallback(R=>{const N=typeof R=="function"?R(w):R;t?t(N):v(N),document.cookie=`${kz}=${N}; path=/; max-age=${Mz}`},[t,w]),x=S.useCallback(()=>h?p(R=>!R):b(R=>!R),[h,b,p]);S.useEffect(()=>{const R=N=>{N.key===Dz&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),x())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[x]);const E=w?"expanded":"collapsed",_=S.useMemo(()=>({state:E,open:w,setOpen:b,isMobile:h,openMobile:f,setOpenMobile:p,toggleSidebar:x}),[E,w,b,h,f,p,x]);return T.jsx(nP.Provider,{value:_,children:T.jsx(Tz,{delayDuration:0,children:T.jsx("div",{style:{"--sidebar-width":Nz,"--sidebar-width-icon":Lz,...s},className:pe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...l,children:a})})})});rP.displayName="SidebarProvider";const sP=S.forwardRef(({side:i="left",variant:e="sidebar",collapsible:t="offcanvas",className:n,children:s,...a},l)=>{const{isMobile:c,state:h,openMobile:f,setOpenMobile:p}=zf();return t==="none"?T.jsx("div",{className:pe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:l,...a,children:s}):c?T.jsx(qj,{open:f,onOpenChange:p,...a,children:T.jsx(bR,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Iz},side:i,children:T.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):T.jsxs("div",{ref:l,className:"group peer hidden md:block text-sidebar-foreground","data-state":h,"data-collapsible":h==="collapsed"?t:"","data-variant":e,"data-side":i,children:[T.jsx("div",{className:pe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),T.jsx("div",{className:pe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",i==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:T.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});sP.displayName="Sidebar";const iP=S.forwardRef(({className:i,onClick:e,...t},n)=>{const{toggleSidebar:s}=zf();return T.jsxs(Kd,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:pe("h-7 w-7",i),onClick:a=>{e==null||e(a),s()},...t,children:[T.jsx(R2,{}),T.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});iP.displayName="SidebarTrigger";const oP=S.forwardRef(({className:i,...e},t)=>{const{toggleSidebar:n}=zf();return T.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:pe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",i),...e})});oP.displayName="SidebarRail";const aP=S.forwardRef(({className:i,...e},t)=>T.jsx("main",{ref:t,className:pe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",i),...e}));aP.displayName="SidebarInset";const Oz=S.forwardRef(({className:i,...e},t)=>T.jsx(Jm,{ref:t,"data-sidebar":"input",className:pe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",i),...e}));Oz.displayName="SidebarInput";const Fz=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"header",className:pe("flex flex-col gap-2 p-2",i),...e}));Fz.displayName="SidebarHeader";const lP=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"footer",className:pe("flex flex-col gap-2 p-2",i),...e}));lP.displayName="SidebarFooter";const jz=S.forwardRef(({className:i,...e},t)=>T.jsx(I0,{ref:t,"data-sidebar":"separator",className:pe("mx-2 w-auto bg-sidebar-border",i),...e}));jz.displayName="SidebarSeparator";const cP=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"content",className:pe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",i),...e}));cP.displayName="SidebarContent";const uP=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"group",className:pe("relative flex w-full min-w-0 flex-col p-2",i),...e}));uP.displayName="SidebarGroup";const $z=S.forwardRef(({className:i,asChild:e=!1,...t},n)=>{const s=e?cr:"div";return T.jsx(s,{ref:n,"data-sidebar":"group-label",className:pe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",i),...t})});$z.displayName="SidebarGroupLabel";const zz=S.forwardRef(({className:i,asChild:e=!1,...t},n)=>{const s=e?cr:"button";return T.jsx(s,{ref:n,"data-sidebar":"group-action",className:pe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",i),...t})});zz.displayName="SidebarGroupAction";const Bz=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"group-content",className:pe("w-full text-sm",i),...e}));Bz.displayName="SidebarGroupContent";const Q0=S.forwardRef(({className:i,...e},t)=>T.jsx("ul",{ref:t,"data-sidebar":"menu",className:pe("flex w-full min-w-0 flex-col gap-1",i),...e}));Q0.displayName="SidebarMenu";const J0=S.forwardRef(({className:i,...e},t)=>T.jsx("li",{ref:t,"data-sidebar":"menu-item",className:pe("group/menu-item relative",i),...e}));J0.displayName="SidebarMenuItem";const Hz=Lf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Z0=S.forwardRef(({asChild:i=!1,isActive:e=!1,variant:t="default",size:n="default",tooltip:s,className:a,...l},c)=>{const h=i?cr:"button",{isMobile:f,state:p}=zf(),g=T.jsx(h,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:pe(Hz({variant:t,size:n}),a),...l});return s?(typeof s=="string"&&(s={children:s}),T.jsxs(Rz,{children:[T.jsx(Pz,{asChild:!0,children:g}),T.jsx(tP,{side:"right",align:"center",hidden:p!=="collapsed"||f,...s})]})):g});Z0.displayName="SidebarMenuButton";const Uz=S.forwardRef(({className:i,asChild:e=!1,showOnHover:t=!1,...n},s)=>{const a=e?cr:"button";return T.jsx(a,{ref:s,"data-sidebar":"menu-action",className:pe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",i),...n})});Uz.displayName="SidebarMenuAction";const Wz=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:pe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i),...e}));Wz.displayName="SidebarMenuBadge";const Vz=S.forwardRef(({className:i,showIcon:e=!1,...t},n)=>{const s=S.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return T.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:pe("rounded-md h-8 flex gap-2 px-2 items-center",i),...t,children:[e&&T.jsx(u1,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),T.jsx(u1,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Vz.displayName="SidebarMenuSkeleton";const Gz=S.forwardRef(({className:i,...e},t)=>T.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:pe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",i),...e}));Gz.displayName="SidebarMenuSub";const Xz=S.forwardRef(({...i},e)=>T.jsx("li",{ref:e,...i}));Xz.displayName="SidebarMenuSubItem";const Kz=S.forwardRef(({asChild:i=!1,size:e="md",isActive:t,className:n,...s},a)=>{const l=i?cr:"a";return T.jsx(l,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:pe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});Kz.displayName="SidebarMenuSubButton";function Yz({items:i}){const e=Dg();return T.jsx(uP,{children:T.jsx(Q0,{children:i.map(t=>T.jsx(J0,{children:T.jsxs(Z0,{tooltip:t.title,onClick:()=>e(t.url),children:[t.icon&&T.jsx(t.icon,{}),T.jsx("span",{children:t.title})]})},t.title))})})}var ex="Avatar",[qz,BB]=rs(ex),[Qz,dP]=qz(ex),hP=S.forwardRef((i,e)=>{const{__scopeAvatar:t,...n}=i,[s,a]=S.useState("idle");return T.jsx(Qz,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:T.jsx(Qe.span,{...n,ref:e})})});hP.displayName=ex;var fP="AvatarImage",pP=S.forwardRef((i,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:s=()=>{},...a}=i,l=dP(fP,t),c=Jz(n,a.referrerPolicy),h=Gt(f=>{s(f),l.onImageLoadingStatusChange(f)});return Jr(()=>{c!=="idle"&&h(c)},[c,h]),c==="loaded"?T.jsx(Qe.img,{...a,ref:e,src:n}):null});pP.displayName=fP;var mP="AvatarFallback",gP=S.forwardRef((i,e)=>{const{__scopeAvatar:t,delayMs:n,...s}=i,a=dP(mP,t),[l,c]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(h)}},[n]),l&&a.imageLoadingStatus!=="loaded"?T.jsx(Qe.span,{...s,ref:e}):null});gP.displayName=mP;function Jz(i,e){const[t,n]=S.useState("idle");return Jr(()=>{if(!i){n("error");return}let s=!0;const a=new window.Image,l=c=>()=>{s&&n(c)};return n("loading"),a.onload=l("loaded"),a.onerror=l("error"),a.src=i,e&&(a.referrerPolicy=e),()=>{s=!1}},[i,e]),t}var vP=hP,yP=pP,wP=gP;const i0=S.forwardRef(({className:i,...e},t)=>T.jsx(vP,{ref:t,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",i),...e}));i0.displayName=vP.displayName;const o0=S.forwardRef(({className:i,...e},t)=>T.jsx(yP,{ref:t,className:pe("aspect-square h-full w-full",i),...e}));o0.displayName=yP.displayName;const a0=S.forwardRef(({className:i,...e},t)=>T.jsx(wP,{ref:t,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",i),...e}));a0.displayName=wP.displayName;function bP(i){const e=i+"CollectionProvider",[t,n]=rs(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:b,children:x}=w,E=Sn.useRef(null),_=Sn.useRef(new Map).current;return T.jsx(s,{scope:b,itemMap:_,collectionRef:E,children:x})};l.displayName=e;const c=i+"CollectionSlot",h=Sn.forwardRef((w,b)=>{const{scope:x,children:E}=w,_=a(c,x),R=rt(b,_.collectionRef);return T.jsx(cr,{ref:R,children:E})});h.displayName=c;const f=i+"CollectionItemSlot",p="data-radix-collection-item",g=Sn.forwardRef((w,b)=>{const{scope:x,children:E,..._}=w,R=Sn.useRef(null),N=rt(b,R),I=a(f,x);return Sn.useEffect(()=>(I.itemMap.set(R,{ref:R,..._}),()=>void I.itemMap.delete(R))),T.jsx(cr,{[p]:"",ref:N,children:E})});g.displayName=f;function v(w){const b=a(i+"CollectionConsumer",w);return Sn.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((I,D)=>_.indexOf(I.ref.current)-_.indexOf(D.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:g},v,n]}var Zz=S.createContext(void 0);function xP(i){const e=S.useContext(Zz);return i||e||"ltr"}var Cw="rovingFocusGroup.onEntryFocus",e3={bubbles:!1,cancelable:!0},rv="RovingFocusGroup",[l0,AP,t3]=bP(rv),[n3,SP]=rs(rv,[t3]),[r3,s3]=n3(rv),EP=S.forwardRef((i,e)=>T.jsx(l0.Provider,{scope:i.__scopeRovingFocusGroup,children:T.jsx(l0.Slot,{scope:i.__scopeRovingFocusGroup,children:T.jsx(i3,{...i,ref:e})})}));EP.displayName=rv;var i3=S.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=i,v=S.useRef(null),w=rt(e,v),b=xP(a),[x=null,E]=Tu({prop:l,defaultProp:c,onChange:h}),[_,R]=S.useState(!1),N=Gt(f),I=AP(t),D=S.useRef(!1),[z,O]=S.useState(0);return S.useEffect(()=>{const W=v.current;if(W)return W.addEventListener(Cw,N),()=>W.removeEventListener(Cw,N)},[N]),T.jsx(r3,{scope:t,orientation:n,dir:b,loop:s,currentTabStopId:x,onItemFocus:S.useCallback(W=>E(W),[E]),onItemShiftTab:S.useCallback(()=>R(!0),[]),onFocusableItemAdd:S.useCallback(()=>O(W=>W+1),[]),onFocusableItemRemove:S.useCallback(()=>O(W=>W-1),[]),children:T.jsx(Qe.div,{tabIndex:_||z===0?-1:0,"data-orientation":n,...g,ref:w,style:{outline:"none",...i.style},onMouseDown:xe(i.onMouseDown,()=>{D.current=!0}),onFocus:xe(i.onFocus,W=>{const Y=!D.current;if(W.target===W.currentTarget&&Y&&!_){const te=new CustomEvent(Cw,e3);if(W.currentTarget.dispatchEvent(te),!te.defaultPrevented){const se=I().filter(K=>K.focusable),J=se.find(K=>K.active),oe=se.find(K=>K.id===x),ve=[J,oe,...se].filter(Boolean).map(K=>K.ref.current);TP(ve,p)}}D.current=!1}),onBlur:xe(i.onBlur,()=>R(!1))})})}),_P="RovingFocusGroupItem",CP=S.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:s=!1,tabStopId:a,...l}=i,c=vl(),h=a||c,f=s3(_P,t),p=f.currentTabStopId===h,g=AP(t),{onFocusableItemAdd:v,onFocusableItemRemove:w}=f;return S.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),T.jsx(l0.ItemSlot,{scope:t,id:h,focusable:n,active:s,children:T.jsx(Qe.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:xe(i.onMouseDown,b=>{n?f.onItemFocus(h):b.preventDefault()}),onFocus:xe(i.onFocus,()=>f.onItemFocus(h)),onKeyDown:xe(i.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=l3(b,f.orientation,f.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=g().filter(R=>R.focusable).map(R=>R.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const R=_.indexOf(b.currentTarget);_=f.loop?c3(_,R+1):_.slice(R+1)}setTimeout(()=>TP(_))}})})})});CP.displayName=_P;var o3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a3(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function l3(i,e,t){const n=a3(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return o3[n]}function TP(i,e=!1){const t=document.activeElement;for(const n of i)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function c3(i,e){return i.map((t,n)=>i[(e+n)%i.length])}var u3=EP,d3=CP,c0=["Enter"," "],h3=["ArrowDown","PageUp","Home"],RP=["ArrowUp","PageDown","End"],f3=[...h3,...RP],p3={ltr:[...c0,"ArrowRight"],rtl:[...c0,"ArrowLeft"]},m3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bf="Menu",[th,g3,v3]=bP(Bf),[_l,PP]=rs(Bf,[v3,Zg,SP]),sv=Zg(),kP=SP(),[y3,Cl]=_l(Bf),[w3,Hf]=_l(Bf),MP=i=>{const{__scopeMenu:e,open:t=!1,children:n,dir:s,onOpenChange:a,modal:l=!0}=i,c=sv(e),[h,f]=S.useState(null),p=S.useRef(!1),g=Gt(a),v=xP(s);return S.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),T.jsx(BR,{...c,children:T.jsx(y3,{scope:e,open:t,onOpenChange:g,content:h,onContentChange:f,children:T.jsx(w3,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:l,children:n})})})};MP.displayName=Bf;var b3="MenuAnchor",tx=S.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i,s=sv(t);return T.jsx(HR,{...s,...n,ref:e})});tx.displayName=b3;var nx="MenuPortal",[x3,NP]=_l(nx,{forceMount:void 0}),IP=i=>{const{__scopeMenu:e,forceMount:t,children:n,container:s}=i,a=Cl(nx,e);return T.jsx(x3,{scope:e,forceMount:t,children:T.jsx(ss,{present:t||a.open,children:T.jsx(Kg,{asChild:!0,container:s,children:n})})})};IP.displayName=nx;var Rr="MenuContent",[A3,rx]=_l(Rr),LP=S.forwardRef((i,e)=>{const t=NP(Rr,i.__scopeMenu),{forceMount:n=t.forceMount,...s}=i,a=Cl(Rr,i.__scopeMenu),l=Hf(Rr,i.__scopeMenu);return T.jsx(th.Provider,{scope:i.__scopeMenu,children:T.jsx(ss,{present:n||a.open,children:T.jsx(th.Slot,{scope:i.__scopeMenu,children:l.modal?T.jsx(S3,{...s,ref:e}):T.jsx(E3,{...s,ref:e})})})})}),S3=S.forwardRef((i,e)=>{const t=Cl(Rr,i.__scopeMenu),n=S.useRef(null),s=rt(e,n);return S.useEffect(()=>{const a=n.current;if(a)return ZT(a)},[]),T.jsx(sx,{...i,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:xe(i.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),E3=S.forwardRef((i,e)=>{const t=Cl(Rr,i.__scopeMenu);return T.jsx(sx,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),sx=S.forwardRef((i,e)=>{const{__scopeMenu:t,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,disableOutsideScroll:b,...x}=i,E=Cl(Rr,t),_=Hf(Rr,t),R=sv(t),N=kP(t),I=g3(t),[D,z]=S.useState(null),O=S.useRef(null),W=rt(e,O,E.onContentChange),Y=S.useRef(0),te=S.useRef(""),se=S.useRef(0),J=S.useRef(null),oe=S.useRef("right"),q=S.useRef(0),ve=b?D0:S.Fragment,K=b?{as:cr,allowPinchZoom:!0}:void 0,Z=X=>{var ye,Ne;const Q=te.current+X,F=I().filter(Fe=>!Fe.disabled),G=document.activeElement,le=(ye=F.find(Fe=>Fe.ref.current===G))==null?void 0:ye.textValue,Ee=F.map(Fe=>Fe.textValue),Me=O3(Ee,Q,le),Se=(Ne=F.find(Fe=>Fe.textValue===Me))==null?void 0:Ne.ref.current;(function Fe(bt){te.current=bt,window.clearTimeout(Y.current),bt!==""&&(Y.current=window.setTimeout(()=>Fe(""),1e3))})(Q),Se&&setTimeout(()=>Se.focus())};S.useEffect(()=>()=>window.clearTimeout(Y.current),[]),WT();const V=S.useCallback(X=>{var F,G;return oe.current===((F=J.current)==null?void 0:F.side)&&j3(X,(G=J.current)==null?void 0:G.area)},[]);return T.jsx(A3,{scope:t,searchRef:te,onItemEnter:S.useCallback(X=>{V(X)&&X.preventDefault()},[V]),onItemLeave:S.useCallback(X=>{var Q;V(X)||((Q=O.current)==null||Q.focus(),z(null))},[V]),onTriggerLeave:S.useCallback(X=>{V(X)&&X.preventDefault()},[V]),pointerGraceTimerRef:se,onPointerGraceIntentChange:S.useCallback(X=>{J.current=X},[]),children:T.jsx(ve,{...K,children:T.jsx(L0,{asChild:!0,trapped:s,onMountAutoFocus:xe(a,X=>{var Q;X.preventDefault(),(Q=O.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:T.jsx(Xg,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,children:T.jsx(u3,{asChild:!0,...N,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:D,onCurrentTabStopIdChange:z,onEntryFocus:xe(h,X=>{_.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(UR,{role:"menu","aria-orientation":"vertical","data-state":qP(E.open),"data-radix-menu-content":"",dir:_.dir,...R,...x,ref:W,style:{outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,X=>{const F=X.target.closest("[data-radix-menu-content]")===X.currentTarget,G=X.ctrlKey||X.altKey||X.metaKey,le=X.key.length===1;F&&(X.key==="Tab"&&X.preventDefault(),!G&&le&&Z(X.key));const Ee=O.current;if(X.target!==Ee||!f3.includes(X.key))return;X.preventDefault();const Se=I().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);RP.includes(X.key)&&Se.reverse(),L3(Se)}),onBlur:xe(i.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(Y.current),te.current="")}),onPointerMove:xe(i.onPointerMove,nh(X=>{const Q=X.target,F=q.current!==X.clientX;if(X.currentTarget.contains(Q)&&F){const G=X.clientX>q.current?"right":"left";oe.current=G,q.current=X.clientX}}))})})})})})})});LP.displayName=Rr;var _3="MenuGroup",ix=S.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return T.jsx(Qe.div,{role:"group",...n,ref:e})});ix.displayName=_3;var C3="MenuLabel",DP=S.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return T.jsx(Qe.div,{...n,ref:e})});DP.displayName=C3;var fg="MenuItem",w1="menu.itemSelect",iv=S.forwardRef((i,e)=>{const{disabled:t=!1,onSelect:n,...s}=i,a=S.useRef(null),l=Hf(fg,i.__scopeMenu),c=rx(fg,i.__scopeMenu),h=rt(e,a),f=S.useRef(!1),p=()=>{const g=a.current;if(!t&&g){const v=new CustomEvent(w1,{bubbles:!0,cancelable:!0});g.addEventListener(w1,w=>n==null?void 0:n(w),{once:!0}),U1(g,v),v.defaultPrevented?f.current=!1:l.onClose()}};return T.jsx(OP,{...s,ref:h,disabled:t,onClick:xe(i.onClick,p),onPointerDown:g=>{var v;(v=i.onPointerDown)==null||v.call(i,g),f.current=!0},onPointerUp:xe(i.onPointerUp,g=>{var v;f.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:xe(i.onKeyDown,g=>{const v=c.searchRef.current!=="";t||v&&g.key===" "||c0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});iv.displayName=fg;var OP=S.forwardRef((i,e)=>{const{__scopeMenu:t,disabled:n=!1,textValue:s,...a}=i,l=rx(fg,t),c=kP(t),h=S.useRef(null),f=rt(e,h),[p,g]=S.useState(!1),[v,w]=S.useState("");return S.useEffect(()=>{const b=h.current;b&&w((b.textContent??"").trim())},[a.children]),T.jsx(th.ItemSlot,{scope:t,disabled:n,textValue:s??v,children:T.jsx(d3,{asChild:!0,...c,focusable:!n,children:T.jsx(Qe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:f,onPointerMove:xe(i.onPointerMove,nh(b=>{n?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(i.onPointerLeave,nh(b=>l.onItemLeave(b))),onFocus:xe(i.onFocus,()=>g(!0)),onBlur:xe(i.onBlur,()=>g(!1))})})})}),T3="MenuCheckboxItem",FP=S.forwardRef((i,e)=>{const{checked:t=!1,onCheckedChange:n,...s}=i;return T.jsx(HP,{scope:i.__scopeMenu,checked:t,children:T.jsx(iv,{role:"menuitemcheckbox","aria-checked":pg(t)?"mixed":t,...s,ref:e,"data-state":ax(t),onSelect:xe(s.onSelect,()=>n==null?void 0:n(pg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});FP.displayName=T3;var jP="MenuRadioGroup",[R3,P3]=_l(jP,{value:void 0,onValueChange:()=>{}}),$P=S.forwardRef((i,e)=>{const{value:t,onValueChange:n,...s}=i,a=Gt(n);return T.jsx(R3,{scope:i.__scopeMenu,value:t,onValueChange:a,children:T.jsx(ix,{...s,ref:e})})});$P.displayName=jP;var zP="MenuRadioItem",BP=S.forwardRef((i,e)=>{const{value:t,...n}=i,s=P3(zP,i.__scopeMenu),a=t===s.value;return T.jsx(HP,{scope:i.__scopeMenu,checked:a,children:T.jsx(iv,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":ax(a),onSelect:xe(n.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,t)},{checkForDefaultPrevented:!1})})})});BP.displayName=zP;var ox="MenuItemIndicator",[HP,k3]=_l(ox,{checked:!1}),UP=S.forwardRef((i,e)=>{const{__scopeMenu:t,forceMount:n,...s}=i,a=k3(ox,t);return T.jsx(ss,{present:n||pg(a.checked)||a.checked===!0,children:T.jsx(Qe.span,{...s,ref:e,"data-state":ax(a.checked)})})});UP.displayName=ox;var M3="MenuSeparator",WP=S.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i;return T.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});WP.displayName=M3;var N3="MenuArrow",VP=S.forwardRef((i,e)=>{const{__scopeMenu:t,...n}=i,s=sv(t);return T.jsx(WR,{...s,...n,ref:e})});VP.displayName=N3;var I3="MenuSub",[HB,GP]=_l(I3),Ud="MenuSubTrigger",XP=S.forwardRef((i,e)=>{const t=Cl(Ud,i.__scopeMenu),n=Hf(Ud,i.__scopeMenu),s=GP(Ud,i.__scopeMenu),a=rx(Ud,i.__scopeMenu),l=S.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,f={__scopeMenu:i.__scopeMenu},p=S.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),h(null)}},[c,h]),T.jsx(tx,{asChild:!0,...f,children:T.jsx(OP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":qP(t.open),...i,ref:If(e,s.onTriggerChange),onClick:g=>{var v;(v=i.onClick)==null||v.call(i,g),!(i.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:xe(i.onPointerMove,nh(g=>{a.onItemEnter(g),!g.defaultPrevented&&!i.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:xe(i.onPointerLeave,nh(g=>{var w,b;p();const v=(w=t.content)==null?void 0:w.getBoundingClientRect();if(v){const x=(b=t.content)==null?void 0:b.dataset.side,E=x==="right",_=E?-5:5,R=v[E?"left":"right"],N=v[E?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:R,y:v.top},{x:N,y:v.top},{x:N,y:v.bottom},{x:R,y:v.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:xe(i.onKeyDown,g=>{var w;const v=a.searchRef.current!=="";i.disabled||v&&g.key===" "||p3[n.dir].includes(g.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),g.preventDefault())})})})});XP.displayName=Ud;var KP="MenuSubContent",YP=S.forwardRef((i,e)=>{const t=NP(Rr,i.__scopeMenu),{forceMount:n=t.forceMount,...s}=i,a=Cl(Rr,i.__scopeMenu),l=Hf(Rr,i.__scopeMenu),c=GP(KP,i.__scopeMenu),h=S.useRef(null),f=rt(e,h);return T.jsx(th.Provider,{scope:i.__scopeMenu,children:T.jsx(ss,{present:n||a.open,children:T.jsx(th.Slot,{scope:i.__scopeMenu,children:T.jsx(sx,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;l.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:xe(i.onFocusOutside,p=>{p.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:xe(i.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:xe(i.onKeyDown,p=>{var w;const g=p.currentTarget.contains(p.target),v=m3[l.dir].includes(p.key);g&&v&&(a.onOpenChange(!1),(w=c.trigger)==null||w.focus(),p.preventDefault())})})})})})});YP.displayName=KP;function qP(i){return i?"open":"closed"}function pg(i){return i==="indeterminate"}function ax(i){return pg(i)?"indeterminate":i?"checked":"unchecked"}function L3(i){const e=document.activeElement;for(const t of i)if(t===e||(t.focus(),document.activeElement!==e))return}function D3(i,e){return i.map((t,n)=>i[(e+n)%i.length])}function O3(i,e,t){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=t?i.indexOf(t):-1;let l=D3(i,Math.max(a,0));s.length===1&&(l=l.filter(f=>f!==t));const h=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function F3(i,e){const{x:t,y:n}=i;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a].x,h=e[a].y,f=e[l].x,p=e[l].y;h>n!=p>n&&t<(f-c)*(n-h)/(p-h)+c&&(s=!s)}return s}function j3(i,e){if(!e)return!1;const t={x:i.clientX,y:i.clientY};return F3(t,e)}function nh(i){return e=>e.pointerType==="mouse"?i(e):void 0}var $3=MP,z3=tx,B3=IP,H3=LP,U3=ix,W3=DP,V3=iv,G3=FP,X3=$P,K3=BP,Y3=UP,q3=WP,Q3=VP,J3=XP,Z3=YP,lx="DropdownMenu",[eB,UB]=rs(lx,[PP]),Tn=PP(),[tB,QP]=eB(lx),JP=i=>{const{__scopeDropdownMenu:e,children:t,dir:n,open:s,defaultOpen:a,onOpenChange:l,modal:c=!0}=i,h=Tn(e),f=S.useRef(null),[p=!1,g]=Tu({prop:s,defaultProp:a,onChange:l});return T.jsx(tB,{scope:e,triggerId:vl(),triggerRef:f,contentId:vl(),open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:c,children:T.jsx($3,{...h,open:p,onOpenChange:g,dir:n,modal:c,children:t})})};JP.displayName=lx;var ZP="DropdownMenuTrigger",ek=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,disabled:n=!1,...s}=i,a=QP(ZP,t),l=Tn(t);return T.jsx(z3,{asChild:!0,...l,children:T.jsx(Qe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:If(e,a.triggerRef),onPointerDown:xe(i.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:xe(i.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});ek.displayName=ZP;var nB="DropdownMenuPortal",tk=i=>{const{__scopeDropdownMenu:e,...t}=i,n=Tn(e);return T.jsx(B3,{...n,...t})};tk.displayName=nB;var nk="DropdownMenuContent",rk=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=QP(nk,t),a=Tn(t),l=S.useRef(!1);return T.jsx(H3,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:xe(i.onCloseAutoFocus,c=>{var h;l.current||(h=s.triggerRef.current)==null||h.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:xe(i.onInteractOutside,c=>{const h=c.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;(!s.modal||p)&&(l.current=!0)}),style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rk.displayName=nk;var rB="DropdownMenuGroup",sB=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(U3,{...s,...n,ref:e})});sB.displayName=rB;var iB="DropdownMenuLabel",sk=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(W3,{...s,...n,ref:e})});sk.displayName=iB;var oB="DropdownMenuItem",ik=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(V3,{...s,...n,ref:e})});ik.displayName=oB;var aB="DropdownMenuCheckboxItem",ok=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(G3,{...s,...n,ref:e})});ok.displayName=aB;var lB="DropdownMenuRadioGroup",cB=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(X3,{...s,...n,ref:e})});cB.displayName=lB;var uB="DropdownMenuRadioItem",ak=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(K3,{...s,...n,ref:e})});ak.displayName=uB;var dB="DropdownMenuItemIndicator",lk=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(Y3,{...s,...n,ref:e})});lk.displayName=dB;var hB="DropdownMenuSeparator",ck=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(q3,{...s,...n,ref:e})});ck.displayName=hB;var fB="DropdownMenuArrow",pB=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(Q3,{...s,...n,ref:e})});pB.displayName=fB;var mB="DropdownMenuSubTrigger",uk=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(J3,{...s,...n,ref:e})});uk.displayName=mB;var gB="DropdownMenuSubContent",dk=S.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...n}=i,s=Tn(t);return T.jsx(Z3,{...s,...n,ref:e,style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dk.displayName=gB;var vB=JP,yB=ek,wB=tk,hk=rk,fk=sk,pk=ik,mk=ok,gk=ak,vk=lk,yk=ck,wk=uk,bk=dk;const bB=vB,xB=yB,AB=S.forwardRef(({className:i,inset:e,children:t,...n},s)=>T.jsxs(wk,{ref:s,className:pe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",i),...n,children:[t,T.jsx(h2,{className:"ml-auto"})]}));AB.displayName=wk.displayName;const SB=S.forwardRef(({className:i,...e},t)=>T.jsx(bk,{ref:t,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...e}));SB.displayName=bk.displayName;const xk=S.forwardRef(({className:i,sideOffset:e=4,...t},n)=>T.jsx(wB,{children:T.jsx(hk,{ref:n,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...t})}));xk.displayName=hk.displayName;const Ak=S.forwardRef(({className:i,inset:e,...t},n)=>T.jsx(pk,{ref:n,className:pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",i),...t}));Ak.displayName=pk.displayName;const EB=S.forwardRef(({className:i,children:e,checked:t,...n},s)=>T.jsxs(mk,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),checked:t,...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(vk,{children:T.jsx(u2,{className:"h-4 w-4"})})}),e]}));EB.displayName=mk.displayName;const _B=S.forwardRef(({className:i,children:e,...t},n)=>T.jsxs(gk,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...t,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(vk,{children:T.jsx(g2,{className:"h-2 w-2 fill-current"})})}),e]}));_B.displayName=gk.displayName;const Sk=S.forwardRef(({className:i,inset:e,...t},n)=>T.jsx(fk,{ref:n,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",i),...t}));Sk.displayName=fk.displayName;const CB=S.forwardRef(({className:i,...e},t)=>T.jsx(yk,{ref:t,className:pe("-mx-1 my-1 h-px bg-muted",i),...e}));CB.displayName=yk.displayName;function TB({user:i}){const{isMobile:e}=zf();return T.jsx(Q0,{children:T.jsx(J0,{children:T.jsxs(bB,{children:[T.jsx(xB,{asChild:!0,children:T.jsxs(Z0,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[T.jsxs(i0,{className:"h-8 w-8 rounded-lg",children:[T.jsx(o0,{alt:i.name}),T.jsx(a0,{className:"rounded-lg",children:"CN"})]}),T.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[T.jsx("span",{className:"truncate font-semibold",children:i.name}),T.jsx("span",{className:"truncate text-xs",children:i.email})]}),T.jsx(p2,{className:"ml-auto size-4"})]})}),T.jsxs(xk,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:e?"bottom":"right",align:"end",sideOffset:4,children:[T.jsx(Sk,{className:"p-0 font-normal",children:T.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[T.jsxs(i0,{className:"h-8 w-8 rounded-lg",children:[T.jsx(o0,{alt:i.name}),T.jsx(a0,{className:"rounded-lg",children:"CN"})]}),T.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[T.jsx("span",{className:"truncate font-semibold",children:i.name}),T.jsx("span",{className:"truncate text-xs",children:i.email})]})]})}),T.jsxs(Ak,{children:[T.jsx(C2,{}),"Log out"]})]})]})})})}const b1={user:{name:"shadcn",email:"m@example.com"},navMain:[{title:"Dashboard",url:"/",icon:A2},{title:"Portfolio",url:"/",icon:E2},{title:"Transactions",url:"/transactions",icon:k2},{title:"Settings",url:"/settings",icon:N2}]};function RB({...i}){return T.jsxs(sP,{collapsible:"icon",...i,children:[T.jsx(cP,{children:T.jsx(Yz,{items:b1.navMain})}),T.jsx(lP,{children:T.jsx(TB,{user:b1.user})}),T.jsx(oP,{})]})}const Ek=S.forwardRef(({...i},e)=>T.jsx("nav",{ref:e,"aria-label":"breadcrumb",...i}));Ek.displayName="Breadcrumb";const _k=S.forwardRef(({className:i,...e},t)=>T.jsx("ol",{ref:t,className:pe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",i),...e}));_k.displayName="BreadcrumbList";const Ck=S.forwardRef(({className:i,...e},t)=>T.jsx("li",{ref:t,className:pe("inline-flex items-center gap-1.5",i),...e}));Ck.displayName="BreadcrumbItem";const PB=S.forwardRef(({asChild:i,className:e,...t},n)=>{const s=i?cr:"a";return T.jsx(s,{ref:n,className:pe("transition-colors hover:text-foreground",e),...t})});PB.displayName="BreadcrumbLink";const Tk=S.forwardRef(({className:i,...e},t)=>T.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:pe("font-normal text-foreground",i),...e}));Tk.displayName="BreadcrumbPage";function kB({children:i}){const e=Go(),t=n=>{switch(n){case"/":return"Dashboard";case"/settings":return"Settings";case"/transactions":return"Transactions";default:return"Dashboard"}};return T.jsxs(rP,{children:[T.jsx(RB,{}),T.jsxs(aP,{children:[T.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:T.jsxs("div",{className:"flex items-center gap-2 px-4",children:[T.jsx(iP,{className:"-ml-1"}),T.jsx(I0,{orientation:"vertical",className:"mr-2 h-4"}),T.jsx(Ek,{children:T.jsx(_k,{children:T.jsx(Ck,{children:T.jsx(Tk,{children:t(e.pathname)})})})})]})}),i]})]})}const Rk=S.forwardRef(({className:i,...e},t)=>T.jsx("div",{className:"relative w-full overflow-auto",children:T.jsx("table",{ref:t,className:pe("w-full caption-bottom text-sm",i),...e})}));Rk.displayName="Table";const Pk=S.forwardRef(({className:i,...e},t)=>T.jsx("thead",{ref:t,className:pe("[&_tr]:border-b",i),...e}));Pk.displayName="TableHeader";const kk=S.forwardRef(({className:i,...e},t)=>T.jsx("tbody",{ref:t,className:pe("[&_tr:last-child]:border-0",i),...e}));kk.displayName="TableBody";const MB=S.forwardRef(({className:i,...e},t)=>T.jsx("tfoot",{ref:t,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",i),...e}));MB.displayName="TableFooter";const u0=S.forwardRef(({className:i,...e},t)=>T.jsx("tr",{ref:t,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",i),...e}));u0.displayName="TableRow";const so=S.forwardRef(({className:i,...e},t)=>T.jsx("th",{ref:t,className:pe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),...e}));so.displayName="TableHead";const io=S.forwardRef(({className:i,...e},t)=>T.jsx("td",{ref:t,className:pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),...e}));io.displayName="TableCell";const Mk=S.forwardRef(({className:i,...e},t)=>T.jsx("caption",{ref:t,className:pe("mt-4 text-sm text-muted-foreground",i),...e}));Mk.displayName="TableCaption";function NB(){const[i,e]=S.useState([]),t=Dg();S.useEffect(()=>{const l=localStorage.getItem("investmentsData");if(l){const h=[...JSON.parse(l).transactions].sort((f,p)=>new Date(p.date).getTime()-new Date(f.date).getTime());e(h)}},[]);const n=l=>new Date(l).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),s=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(l),a=l=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:3,maximumFractionDigits:3}).format(l);return i.length?T.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:T.jsxs(Rk,{children:[T.jsx(Mk,{children:"A list of your mutual fund transactions."}),T.jsx(Pk,{children:T.jsxs(u0,{children:[T.jsx(so,{children:"Date"}),T.jsx(so,{children:"Fund Name"}),T.jsx(so,{children:"Folio"}),T.jsx(so,{children:"Type"}),T.jsx(so,{className:"text-right",children:"Amount"}),T.jsx(so,{className:"text-right",children:"Units"}),T.jsx(so,{className:"text-right",children:"NAV"})]})}),T.jsx(kk,{children:i.map((l,c)=>T.jsxs(u0,{children:[T.jsx(io,{children:n(l.date)}),T.jsx(io,{children:l.mfName}),T.jsx(io,{children:l.folio}),T.jsx(io,{className:l.type==="Investment"?"text-green-600 dark:text-green-400 font-medium":"text-red-600 dark:text-red-400 font-medium",children:l.type}),T.jsx(io,{className:`text-right ${l.type==="Investment"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:s(l.amount)}),T.jsx(io,{className:"text-right",children:a(l.units)}),T.jsx(io,{className:"text-right",children:a(l.price)})]},c))})]})}):T.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-4",children:[T.jsx(Cd,{text:"No transactions found. Please import your CAS first."}),T.jsx(Kd,{onClick:()=>t("/settings"),children:"Go to Import"})]})}function IB(){const{toasts:i}=oT();return T.jsxs(AF,{children:[i.map(function({id:e,title:t,description:n,action:s,...a}){return T.jsxs(LT,{...a,children:[T.jsxs("div",{className:"grid gap-1",children:[t&&T.jsx(FT,{children:t}),n&&T.jsx(jT,{children:n})]}),s,T.jsx(OT,{})]},e)}),T.jsx(IT,{})]})}function LB(){return T.jsxs(cL,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[T.jsx(kB,{children:T.jsxs(RI,{children:[T.jsx(fm,{path:"/dashboard",element:T.jsx(MF,{})}),T.jsx(fm,{path:"/settings",element:T.jsx(kF,{})}),T.jsx(fm,{path:"/transactions",element:T.jsx(NB,{})})]})}),T.jsx(IB,{})]})}jN.createRoot(document.getElementById("root")).render(T.jsx(S.StrictMode,{children:T.jsx(JI,{children:T.jsx(LB,{})})}));
